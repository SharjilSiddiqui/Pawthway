(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function VC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vp={exports:{}},wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function kC(){if(lE)return wu;lE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:s,key:c,ref:a!==void 0?a:null,props:l}}return wu.Fragment=t,wu.jsx=n,wu.jsxs=n,wu}var uE;function LC(){return uE||(uE=1,Vp.exports=kC()),Vp.exports}var x=LC(),kp={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function UC(){if(cE)return Rt;cE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function O(L,st,ut){this.props=L,this.context=st,this.refs=M,this.updater=ut||A}O.prototype.isReactComponent={},O.prototype.setState=function(L,st){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,st,"setState")},O.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=O.prototype;function H(L,st,ut){this.props=L,this.context=st,this.refs=M,this.updater=ut||A}var q=H.prototype=new B;q.constructor=H,C(q,O.prototype),q.isPureReactComponent=!0;var it=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function V(L,st,ut,ot,gt,Dt){return ut=Dt.ref,{$$typeof:e,type:L,key:st,ref:ut!==void 0?ut:null,props:Dt}}function R(L,st){return V(L.type,st,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function D(L){var st={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ut){return st[ut]})}var k=/\/+/g;function j(L,st){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):st.toString(36)}function N(){}function ne(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(st){L.status==="pending"&&(L.status="fulfilled",L.value=st)},function(st){L.status==="pending"&&(L.status="rejected",L.reason=st)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function $t(L,st,ut,ot,gt){var Dt=typeof L;(Dt==="undefined"||Dt==="boolean")&&(L=null);var At=!1;if(L===null)At=!0;else switch(Dt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(L.$$typeof){case e:case t:At=!0;break;case y:return At=L._init,$t(At(L._payload),st,ut,ot,gt)}}if(At)return gt=gt(L),At=ot===""?"."+j(L,0):ot,it(gt)?(ut="",At!=null&&(ut=At.replace(k,"$&/")+"/"),$t(gt,st,ut,"",function(fi){return fi})):gt!=null&&(I(gt)&&(gt=R(gt,ut+(gt.key==null||L&&L.key===gt.key?"":(""+gt.key).replace(k,"$&/")+"/")+At)),st.push(gt)),1;At=0;var ke=ot===""?".":ot+":";if(it(L))for(var te=0;te<L.length;te++)ot=L[te],Dt=ke+j(ot,te),At+=$t(ot,st,ut,Dt,gt);else if(te=E(L),typeof te=="function")for(L=te.call(L),te=0;!(ot=L.next()).done;)ot=ot.value,Dt=ke+j(ot,te++),At+=$t(ot,st,ut,Dt,gt);else if(Dt==="object"){if(typeof L.then=="function")return $t(ne(L),st,ut,ot,gt);throw st=String(L),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return At}function W(L,st,ut){if(L==null)return L;var ot=[],gt=0;return $t(L,ot,"","",function(Dt){return st.call(ut,Dt,gt++)}),ot}function at(L){if(L._status===-1){var st=L._result;st=st(),st.then(function(ut){(L._status===0||L._status===-1)&&(L._status=1,L._result=ut)},function(ut){(L._status===0||L._status===-1)&&(L._status=2,L._result=ut)}),L._status===-1&&(L._status=0,L._result=st)}if(L._status===1)return L._result.default;throw L._result}var ft=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function kt(){}return Rt.Children={map:W,forEach:function(L,st,ut){W(L,function(){st.apply(this,arguments)},ut)},count:function(L){var st=0;return W(L,function(){st++}),st},toArray:function(L){return W(L,function(st){return st})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Rt.Component=O,Rt.Fragment=n,Rt.Profiler=a,Rt.PureComponent=H,Rt.StrictMode=s,Rt.Suspense=m,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return J.H.useMemoCache(L)}},Rt.cache=function(L){return function(){return L.apply(null,arguments)}},Rt.cloneElement=function(L,st,ut){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ot=C({},L.props),gt=L.key,Dt=void 0;if(st!=null)for(At in st.ref!==void 0&&(Dt=void 0),st.key!==void 0&&(gt=""+st.key),st)!ct.call(st,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&st.ref===void 0||(ot[At]=st[At]);var At=arguments.length-2;if(At===1)ot.children=ut;else if(1<At){for(var ke=Array(At),te=0;te<At;te++)ke[te]=arguments[te+2];ot.children=ke}return V(L.type,gt,void 0,void 0,Dt,ot)},Rt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Rt.createElement=function(L,st,ut){var ot,gt={},Dt=null;if(st!=null)for(ot in st.key!==void 0&&(Dt=""+st.key),st)ct.call(st,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(gt[ot]=st[ot]);var At=arguments.length-2;if(At===1)gt.children=ut;else if(1<At){for(var ke=Array(At),te=0;te<At;te++)ke[te]=arguments[te+2];gt.children=ke}if(L&&L.defaultProps)for(ot in At=L.defaultProps,At)gt[ot]===void 0&&(gt[ot]=At[ot]);return V(L,Dt,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(L){return{$$typeof:f,render:L}},Rt.isValidElement=I,Rt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:at}},Rt.memo=function(L,st){return{$$typeof:p,type:L,compare:st===void 0?null:st}},Rt.startTransition=function(L){var st=J.T,ut={};J.T=ut;try{var ot=L(),gt=J.S;gt!==null&&gt(ut,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(kt,ft)}catch(Dt){ft(Dt)}finally{J.T=st}},Rt.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Rt.use=function(L){return J.H.use(L)},Rt.useActionState=function(L,st,ut){return J.H.useActionState(L,st,ut)},Rt.useCallback=function(L,st){return J.H.useCallback(L,st)},Rt.useContext=function(L){return J.H.useContext(L)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(L,st){return J.H.useDeferredValue(L,st)},Rt.useEffect=function(L,st,ut){var ot=J.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(L,st)},Rt.useId=function(){return J.H.useId()},Rt.useImperativeHandle=function(L,st,ut){return J.H.useImperativeHandle(L,st,ut)},Rt.useInsertionEffect=function(L,st){return J.H.useInsertionEffect(L,st)},Rt.useLayoutEffect=function(L,st){return J.H.useLayoutEffect(L,st)},Rt.useMemo=function(L,st){return J.H.useMemo(L,st)},Rt.useOptimistic=function(L,st){return J.H.useOptimistic(L,st)},Rt.useReducer=function(L,st,ut){return J.H.useReducer(L,st,ut)},Rt.useRef=function(L){return J.H.useRef(L)},Rt.useState=function(L){return J.H.useState(L)},Rt.useSyncExternalStore=function(L,st,ut){return J.H.useSyncExternalStore(L,st,ut)},Rt.useTransition=function(){return J.H.useTransition()},Rt.version="19.1.0",Rt}var hE;function fy(){return hE||(hE=1,kp.exports=UC()),kp.exports}var U=fy();const wa=VC(U);var Lp={exports:{}},Au={},Up={exports:{}},Fp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function FC(){return fE||(fE=1,function(e){function t(W,at){var ft=W.length;W.push(at);t:for(;0<ft;){var kt=ft-1>>>1,L=W[kt];if(0<a(L,at))W[kt]=at,W[ft]=L,ft=kt;else break t}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var at=W[0],ft=W.pop();if(ft!==at){W[0]=ft;t:for(var kt=0,L=W.length,st=L>>>1;kt<st;){var ut=2*(kt+1)-1,ot=W[ut],gt=ut+1,Dt=W[gt];if(0>a(ot,ft))gt<L&&0>a(Dt,ot)?(W[kt]=Dt,W[gt]=ft,kt=gt):(W[kt]=ot,W[ut]=ft,kt=ut);else if(gt<L&&0>a(Dt,ft))W[kt]=Dt,W[gt]=ft,kt=gt;else break t}}return at}function a(W,at){var ft=W.sortIndex-at.sortIndex;return ft!==0?ft:W.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,E=3,A=!1,C=!1,M=!1,O=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function it(W){for(var at=n(p);at!==null;){if(at.callback===null)s(p);else if(at.startTime<=W)s(p),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(p)}}function J(W){if(M=!1,it(W),!C)if(n(m)!==null)C=!0,ct||(ct=!0,j());else{var at=n(p);at!==null&&$t(J,at.startTime-W)}}var ct=!1,V=-1,R=5,I=-1;function D(){return O?!0:!(e.unstable_now()-I<R)}function k(){if(O=!1,ct){var W=e.unstable_now();I=W;var at=!0;try{t:{C=!1,M&&(M=!1,H(V),V=-1),A=!0;var ft=E;try{e:{for(it(W),_=n(m);_!==null&&!(_.expirationTime>W&&D());){var kt=_.callback;if(typeof kt=="function"){_.callback=null,E=_.priorityLevel;var L=kt(_.expirationTime<=W);if(W=e.unstable_now(),typeof L=="function"){_.callback=L,it(W),at=!0;break e}_===n(m)&&s(m),it(W)}else s(m);_=n(m)}if(_!==null)at=!0;else{var st=n(p);st!==null&&$t(J,st.startTime-W),at=!1}}break t}finally{_=null,E=ft,A=!1}at=void 0}}finally{at?j():ct=!1}}}var j;if(typeof q=="function")j=function(){q(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ne=N.port2;N.port1.onmessage=k,j=function(){ne.postMessage(null)}}else j=function(){B(k,0)};function $t(W,at){V=B(function(){W(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(W){switch(E){case 1:case 2:case 3:var at=3;break;default:at=E}var ft=E;E=at;try{return W()}finally{E=ft}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(W,at){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ft=E;E=W;try{return at()}finally{E=ft}},e.unstable_scheduleCallback=function(W,at,ft){var kt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?kt+ft:kt):ft=kt,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ft+L,W={id:y++,callback:at,priorityLevel:W,startTime:ft,expirationTime:L,sortIndex:-1},ft>kt?(W.sortIndex=ft,t(p,W),n(m)===null&&W===n(p)&&(M?(H(V),V=-1):M=!0,$t(J,ft-kt))):(W.sortIndex=L,t(m,W),C||A||(C=!0,ct||(ct=!0,j()))),W},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(W){var at=E;return function(){var ft=E;E=at;try{return W.apply(this,arguments)}finally{E=ft}}}}(Fp)),Fp}var dE;function jC(){return dE||(dE=1,Up.exports=FC()),Up.exports}var jp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function BC(){if(mE)return nn;mE=1;var e=fy();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},nn.flushSync=function(m){var p=c.T,y=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=y,s.d.f()}},nn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},nn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},nn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:A}):y==="script"&&s.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},nn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);s.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},nn.requestFormReset=function(m){s.d.r(m)},nn.unstable_batchedUpdates=function(m,p){return m(p)},nn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},nn.useFormStatus=function(){return c.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var pE;function zC(){if(pE)return jp.exports;pE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jp.exports=BC(),jp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function HC(){if(gE)return Au;gE=1;var e=jC(),t=fy(),n=zC();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,w=d.child;w;){if(w===o){b=!0,o=d,u=g;break}if(w===u){b=!0,u=d,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=d;break}if(w===u){b=!0,u=g,o=d;break}w=w.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),q=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case O:return"Profiler";case M:return"StrictMode";case J:return"Suspense";case ct:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case q:return(i.displayName||"Context")+".Provider";case H:return(i._context.displayName||"Context")+".Consumer";case it:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:ne(i.type)||"Memo";case R:r=i._payload,i=i._init;try{return ne(i(r))}catch{}}return null}var $t=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},kt=[],L=-1;function st(i){return{current:i}}function ut(i){0>L||(i.current=kt[L],kt[L]=null,L--)}function ot(i,r){L++,kt[L]=i.current,i.current=r}var gt=st(null),Dt=st(null),At=st(null),ke=st(null);function te(i,r){switch(ot(At,r),ot(Dt,i),ot(gt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?kT(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=kT(r),i=LT(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(gt),ot(gt,i)}function fi(){ut(gt),ut(Dt),ut(At)}function Ns(i){i.memoizedState!==null&&ot(ke,i);var r=gt.current,o=LT(r,i.type);r!==o&&(ot(Dt,i),ot(gt,o))}function Ki(i){Dt.current===i&&(ut(gt),ut(Dt)),ke.current===i&&(ut(ke),vu._currentValue=ft)}var Or=Object.prototype.hasOwnProperty,Mr=e.unstable_scheduleCallback,Vr=e.unstable_cancelCallback,pl=e.unstable_shouldYield,Ic=e.unstable_requestPaint,Fn=e.unstable_now,Vd=e.unstable_getCurrentPriorityLevel,gl=e.unstable_ImmediatePriority,ja=e.unstable_UserBlockingPriority,kr=e.unstable_NormalPriority,kd=e.unstable_LowPriority,Ba=e.unstable_IdlePriority,yl=e.log,Dc=e.unstable_setDisableYieldValue,he=null,Gt=null;function xn(i){if(typeof yl=="function"&&Dc(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(he,i)}catch{}}var tn=Math.clz32?Math.clz32:Lr,Nc=Math.log,Ld=Math.LN2;function Lr(i){return i>>>=0,i===0?32:31-(Nc(i)/Ld|0)|0}var Ur=256,Fr=4194304;function ni(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function za(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=ni(u):(b&=w,b!==0?d=ni(b):o||(o=w&~i,o!==0&&(d=ni(o))))):(w=u&~g,w!==0?d=ni(w):b!==0?d=ni(b):o||(o=u&~i,o!==0&&(d=ni(o)))),d===0?0:r!==0&&r!==d&&(r&g)===0&&(g=d&-d,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:d}function jr(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function vl(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _l(){var i=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),i}function Tl(){var i=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),i}function Yi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function $i(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function El(i,r,o,u,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,P=i.expirationTimes,Y=i.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-tn(o),et=1<<Z;w[Z]=0,P[Z]=-1;var $=Y[Z];if($!==null)for(Y[Z]=null,Z=0;Z<$.length;Z++){var X=$[Z];X!==null&&(X.lane&=-536870913)}o&=~et}u!==0&&di(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function di(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-tn(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function bl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-tn(o),d=1<<u;d&r|i[u]&r&&(i[u]|=r),o&=~d}}function Ps(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ha(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Os(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:nE(i.type))}function Pc(i,r){var o=at.p;try{return at.p=i,r()}finally{at.p=o}}var ie=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ie,we="__reactProps$"+ie,jn="__reactContainer$"+ie,wl="__reactEvents$"+ie,Ud="__reactListeners$"+ie,Ms="__reactHandles$"+ie,Oc="__reactResources$"+ie,Br="__reactMarker$"+ie;function Vs(i){delete i[Ie],delete i[we],delete i[wl],delete i[Ud],delete i[Ms]}function Xi(i){var r=i[Ie];if(r)return r;for(var o=i.parentNode;o;){if(r=o[jn]||o[Ie]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=BT(i);i!==null;){if(o=i[Ie])return o;i=BT(i)}return r}i=o,o=i.parentNode}return null}function mi(i){if(i=i[Ie]||i[jn]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function pi(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function hn(i){var r=i[Oc];return r||(r=i[Oc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ve(i){i[Br]=!0}var Al=new Set,qa={};function ii(i,r){Qi(i,r),Qi(i+"Capture",r)}function Qi(i,r){for(qa[i]=r,i=0;i<r.length;i++)Al.add(r[i])}var Mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vc={},zr={};function kc(i){return Or.call(zr,i)?!0:Or.call(Vc,i)?!1:Mc.test(i)?zr[i]=!0:(Vc[i]=!0,!1)}function ks(i,r,o){if(kc(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function gi(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function He(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}var Hr,Lc;function Wi(i){if(Hr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Hr=r&&r[1]||"",Lc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+i+Lc}var Ga=!1;function Ka(i,r){if(!i||Ga)return"";Ga=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(X){var $=X}Reflect.construct(i,[],et)}else{try{et.call()}catch(X){$=X}i.call(et.prototype)}}else{try{throw Error()}catch(X){$=X}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var P=b.split(`
`),Y=w.split(`
`);for(d=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(u===P.length||d===Y.length)for(u=P.length-1,d=Y.length-1;1<=u&&0<=d&&P[u]!==Y[d];)d--;for(;1<=u&&0<=d;u--,d--)if(P[u]!==Y[d]){if(u!==1||d!==1)do if(u--,d--,0>d||P[u]!==Y[d]){var Z=`
`+P[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Ga=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Wi(o):""}function Sl(i){switch(i.tag){case 26:case 27:case 5:return Wi(i.type);case 16:return Wi("Lazy");case 13:return Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 15:return Ka(i.type,!1);case 11:return Ka(i.type.render,!1);case 1:return Ka(i.type,!0);case 31:return Wi("Activity");default:return""}}function Ya(i){try{var r="";do r+=Sl(i),i=i.return;while(i);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xl(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Fd(i){var r=xl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),u=""+i[r];if(!i.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function $a(i){i._valueTracker||(i._valueTracker=Fd(i))}function Rl(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=xl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function qr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var jd=/[\n"\\]/g;function Ae(i){return i.replace(jd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Rn(i,r,o,u,d,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+fn(r)):i.value!==""+fn(r)&&(i.value=""+fn(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Ls(i,b,fn(r)):o!=null?Ls(i,b,fn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+fn(w):i.removeAttribute("name")}function Gr(i,r,o,u,d,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+fn(o):"",r=r!=null?""+fn(r):o,w||r===i.value||(i.value=r),i.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Ls(i,r,o){r==="number"&&qr(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Zi(i,r,o,u){if(i=i.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=r.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+fn(o),r=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}r!==null||i[d].disabled||(r=i[d])}r!==null&&(r.selected=!0)}}function Xt(i,r,o){if(r!=null&&(r=""+fn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+fn(o):""}function Kr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if($t(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=fn(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Bn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Yr.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Cl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&o[d]!==u&&Uc(i,d,u)}else for(var g in r)r.hasOwnProperty(g)&&Uc(i,g,r[g])}function Il(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(i){return zd.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ji=null;function zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ts=null,es=null;function Dl(i){var r=mi(i);if(r&&(i=r.stateNode)){var o=i[we]||null;t:switch(i=r.stateNode,r.type){case"input":if(Rn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ae(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var d=u[we]||null;if(!d)throw Error(s(90));Rn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Rl(u)}break t;case"textarea":Xt(i,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Zi(i,!!o.multiple,r,!1)}}}var yi=!1;function Fc(i,r,o){if(yi)return i(r,o);yi=!0;try{var u=i(r);return u}finally{if(yi=!1,(ts!==null||es!==null)&&(Ph(),ts&&(r=ts,i=es,es=ts=null,Dl(r),i)))for(r=0;r<i.length;r++)Dl(i[r])}}function $r(i,r){var o=i.stateNode;if(o===null)return null;var u=o[we]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(si)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Hn=!1}var vi=null,Us=null,ns=null;function Nl(){if(ns)return ns;var i,r=Us,o=r.length,u,d="value"in vi?vi.value:vi.textContent,g=d.length;for(i=0;i<o&&r[i]===d[i];i++);var b=o-i;for(u=1;u<=b&&r[o-u]===d[g-u];u++);return ns=d.slice(i,1<u?1-u:void 0)}function _i(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ti(){return!0}function Pl(){return!1}function Le(i){function r(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ti:Pl,this.isPropagationStopped=Pl,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),r}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Le(Ht),Qr=y({},Ht,{view:0,detail:0}),jc=Le(Qr),Wa,Za,Ei,Wr=y({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ei&&(Ei&&i.type==="mousemove"?(Wa=i.screenX-Ei.screenX,Za=i.screenY-Ei.screenY):Za=Wa=0,Ei=i),Wa)},movementY:function(i){return"movementY"in i?i.movementY:Za}}),qn=Le(Wr),Bc=y({},Wr,{dataTransfer:0}),Hd=Le(Bc),Zr=y({},Qr,{relatedTarget:0}),Ja=Le(Zr),Ol=y({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Le(Ol),zc=y({},Ht,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),eo=Le(zc),qd=y({},Ht,{data:0}),Ml=Le(qd),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vl(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=qc[i])?!!r[i]:!1}function ta(){return Vl}var Gc=y({},Qr,{key:function(i){if(i.key){var r=Jr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=_i(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Hc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(i){return i.type==="keypress"?_i(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_i(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),no=Le(Gc),Kc=y({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Le(Kc),is=y({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Yc=Le(is),$c=y({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xc=Le($c),Qc=y({},Wr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),io=Le(Qc),dn=y({},Ht,{newState:0,oldState:0}),Wc=Le(dn),Zc=[9,13,27,32],bi=si&&"CompositionEvent"in window,h=null;si&&"documentMode"in document&&(h=document.documentMode);var v=si&&"TextEvent"in window&&!h,T=si&&(!bi||h&&8<h&&11>=h),S=" ",G=!1;function Q(i,r){switch(i){case"keyup":return Zc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lt=!1;function De(i,r){switch(i){case"compositionend":return lt(r);case"keypress":return r.which!==32?null:(G=!0,S);case"textInput":return i=r.data,i===S&&G?null:i;default:return null}}function Ut(i,r){if(Lt)return i==="compositionend"||!bi&&Q(i,r)?(i=Nl(),ns=Us=vi=null,Lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return T&&r.locale!=="ko"?null:r.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!Ue[i.type]:r==="textarea"}function ss(i,r,o,u){ts?es?es.push(u):es=[u]:ts=u,r=Uh(r,"onChange"),0<r.length&&(o=new Qa("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var qe=null,wi=null;function Ll(i){NT(i,0)}function Jc(i){var r=pi(i);if(Rl(r))return i}function Zv(i,r){if(i==="change")return r}var Jv=!1;if(si){var Gd;if(si){var Kd="oninput"in document;if(!Kd){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),Kd=typeof t0.oninput=="function"}Gd=Kd}else Gd=!1;Jv=Gd&&(!document.documentMode||9<document.documentMode)}function e0(){qe&&(qe.detachEvent("onpropertychange",n0),wi=qe=null)}function n0(i){if(i.propertyName==="value"&&Jc(wi)){var r=[];ss(r,wi,i,zn(i)),Fc(Ll,r)}}function h2(i,r,o){i==="focusin"?(e0(),qe=r,wi=o,qe.attachEvent("onpropertychange",n0)):i==="focusout"&&e0()}function f2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Jc(wi)}function d2(i,r){if(i==="click")return Jc(r)}function m2(i,r){if(i==="input"||i==="change")return Jc(r)}function p2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Cn=typeof Object.is=="function"?Object.is:p2;function Ul(i,r){if(Cn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Or.call(r,d)||!Cn(i[d],r[d]))return!1}return!0}function i0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function s0(i,r){var o=i0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=i0(o)}}function r0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?r0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function a0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=qr(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=qr(i.document)}return r}function Yd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var g2=si&&"documentMode"in document&&11>=document.documentMode,so=null,$d=null,Fl=null,Xd=!1;function o0(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xd||so==null||so!==qr(u)||(u=so,"selectionStart"in u&&Yd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Fl&&Ul(Fl,u)||(Fl=u,u=Uh($d,"onSelect"),0<u.length&&(r=new Qa("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=so)))}function ea(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var ro={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Qd={},l0={};si&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function na(i){if(Qd[i])return Qd[i];if(!ro[i])return i;var r=ro[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in l0)return Qd[i]=r[o];return i}var u0=na("animationend"),c0=na("animationiteration"),h0=na("animationstart"),y2=na("transitionrun"),v2=na("transitionstart"),_2=na("transitioncancel"),f0=na("transitionend"),d0=new Map,Wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wd.push("scrollEnd");function ri(i,r){d0.set(i,r),ii(r,[i])}var m0=new WeakMap;function Gn(i,r){if(typeof i=="object"&&i!==null){var o=m0.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Ya(r)},m0.set(i,r),r)}return{value:i,source:r,stack:Ya(r)}}var Kn=[],ao=0,Zd=0;function th(){for(var i=ao,r=Zd=ao=0;r<i;){var o=Kn[r];Kn[r++]=null;var u=Kn[r];Kn[r++]=null;var d=Kn[r];Kn[r++]=null;var g=Kn[r];if(Kn[r++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&p0(o,d,g)}}function eh(i,r,o,u){Kn[ao++]=i,Kn[ao++]=r,Kn[ao++]=o,Kn[ao++]=u,Zd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Jd(i,r,o,u){return eh(i,r,o,u),nh(i)}function oo(i,r){return eh(i,null,null,r),nh(i)}function p0(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&r!==null&&(d=31-tn(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[r]:u.push(r),r.lane=o|536870912),g):null}function nh(i){if(50<cu)throw cu=0,rp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var lo={};function T2(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(i,r,o,u){return new T2(i,r,o,u)}function tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function rs(i,r){var o=i.alternate;return o===null?(o=In(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function g0(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ih(i,r,o,u,d,g){var b=0;if(u=i,typeof i=="function")tm(i)&&(b=1);else if(typeof i=="string")b=bC(i,o,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=In(31,o,r,d),i.elementType=I,i.lanes=g,i;case C:return ia(o.children,d,g,r);case M:b=8,d|=24;break;case O:return i=In(12,o,r,d|2),i.elementType=O,i.lanes=g,i;case J:return i=In(13,o,r,d),i.elementType=J,i.lanes=g,i;case ct:return i=In(19,o,r,d),i.elementType=ct,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:case q:b=10;break t;case H:b=9;break t;case it:b=11;break t;case V:b=14;break t;case R:b=16,u=null;break t}b=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=In(b,o,r,d),r.elementType=i,r.type=u,r.lanes=g,r}function ia(i,r,o,u){return i=In(7,i,u,r),i.lanes=o,i}function em(i,r,o){return i=In(6,i,null,r),i.lanes=o,i}function nm(i,r,o){return r=In(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var uo=[],co=0,sh=null,rh=0,Yn=[],$n=0,sa=null,as=1,os="";function ra(i,r){uo[co++]=rh,uo[co++]=sh,sh=i,rh=r}function y0(i,r,o){Yn[$n++]=as,Yn[$n++]=os,Yn[$n++]=sa,sa=i;var u=as;i=os;var d=32-tn(u)-1;u&=~(1<<d),o+=1;var g=32-tn(r)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,as=1<<32-tn(r)+d|o<<d|u,os=g+i}else as=1<<g|o<<d|u,os=i}function im(i){i.return!==null&&(ra(i,1),y0(i,1,0))}function sm(i){for(;i===sh;)sh=uo[--co],uo[co]=null,rh=uo[--co],uo[co]=null;for(;i===sa;)sa=Yn[--$n],Yn[$n]=null,os=Yn[--$n],Yn[$n]=null,as=Yn[--$n],Yn[$n]=null}var mn=null,fe=null,zt=!1,aa=null,Ai=!1,rm=Error(s(519));function oa(i){var r=Error(s(418,""));throw zl(Gn(r,i)),rm}function v0(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ie]=i,r[we]=u,o){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(o=0;o<fu.length;o++)Ot(fu[o],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Gr(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),$a(r);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Kr(r,u.value,u.defaultValue,u.children),$a(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||VT(r.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),u.onScroll!=null&&Ot("scroll",r),u.onScrollEnd!=null&&Ot("scrollend",r),u.onClick!=null&&(r.onclick=Fh),r=!0):r=!1,r||oa(i)}function _0(i){for(mn=i.return;mn;)switch(mn.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:mn=mn.return}}function jl(i){if(i!==mn)return!1;if(!zt)return _0(i),zt=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Ep(i.type,i.memoizedProps)),o=!o),o&&fe&&oa(i),_0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(r===0){fe=oi(i.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;i=i.nextSibling}fe=null}}else r===27?(r=fe,tr(i.type)?(i=Sp,Sp=null,fe=i):fe=r):fe=mn?oi(i.stateNode.nextSibling):null;return!0}function Bl(){fe=mn=null,zt=!1}function T0(){var i=aa;return i!==null&&(Tn===null?Tn=i:Tn.push.apply(Tn,i),aa=null),i}function zl(i){aa===null?aa=[i]:aa.push(i)}var am=st(null),la=null,ls=null;function Fs(i,r,o){ot(am,r._currentValue),r._currentValue=o}function us(i){i._currentValue=am.current,ut(am)}function om(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function lm(i,r,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=d;for(var P=0;P<r.length;P++)if(w.context===r[P]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),om(g.return,o,i),u||(b=null);break t}g=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),om(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Hl(i,r,o,u){i=null;for(var d=r,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=d.type;Cn(d.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(d===ke.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(vu):i=[vu])}d=d.return}i!==null&&lm(r,i,o,u),r.flags|=262144}function ah(i){for(i=i.firstContext;i!==null;){if(!Cn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ua(i){la=i,ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function en(i){return E0(la,i)}function oh(i,r){return la===null&&ua(i),E0(i,r)}function E0(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ls===null){if(i===null)throw Error(s(308));ls=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ls=ls.next=r;return o}var E2=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},b2=e.unstable_scheduleCallback,w2=e.unstable_NormalPriority,Pe={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new E2,data:new Map,refCount:0}}function ql(i){i.refCount--,i.refCount===0&&b2(w2,function(){i.controller.abort()})}var Gl=null,cm=0,ho=0,fo=null;function A2(i,r){if(Gl===null){var o=Gl=[];cm=0,ho=fp(),fo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return cm++,r.then(b0,b0),r}function b0(){if(--cm===0&&Gl!==null){fo!==null&&(fo.status="fulfilled");var i=Gl;Gl=null,ho=0,fo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function S2(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<o.length;d++)(0,o[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var w0=W.S;W.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&A2(i,r),w0!==null&&w0(i,r)};var ca=st(null);function hm(){var i=ca.current;return i!==null?i:ee.pooledCache}function lh(i,r){r===null?ot(ca,ca.current):ot(ca,r.pool)}function A0(){var i=hm();return i===null?null:{parent:Pe._currentValue,pool:i}}var Kl=Error(s(460)),S0=Error(s(474)),uh=Error(s(542)),fm={then:function(){}};function x0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ch(){}function R0(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(ch,ch),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,I0(i),i;default:if(typeof r.status=="string")r.then(ch,ch);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,I0(i),i}throw Yl=r,Kl}}var Yl=null;function C0(){if(Yl===null)throw Error(s(459));var i=Yl;return Yl=null,i}function I0(i){if(i===Kl||i===uh)throw Error(s(483))}var js=!1;function dm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Bs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zs(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=nh(i),p0(i,null,o),r}return eh(i,u,r,o),nh(i)}function $l(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,bl(i,o)}}function pm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=r:g=g.next=r}else d=g=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var gm=!1;function Xl(){if(gm){var i=fo;if(i!==null)throw i}}function Ql(i,r,o,u){gm=!1;var d=i.updateQueue;js=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var P=w,Y=P.next;P.next=null,b===null?g=Y:b.next=Y,b=P;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==b&&(w===null?Z.firstBaseUpdate=Y:w.next=Y,Z.lastBaseUpdate=P))}if(g!==null){var et=d.baseState;b=0,Z=Y=P=null,w=g;do{var $=w.lane&-536870913,X=$!==w.lane;if(X?(Ft&$)===$:(u&$)===$){$!==0&&$===ho&&(gm=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var bt=i,vt=w;$=r;var Zt=o;switch(vt.tag){case 1:if(bt=vt.payload,typeof bt=="function"){et=bt.call(Zt,et,$);break t}et=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=vt.payload,$=typeof bt=="function"?bt.call(Zt,et,$):bt,$==null)break t;et=y({},et,$);break t;case 2:js=!0}}$=w.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[$]:X.push($))}else X={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(Y=Z=X,P=et):Z=Z.next=X,b|=$;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;X=w,w=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(P=et),d.baseState=P,d.firstBaseUpdate=Y,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),Qs|=b,i.lanes=b,i.memoizedState=et}}function D0(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function N0(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)D0(o[i],r)}var mo=st(null),hh=st(0);function P0(i,r){i=gs,ot(hh,i),ot(mo,r),gs=i|r.baseLanes}function ym(){ot(hh,gs),ot(mo,mo.current)}function vm(){gs=hh.current,ut(mo),ut(hh)}var Hs=0,Ct=null,Qt=null,Se=null,fh=!1,po=!1,ha=!1,dh=0,Wl=0,go=null,x2=0;function _e(){throw Error(s(321))}function _m(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Cn(i[o],r[o]))return!1;return!0}function Tm(i,r,o,u,d,g){return Hs=g,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?p_:g_,ha=!1,g=o(u,d),ha=!1,po&&(g=M0(r,o,u,d)),O0(i),g}function O0(i){W.H=_h;var r=Qt!==null&&Qt.next!==null;if(Hs=0,Se=Qt=Ct=null,fh=!1,Wl=0,go=null,r)throw Error(s(300));i===null||Fe||(i=i.dependencies,i!==null&&ah(i)&&(Fe=!0))}function M0(i,r,o,u){Ct=i;var d=0;do{if(po&&(go=null),Wl=0,po=!1,25<=d)throw Error(s(301));if(d+=1,Se=Qt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=O2,g=r(o,u)}while(po);return g}function R2(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Zl(r):r,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(Ct.flags|=1024),r}function Em(){var i=dh!==0;return dh=0,i}function bm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function wm(i){if(fh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}fh=!1}Hs=0,Se=Qt=Ct=null,po=!1,Wl=dh=0,go=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=i:Se=Se.next=i,Se}function xe(){if(Qt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var r=Se===null?Ct.memoizedState:Se.next;if(r!==null)Se=r,Qt=i;else{if(i===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Se===null?Ct.memoizedState=Se=i:Se=Se.next=i}return Se}function Am(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(i){var r=Wl;return Wl+=1,go===null&&(go=[]),i=R0(go,i,r),r=Ct,(Se===null?r.memoizedState:Se.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?p_:g_),i}function mh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zl(i);if(i.$$typeof===q)return en(i)}throw Error(s(438,String(i)))}function Sm(i){var r=null,o=Ct.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Am(),Ct.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=D;return r.index++,o}function cs(i,r){return typeof r=="function"?r(i):r}function ph(i){var r=xe();return xm(r,Qt,i)}function xm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}r.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{r=d.next;var w=b=null,P=null,Y=r,Z=!1;do{var et=Y.lane&-536870913;if(et!==Y.lane?(Ft&et)===et:(Hs&et)===et){var $=Y.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),et===ho&&(Z=!0);else if((Hs&$)===$){Y=Y.next,$===ho&&(Z=!0);continue}else et={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(w=P=et,b=g):P=P.next=et,Ct.lanes|=$,Qs|=$;et=Y.action,ha&&o(g,et),g=Y.hasEagerState?Y.eagerState:o(g,et)}else $={lane:et,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(w=P=$,b=g):P=P.next=$,Ct.lanes|=et,Qs|=et;Y=Y.next}while(Y!==null&&Y!==r);if(P===null?b=g:P.next=w,!Cn(g,i.memoizedState)&&(Fe=!0,Z&&(o=fo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=P,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Rm(i){var r=xe(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=r.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);Cn(g,r.memoizedState)||(Fe=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function V0(i,r,o){var u=Ct,d=xe(),g=zt;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Cn((Qt||d).memoizedState,o);b&&(d.memoizedState=o,Fe=!0),d=d.queue;var w=U0.bind(null,u,d,i);if(Jl(2048,8,w,[i]),d.getSnapshot!==r||b||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,yo(9,gh(),L0.bind(null,u,d,o,r),null),ee===null)throw Error(s(349));g||(Hs&124)!==0||k0(u,r,o)}return o}function k0(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Ct.updateQueue,r===null?(r=Am(),Ct.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function L0(i,r,o,u){r.value=o,r.getSnapshot=u,F0(r)&&j0(i)}function U0(i,r,o){return o(function(){F0(r)&&j0(i)})}function F0(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Cn(i,o)}catch{return!0}}function j0(i){var r=oo(i,2);r!==null&&Mn(r,i,2)}function Cm(i){var r=vn();if(typeof i=="function"){var o=i;if(i=o(),ha){xn(!0);try{o()}finally{xn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:i},r}function B0(i,r,o,u){return i.baseState=o,xm(i,Qt,typeof u=="function"?u:cs)}function C2(i,r,o,u,d){if(vh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,z0(r,g)):(g.next=o.next,r.pending=o.next=g)}}function z0(i,r){var o=r.action,u=r.payload,d=i.state;if(r.isTransition){var g=W.T,b={};W.T=b;try{var w=o(d,u),P=W.S;P!==null&&P(b,w),H0(i,r,w)}catch(Y){Im(i,r,Y)}finally{W.T=g}}else try{g=o(d,u),H0(i,r,g)}catch(Y){Im(i,r,Y)}}function H0(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){q0(i,r,u)},function(u){return Im(i,r,u)}):q0(i,r,o)}function q0(i,r,o){r.status="fulfilled",r.value=o,G0(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,z0(i,o)))}function Im(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,G0(r),r=r.next;while(r!==u)}i.action=null}function G0(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function K0(i,r){return r}function Y0(i,r){if(zt){var o=ee.formState;if(o!==null){t:{var u=Ct;if(zt){if(fe){e:{for(var d=fe,g=Ai;d.nodeType!==8;){if(!g){d=null;break e}if(d=oi(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){fe=oi(d.nextSibling),u=d.data==="F!";break t}}oa(u)}u=!1}u&&(r=o[0])}}return o=vn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K0,lastRenderedState:r},o.queue=u,o=f_.bind(null,Ct,u),u.dispatch=o,u=Cm(!1),g=Mm.bind(null,Ct,!1,u.queue),u=vn(),d={state:r,dispatch:null,action:i,pending:null},u.queue=d,o=C2.bind(null,Ct,d,g,o),d.dispatch=o,u.memoizedState=i,[r,o,!1]}function $0(i){var r=xe();return X0(r,Qt,i)}function X0(i,r,o){if(r=xm(i,r,K0)[0],i=ph(cs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Zl(r)}catch(b){throw b===Kl?uh:b}else u=r;r=xe();var d=r.queue,g=d.dispatch;return o!==r.memoizedState&&(Ct.flags|=2048,yo(9,gh(),I2.bind(null,d,o),null)),[u,g,i]}function I2(i,r){i.action=r}function Q0(i){var r=xe(),o=Qt;if(o!==null)return X0(r,o,i);xe(),r=r.memoizedState,o=xe();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function yo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=Am(),Ct.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function gh(){return{destroy:void 0,resource:void 0}}function W0(){return xe().memoizedState}function yh(i,r,o,u){var d=vn();u=u===void 0?null:u,Ct.flags|=i,d.memoizedState=yo(1|r,gh(),o,u)}function Jl(i,r,o,u){var d=xe();u=u===void 0?null:u;var g=d.memoizedState.inst;Qt!==null&&u!==null&&_m(u,Qt.memoizedState.deps)?d.memoizedState=yo(r,g,o,u):(Ct.flags|=i,d.memoizedState=yo(1|r,g,o,u))}function Z0(i,r){yh(8390656,8,i,r)}function J0(i,r){Jl(2048,8,i,r)}function t_(i,r){return Jl(4,2,i,r)}function e_(i,r){return Jl(4,4,i,r)}function n_(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function i_(i,r,o){o=o!=null?o.concat([i]):null,Jl(4,4,n_.bind(null,r,i),o)}function Dm(){}function s_(i,r){var o=xe();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&_m(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function r_(i,r){var o=xe();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&_m(r,u[1]))return u[0];if(u=i(),ha){xn(!0);try{i()}finally{xn(!1)}}return o.memoizedState=[u,r],u}function Nm(i,r,o){return o===void 0||(Hs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=o,i=lT(),Ct.lanes|=i,Qs|=i,o)}function a_(i,r,o,u){return Cn(o,r)?o:mo.current!==null?(i=Nm(i,o,u),Cn(i,r)||(Fe=!0),i):(Hs&42)===0?(Fe=!0,i.memoizedState=o):(i=lT(),Ct.lanes|=i,Qs|=i,r)}function o_(i,r,o,u,d){var g=at.p;at.p=g!==0&&8>g?g:8;var b=W.T,w={};W.T=w,Mm(i,!1,r,o);try{var P=d(),Y=W.S;if(Y!==null&&Y(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var Z=S2(P,u);tu(i,r,Z,On(i))}else tu(i,r,u,On(i))}catch(et){tu(i,r,{then:function(){},status:"rejected",reason:et},On())}finally{at.p=g,W.T=b}}function D2(){}function Pm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var d=l_(i).queue;o_(i,d,r,ft,o===null?D2:function(){return u_(i),o(u)})}function l_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ft},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function u_(i){var r=l_(i).next.queue;tu(i,r,{},On())}function Om(){return en(vu)}function c_(){return xe().memoizedState}function h_(){return xe().memoizedState}function N2(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=On();i=Bs(o);var u=zs(r,i,o);u!==null&&(Mn(u,r,o),$l(u,r,o)),r={cache:um()},i.payload=r;return}r=r.return}}function P2(i,r,o){var u=On();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},vh(i)?d_(r,o):(o=Jd(i,r,o,u),o!==null&&(Mn(o,i,u),m_(o,r,u)))}function f_(i,r,o){var u=On();tu(i,r,o,u)}function tu(i,r,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(vh(i))d_(r,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,w=g(b,o);if(d.hasEagerState=!0,d.eagerState=w,Cn(w,b))return eh(i,r,d,0),ee===null&&th(),!1}catch{}finally{}if(o=Jd(i,r,d,u),o!==null)return Mn(o,i,u),m_(o,r,u),!0}return!1}function Mm(i,r,o,u){if(u={lane:2,revertLane:fp(),action:u,hasEagerState:!1,eagerState:null,next:null},vh(i)){if(r)throw Error(s(479))}else r=Jd(i,o,u,2),r!==null&&Mn(r,i,2)}function vh(i){var r=i.alternate;return i===Ct||r!==null&&r===Ct}function d_(i,r){po=fh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function m_(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,bl(i,o)}}var _h={readContext:en,use:mh,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},p_={readContext:en,use:mh,useCallback:function(i,r){return vn().memoizedState=[i,r===void 0?null:r],i},useContext:en,useEffect:Z0,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,yh(4194308,4,n_.bind(null,r,i),o)},useLayoutEffect:function(i,r){return yh(4194308,4,i,r)},useInsertionEffect:function(i,r){yh(4,2,i,r)},useMemo:function(i,r){var o=vn();r=r===void 0?null:r;var u=i();if(ha){xn(!0);try{i()}finally{xn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=vn();if(o!==void 0){var d=o(r);if(ha){xn(!0);try{o(r)}finally{xn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=P2.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var r=vn();return i={current:i},r.memoizedState=i},useState:function(i){i=Cm(i);var r=i.queue,o=f_.bind(null,Ct,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Dm,useDeferredValue:function(i,r){var o=vn();return Nm(o,i,r)},useTransition:function(){var i=Cm(!1);return i=o_.bind(null,Ct,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Ct,d=vn();if(zt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),ee===null)throw Error(s(349));(Ft&124)!==0||k0(u,r,o)}d.memoizedState=o;var g={value:o,getSnapshot:r};return d.queue=g,Z0(U0.bind(null,u,g,i),[i]),u.flags|=2048,yo(9,gh(),L0.bind(null,u,g,o,r),null),o},useId:function(){var i=vn(),r=ee.identifierPrefix;if(zt){var o=os,u=as;o=(u&~(1<<32-tn(u)-1)).toString(32)+o,r=""+r+"R"+o,o=dh++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=x2++,r=""+r+"r"+o.toString(32)+"";return i.memoizedState=r},useHostTransitionStatus:Om,useFormState:Y0,useActionState:Y0,useOptimistic:function(i){var r=vn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Mm.bind(null,Ct,!0,o),o.dispatch=r,[i,r]},useMemoCache:Sm,useCacheRefresh:function(){return vn().memoizedState=N2.bind(null,Ct)}},g_={readContext:en,use:mh,useCallback:s_,useContext:en,useEffect:J0,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:e_,useMemo:r_,useReducer:ph,useRef:W0,useState:function(){return ph(cs)},useDebugValue:Dm,useDeferredValue:function(i,r){var o=xe();return a_(o,Qt.memoizedState,i,r)},useTransition:function(){var i=ph(cs)[0],r=xe().memoizedState;return[typeof i=="boolean"?i:Zl(i),r]},useSyncExternalStore:V0,useId:c_,useHostTransitionStatus:Om,useFormState:$0,useActionState:$0,useOptimistic:function(i,r){var o=xe();return B0(o,Qt,i,r)},useMemoCache:Sm,useCacheRefresh:h_},O2={readContext:en,use:mh,useCallback:s_,useContext:en,useEffect:J0,useImperativeHandle:i_,useInsertionEffect:t_,useLayoutEffect:e_,useMemo:r_,useReducer:Rm,useRef:W0,useState:function(){return Rm(cs)},useDebugValue:Dm,useDeferredValue:function(i,r){var o=xe();return Qt===null?Nm(o,i,r):a_(o,Qt.memoizedState,i,r)},useTransition:function(){var i=Rm(cs)[0],r=xe().memoizedState;return[typeof i=="boolean"?i:Zl(i),r]},useSyncExternalStore:V0,useId:c_,useHostTransitionStatus:Om,useFormState:Q0,useActionState:Q0,useOptimistic:function(i,r){var o=xe();return Qt!==null?B0(o,Qt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:h_},vo=null,eu=0;function Th(i){var r=eu;return eu+=1,vo===null&&(vo=[]),R0(vo,i,r)}function nu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Eh(i,r){throw r.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function y_(i){var r=i._init;return r(i._payload)}function v_(i){function r(z,F){if(i){var K=z.deletions;K===null?(z.deletions=[F],z.flags|=16):K.push(F)}}function o(z,F){if(!i)return null;for(;F!==null;)r(z,F),F=F.sibling;return null}function u(z){for(var F=new Map;z!==null;)z.key!==null?F.set(z.key,z):F.set(z.index,z),z=z.sibling;return F}function d(z,F){return z=rs(z,F),z.index=0,z.sibling=null,z}function g(z,F,K){return z.index=K,i?(K=z.alternate,K!==null?(K=K.index,K<F?(z.flags|=67108866,F):K):(z.flags|=67108866,F)):(z.flags|=1048576,F)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function w(z,F,K,tt){return F===null||F.tag!==6?(F=em(K,z.mode,tt),F.return=z,F):(F=d(F,K),F.return=z,F)}function P(z,F,K,tt){var dt=K.type;return dt===C?Z(z,F,K.props.children,tt,K.key):F!==null&&(F.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&y_(dt)===F.type)?(F=d(F,K.props),nu(F,K),F.return=z,F):(F=ih(K.type,K.key,K.props,null,z.mode,tt),nu(F,K),F.return=z,F)}function Y(z,F,K,tt){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=nm(K,z.mode,tt),F.return=z,F):(F=d(F,K.children||[]),F.return=z,F)}function Z(z,F,K,tt,dt){return F===null||F.tag!==7?(F=ia(K,z.mode,tt,dt),F.return=z,F):(F=d(F,K),F.return=z,F)}function et(z,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=em(""+F,z.mode,K),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return K=ih(F.type,F.key,F.props,null,z.mode,K),nu(K,F),K.return=z,K;case A:return F=nm(F,z.mode,K),F.return=z,F;case R:var tt=F._init;return F=tt(F._payload),et(z,F,K)}if($t(F)||j(F))return F=ia(F,z.mode,K,null),F.return=z,F;if(typeof F.then=="function")return et(z,Th(F),K);if(F.$$typeof===q)return et(z,oh(z,F),K);Eh(z,F)}return null}function $(z,F,K,tt){var dt=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return dt!==null?null:w(z,F,""+K,tt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===dt?P(z,F,K,tt):null;case A:return K.key===dt?Y(z,F,K,tt):null;case R:return dt=K._init,K=dt(K._payload),$(z,F,K,tt)}if($t(K)||j(K))return dt!==null?null:Z(z,F,K,tt,null);if(typeof K.then=="function")return $(z,F,Th(K),tt);if(K.$$typeof===q)return $(z,F,oh(z,K),tt);Eh(z,K)}return null}function X(z,F,K,tt,dt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return z=z.get(K)||null,w(F,z,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case E:return z=z.get(tt.key===null?K:tt.key)||null,P(F,z,tt,dt);case A:return z=z.get(tt.key===null?K:tt.key)||null,Y(F,z,tt,dt);case R:var Nt=tt._init;return tt=Nt(tt._payload),X(z,F,K,tt,dt)}if($t(tt)||j(tt))return z=z.get(K)||null,Z(F,z,tt,dt,null);if(typeof tt.then=="function")return X(z,F,K,Th(tt),dt);if(tt.$$typeof===q)return X(z,F,K,oh(F,tt),dt);Eh(F,tt)}return null}function bt(z,F,K,tt){for(var dt=null,Nt=null,mt=F,_t=F=0,Be=null;mt!==null&&_t<K.length;_t++){mt.index>_t?(Be=mt,mt=null):Be=mt.sibling;var Bt=$(z,mt,K[_t],tt);if(Bt===null){mt===null&&(mt=Be);break}i&&mt&&Bt.alternate===null&&r(z,mt),F=g(Bt,F,_t),Nt===null?dt=Bt:Nt.sibling=Bt,Nt=Bt,mt=Be}if(_t===K.length)return o(z,mt),zt&&ra(z,_t),dt;if(mt===null){for(;_t<K.length;_t++)mt=et(z,K[_t],tt),mt!==null&&(F=g(mt,F,_t),Nt===null?dt=mt:Nt.sibling=mt,Nt=mt);return zt&&ra(z,_t),dt}for(mt=u(mt);_t<K.length;_t++)Be=X(mt,z,_t,K[_t],tt),Be!==null&&(i&&Be.alternate!==null&&mt.delete(Be.key===null?_t:Be.key),F=g(Be,F,_t),Nt===null?dt=Be:Nt.sibling=Be,Nt=Be);return i&&mt.forEach(function(rr){return r(z,rr)}),zt&&ra(z,_t),dt}function vt(z,F,K,tt){if(K==null)throw Error(s(151));for(var dt=null,Nt=null,mt=F,_t=F=0,Be=null,Bt=K.next();mt!==null&&!Bt.done;_t++,Bt=K.next()){mt.index>_t?(Be=mt,mt=null):Be=mt.sibling;var rr=$(z,mt,Bt.value,tt);if(rr===null){mt===null&&(mt=Be);break}i&&mt&&rr.alternate===null&&r(z,mt),F=g(rr,F,_t),Nt===null?dt=rr:Nt.sibling=rr,Nt=rr,mt=Be}if(Bt.done)return o(z,mt),zt&&ra(z,_t),dt;if(mt===null){for(;!Bt.done;_t++,Bt=K.next())Bt=et(z,Bt.value,tt),Bt!==null&&(F=g(Bt,F,_t),Nt===null?dt=Bt:Nt.sibling=Bt,Nt=Bt);return zt&&ra(z,_t),dt}for(mt=u(mt);!Bt.done;_t++,Bt=K.next())Bt=X(mt,z,_t,Bt.value,tt),Bt!==null&&(i&&Bt.alternate!==null&&mt.delete(Bt.key===null?_t:Bt.key),F=g(Bt,F,_t),Nt===null?dt=Bt:Nt.sibling=Bt,Nt=Bt);return i&&mt.forEach(function(MC){return r(z,MC)}),zt&&ra(z,_t),dt}function Zt(z,F,K,tt){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:t:{for(var dt=K.key;F!==null;){if(F.key===dt){if(dt=K.type,dt===C){if(F.tag===7){o(z,F.sibling),tt=d(F,K.props.children),tt.return=z,z=tt;break t}}else if(F.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&y_(dt)===F.type){o(z,F.sibling),tt=d(F,K.props),nu(tt,K),tt.return=z,z=tt;break t}o(z,F);break}else r(z,F);F=F.sibling}K.type===C?(tt=ia(K.props.children,z.mode,tt,K.key),tt.return=z,z=tt):(tt=ih(K.type,K.key,K.props,null,z.mode,tt),nu(tt,K),tt.return=z,z=tt)}return b(z);case A:t:{for(dt=K.key;F!==null;){if(F.key===dt)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){o(z,F.sibling),tt=d(F,K.children||[]),tt.return=z,z=tt;break t}else{o(z,F);break}else r(z,F);F=F.sibling}tt=nm(K,z.mode,tt),tt.return=z,z=tt}return b(z);case R:return dt=K._init,K=dt(K._payload),Zt(z,F,K,tt)}if($t(K))return bt(z,F,K,tt);if(j(K)){if(dt=j(K),typeof dt!="function")throw Error(s(150));return K=dt.call(K),vt(z,F,K,tt)}if(typeof K.then=="function")return Zt(z,F,Th(K),tt);if(K.$$typeof===q)return Zt(z,F,oh(z,K),tt);Eh(z,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(o(z,F.sibling),tt=d(F,K),tt.return=z,z=tt):(o(z,F),tt=em(K,z.mode,tt),tt.return=z,z=tt),b(z)):o(z,F)}return function(z,F,K,tt){try{eu=0;var dt=Zt(z,F,K,tt);return vo=null,dt}catch(mt){if(mt===Kl||mt===uh)throw mt;var Nt=In(29,mt,null,z.mode);return Nt.lanes=tt,Nt.return=z,Nt}finally{}}}var _o=v_(!0),__=v_(!1),Xn=st(null),Si=null;function qs(i){var r=i.alternate;ot(Oe,Oe.current&1),ot(Xn,i),Si===null&&(r===null||mo.current!==null||r.memoizedState!==null)&&(Si=i)}function T_(i){if(i.tag===22){if(ot(Oe,Oe.current),ot(Xn,i),Si===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Si=i)}}else Gs()}function Gs(){ot(Oe,Oe.current),ot(Xn,Xn.current)}function hs(i){ut(Xn),Si===i&&(Si=null),ut(Oe)}var Oe=st(0);function bh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ap(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Vm(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var km={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=On(),d=Bs(u);d.payload=r,o!=null&&(d.callback=o),r=zs(i,d,u),r!==null&&(Mn(r,i,u),$l(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=On(),d=Bs(u);d.tag=1,d.payload=r,o!=null&&(d.callback=o),r=zs(i,d,u),r!==null&&(Mn(r,i,u),$l(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=On(),u=Bs(o);u.tag=2,r!=null&&(u.callback=r),r=zs(i,u,o),r!==null&&(Mn(r,i,o),$l(r,i,o))}};function E_(i,r,o,u,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!Ul(o,u)||!Ul(d,g):!0}function b_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&km.enqueueReplaceState(r,r.state,null)}function fa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var wh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function w_(i){wh(i)}function A_(i){console.error(i)}function S_(i){wh(i)}function Ah(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function x_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Lm(i,r,o){return o=Bs(o),o.tag=3,o.payload={element:null},o.callback=function(){Ah(i,r)},o}function R_(i){return i=Bs(i),i.tag=3,i}function C_(i,r,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){x_(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){x_(r,o,u),typeof d!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function M2(i,r,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Hl(r,o,d,!0),o=Xn.current,o!==null){switch(o.tag){case 13:return Si===null?op():o.alternate===null&&de===0&&(de=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===fm?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),up(i,u,d)),!1;case 22:return o.flags|=65536,u===fm?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),up(i,u,d)),!1}throw Error(s(435,o.tag))}return up(i,u,d),op(),!1}if(zt)return r=Xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==rm&&(i=Error(s(422),{cause:u}),zl(Gn(i,o)))):(u!==rm&&(r=Error(s(423),{cause:u}),zl(Gn(r,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Gn(u,o),d=Lm(i.stateNode,u,d),pm(i,d),de!==4&&(de=2)),!1;var g=Error(s(520),{cause:u});if(g=Gn(g,o),uu===null?uu=[g]:uu.push(g),de!==4&&(de=2),r===null)return!0;u=Gn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Lm(o.stateNode,u,i),pm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ws===null||!Ws.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=R_(d),C_(d,i,o,u),pm(o,d),!1}o=o.return}while(o!==null);return!1}var I_=Error(s(461)),Fe=!1;function Ge(i,r,o,u){r.child=i===null?__(r,null,o,u):_o(r,i.child,o,u)}function D_(i,r,o,u,d){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return ua(r),u=Tm(i,r,o,b,g,d),w=Em(),i!==null&&!Fe?(bm(i,r,d),fs(i,r,d)):(zt&&w&&im(r),r.flags|=1,Ge(i,r,u,d),r.child)}function N_(i,r,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!tm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,P_(i,r,g,u,d)):(i=ih(o.type,null,u,r,r.mode,d),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Gm(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ul,o(b,u)&&i.ref===r.ref)return fs(i,r,d)}return r.flags|=1,i=rs(g,u),i.ref=r.ref,i.return=r,r.child=i}function P_(i,r,o,u,d){if(i!==null){var g=i.memoizedProps;if(Ul(g,u)&&i.ref===r.ref)if(Fe=!1,r.pendingProps=u=g,Gm(i,d))(i.flags&131072)!==0&&(Fe=!0);else return r.lanes=i.lanes,fs(i,r,d)}return Um(i,r,o,u,d)}function O_(i,r,o){var u=r.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=r.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;r.childLanes=g&~u}else r.childLanes=0,r.child=null;return M_(i,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&lh(r,g!==null?g.cachePool:null),g!==null?P0(r,g):ym(),T_(r);else return r.lanes=r.childLanes=536870912,M_(i,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(lh(r,g.cachePool),P0(r,g),Gs(),r.memoizedState=null):(i!==null&&lh(r,null),ym(),Gs());return Ge(i,r,d,o),r.child}function M_(i,r,o,u){var d=hm();return d=d===null?null:{parent:Pe._currentValue,pool:d},r.memoizedState={baseLanes:o,cachePool:d},i!==null&&lh(r,null),ym(),T_(r),i!==null&&Hl(i,r,u,!0),null}function Sh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Um(i,r,o,u,d){return ua(r),o=Tm(i,r,o,u,void 0,d),u=Em(),i!==null&&!Fe?(bm(i,r,d),fs(i,r,d)):(zt&&u&&im(r),r.flags|=1,Ge(i,r,o,d),r.child)}function V_(i,r,o,u,d,g){return ua(r),r.updateQueue=null,o=M0(r,u,o,d),O0(i),u=Em(),i!==null&&!Fe?(bm(i,r,g),fs(i,r,g)):(zt&&u&&im(r),r.flags|=1,Ge(i,r,o,g),r.child)}function k_(i,r,o,u,d){if(ua(r),r.stateNode===null){var g=lo,b=o.contextType;typeof b=="object"&&b!==null&&(g=en(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=km,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},dm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?en(b):lo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Vm(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&km.enqueueReplaceState(g,g.state,null),Ql(r,u,g,d),Xl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var w=r.memoizedProps,P=fa(o,w);g.props=P;var Y=g.context,Z=o.contextType;b=lo,typeof Z=="object"&&Z!==null&&(b=en(Z));var et=o.getDerivedStateFromProps;Z=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Y!==b)&&b_(r,g,u,b),js=!1;var $=r.memoizedState;g.state=$,Ql(r,u,g,d),Xl(),Y=r.memoizedState,w||$!==Y||js?(typeof et=="function"&&(Vm(r,o,et,u),Y=r.memoizedState),(P=js||E_(r,o,P,u,$,Y,b))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),g.props=u,g.state=Y,g.context=b,u=P):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,mm(i,r),b=r.memoizedProps,Z=fa(o,b),g.props=Z,et=r.pendingProps,$=g.context,Y=o.contextType,P=lo,typeof Y=="object"&&Y!==null&&(P=en(Y)),w=o.getDerivedStateFromProps,(Y=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==et||$!==P)&&b_(r,g,u,P),js=!1,$=r.memoizedState,g.state=$,Ql(r,u,g,d),Xl();var X=r.memoizedState;b!==et||$!==X||js||i!==null&&i.dependencies!==null&&ah(i.dependencies)?(typeof w=="function"&&(Vm(r,o,w,u),X=r.memoizedState),(Z=js||E_(r,o,Z,u,$,X,P)||i!==null&&i.dependencies!==null&&ah(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,P)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),g.props=u,g.state=X,g.context=P,u=Z):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Sh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=_o(r,i.child,null,d),r.child=_o(r,null,o,d)):Ge(i,r,o,d),r.memoizedState=g.state,i=r.child):i=fs(i,r,d),i}function L_(i,r,o,u){return Bl(),r.flags|=256,Ge(i,r,o,u),r.child}var Fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(i){return{baseLanes:i,cachePool:A0()}}function Bm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Qn),i}function U_(i,r,o){var u=r.pendingProps,d=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Oe.current&2)!==0),b&&(d=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(zt){if(d?qs(r):Gs(),zt){var w=fe,P;if(P=w){t:{for(P=w,w=Ai;P.nodeType!==8;){if(!w){w=null;break t}if(P=oi(P.nextSibling),P===null){w=null;break t}}w=P}w!==null?(r.memoizedState={dehydrated:w,treeContext:sa!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},P=In(18,null,null,0),P.stateNode=w,P.return=r,r.child=P,mn=r,fe=null,P=!0):P=!1}P||oa(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Ap(w)?r.lanes=32:r.lanes=536870912,null;hs(r)}return w=u.children,u=u.fallback,d?(Gs(),d=r.mode,w=xh({mode:"hidden",children:w},d),u=ia(u,d,o,null),w.return=r,u.return=r,w.sibling=u,r.child=w,d=r.child,d.memoizedState=jm(o),d.childLanes=Bm(i,b,o),r.memoizedState=Fm,u):(qs(r),zm(r,w))}if(P=i.memoizedState,P!==null&&(w=P.dehydrated,w!==null)){if(g)r.flags&256?(qs(r),r.flags&=-257,r=Hm(i,r,o)):r.memoizedState!==null?(Gs(),r.child=i.child,r.flags|=128,r=null):(Gs(),d=u.fallback,w=r.mode,u=xh({mode:"visible",children:u.children},w),d=ia(d,w,o,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,_o(r,i.child,null,o),u=r.child,u.memoizedState=jm(o),u.childLanes=Bm(i,b,o),r.memoizedState=Fm,r=d);else if(qs(r),Ap(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Y=b.dgst;b=Y,u=Error(s(419)),u.stack="",u.digest=b,zl({value:u,source:null,stack:null}),r=Hm(i,r,o)}else if(Fe||Hl(i,r,o,!1),b=(o&i.childLanes)!==0,Fe||b){if(b=ee,b!==null&&(u=o&-o,u=(u&42)!==0?1:Ps(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,oo(i,u),Mn(b,i,u),I_;w.data==="$?"||op(),r=Hm(i,r,o)}else w.data==="$?"?(r.flags|=192,r.child=i.child,r=null):(i=P.treeContext,fe=oi(w.nextSibling),mn=r,zt=!0,aa=null,Ai=!1,i!==null&&(Yn[$n++]=as,Yn[$n++]=os,Yn[$n++]=sa,as=i.id,os=i.overflow,sa=r),r=zm(r,u.children),r.flags|=4096);return r}return d?(Gs(),d=u.fallback,w=r.mode,P=i.child,Y=P.sibling,u=rs(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,Y!==null?d=rs(Y,d):(d=ia(d,w,o,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,w=i.child.memoizedState,w===null?w=jm(o):(P=w.cachePool,P!==null?(Y=Pe._currentValue,P=P.parent!==Y?{parent:Y,pool:Y}:P):P=A0(),w={baseLanes:w.baseLanes|o,cachePool:P}),d.memoizedState=w,d.childLanes=Bm(i,b,o),r.memoizedState=Fm,u):(qs(r),o=i.child,i=o.sibling,o=rs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function zm(i,r){return r=xh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function xh(i,r){return i=In(22,i,null,r),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Hm(i,r,o){return _o(r,i.child,null,o),i=zm(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function F_(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),om(i.return,r,o)}function qm(i,r,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function j_(i,r,o){var u=r.pendingProps,d=u.revealOrder,g=u.tail;if(Ge(i,r,u.children,o),u=Oe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&F_(i,o,r);else if(i.tag===19)F_(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ot(Oe,u),d){case"forwards":for(o=r.child,d=null;o!==null;)i=o.alternate,i!==null&&bh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),qm(r,!1,d,o,g);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(i=d.alternate,i!==null&&bh(i)===null){r.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}qm(r,!0,o,null,g);break;case"together":qm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Qs|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Hl(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=rs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=rs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Gm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&ah(i)))}function V2(i,r,o){switch(r.tag){case 3:te(r,r.stateNode.containerInfo),Fs(r,Pe,i.memoizedState.cache),Bl();break;case 27:case 5:Ns(r);break;case 4:te(r,r.stateNode.containerInfo);break;case 10:Fs(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(qs(r),r.flags|=128,null):(o&r.child.childLanes)!==0?U_(i,r,o):(qs(r),i=fs(i,r,o),i!==null?i.sibling:null);qs(r);break;case 19:var d=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Hl(i,r,o,!1),u=(o&r.childLanes)!==0),d){if(u)return j_(i,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ot(Oe,Oe.current),u)break;return null;case 22:case 23:return r.lanes=0,O_(i,r,o);case 24:Fs(r,Pe,i.memoizedState.cache)}return fs(i,r,o)}function B_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Fe=!0;else{if(!Gm(i,o)&&(r.flags&128)===0)return Fe=!1,V2(i,r,o);Fe=(i.flags&131072)!==0}else Fe=!1,zt&&(r.flags&1048576)!==0&&y0(r,rh,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var u=r.elementType,d=u._init;if(u=d(u._payload),r.type=u,typeof u=="function")tm(u)?(i=fa(u,i),r.tag=1,r=k_(null,r,u,i,o)):(r.tag=0,r=Um(null,r,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===it){r.tag=11,r=D_(null,r,u,i,o);break t}else if(d===V){r.tag=14,r=N_(null,r,u,i,o);break t}}throw r=ne(u)||u,Error(s(306,r,""))}}return r;case 0:return Um(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,d=fa(u,r.pendingProps),k_(i,r,u,d,o);case 3:t:{if(te(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;d=g.element,mm(i,r),Ql(r,u,null,o);var b=r.memoizedState;if(u=b.cache,Fs(r,Pe,u),u!==g.cache&&lm(r,[Pe],o,!0),Xl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=L_(i,r,u,o);break t}else if(u!==d){d=Gn(Error(s(424)),r),zl(d),r=L_(i,r,u,o);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=oi(i.firstChild),mn=r,zt=!0,aa=null,Ai=!0,o=__(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Bl(),u===d){r=fs(i,r,o);break t}Ge(i,r,u,o)}r=r.child}return r;case 26:return Sh(i,r),i===null?(o=GT(r.type,null,r.pendingProps,null))?r.memoizedState=o:zt||(o=r.type,i=r.pendingProps,u=jh(At.current).createElement(o),u[Ie]=r,u[we]=i,Ye(u,o,i),ve(u),r.stateNode=u):r.memoizedState=GT(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return Ns(r),i===null&&zt&&(u=r.stateNode=zT(r.type,r.pendingProps,At.current),mn=r,Ai=!0,d=fe,tr(r.type)?(Sp=d,fe=oi(u.firstChild)):fe=d),Ge(i,r,r.pendingProps.children,o),Sh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&zt&&((d=u=fe)&&(u=uC(u,r.type,r.pendingProps,Ai),u!==null?(r.stateNode=u,mn=r,fe=oi(u.firstChild),Ai=!1,d=!0):d=!1),d||oa(r)),Ns(r),d=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,Ep(d,g)?u=null:b!==null&&Ep(d,b)&&(r.flags|=32),r.memoizedState!==null&&(d=Tm(i,r,R2,null,null,o),vu._currentValue=d),Sh(i,r),Ge(i,r,u,o),r.child;case 6:return i===null&&zt&&((i=o=fe)&&(o=cC(o,r.pendingProps,Ai),o!==null?(r.stateNode=o,mn=r,fe=null,i=!0):i=!1),i||oa(r)),null;case 13:return U_(i,r,o);case 4:return te(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=_o(r,null,u,o):Ge(i,r,u,o),r.child;case 11:return D_(i,r,r.type,r.pendingProps,o);case 7:return Ge(i,r,r.pendingProps,o),r.child;case 8:return Ge(i,r,r.pendingProps.children,o),r.child;case 12:return Ge(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Fs(r,r.type,u.value),Ge(i,r,u.children,o),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,ua(r),d=en(d),u=u(d),r.flags|=1,Ge(i,r,u,o),r.child;case 14:return N_(i,r,r.type,r.pendingProps,o);case 15:return P_(i,r,r.type,r.pendingProps,o);case 19:return j_(i,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},i===null?(o=xh(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=rs(i.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return O_(i,r,o);case 24:return ua(r),u=en(Pe),i===null?(d=hm(),d===null&&(d=ee,g=um(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),r.memoizedState={parent:u,cache:d},dm(r),Fs(r,Pe,d)):((i.lanes&o)!==0&&(mm(i,r),Ql(r,null,null,o),Xl()),d=i.memoizedState,g=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Fs(r,Pe,u)):(u=g.cache,Fs(r,Pe,u),u!==d.cache&&lm(r,[Pe],o,!0))),Ge(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ds(i){i.flags|=4}function z_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!QT(r)){if(r=Xn.current,r!==null&&((Ft&4194048)===Ft?Si!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||r!==Si))throw Yl=fm,S0;i.flags|=8192}}function Rh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Tl():536870912,i.lanes|=r,wo|=r)}function iu(i,r){if(!zt)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ae(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function k2(i,r,o){var u=r.pendingProps;switch(sm(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(r),null;case 1:return ae(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),us(Pe),fi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(jl(r)?ds(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,T0())),ae(r),null;case 26:return o=r.memoizedState,i===null?(ds(r),o!==null?(ae(r),z_(r,o)):(ae(r),r.flags&=-16777217)):o?o!==i.memoizedState?(ds(r),ae(r),z_(r,o)):(ae(r),r.flags&=-16777217):(i.memoizedProps!==u&&ds(r),ae(r),r.flags&=-16777217),null;case 27:Ki(r),o=At.current;var d=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ae(r),null}i=gt.current,jl(r)?v0(r):(i=zT(d,u,o),r.stateNode=i,ds(r))}return ae(r),null;case 5:if(Ki(r),o=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ae(r),null}if(i=gt.current,jl(r))v0(r);else{switch(d=jh(At.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Ie]=r,i[we]=u;t:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break t;for(;d.sibling===null;){if(d.return===null||d.return===r)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=i;t:switch(Ye(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ds(r)}}return ae(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&ds(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=At.current,jl(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,d=mn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ie]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||VT(i.nodeValue,o)),i||oa(r)}else i=jh(i).createTextNode(u),i[Ie]=r,r.stateNode=i}return ae(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=jl(r),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ie]=r}else Bl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ae(r),d=!1}else d=T0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(hs(r),r):(hs(r),null)}if(hs(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(r.child.flags|=8192),Rh(r,r.updateQueue),ae(r),null;case 4:return fi(),i===null&&gp(r.stateNode.containerInfo),ae(r),null;case 10:return us(r.type),ae(r),null;case 19:if(ut(Oe),d=r.memoizedState,d===null)return ae(r),null;if(u=(r.flags&128)!==0,g=d.rendering,g===null)if(u)iu(d,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=bh(i),g!==null){for(r.flags|=128,iu(d,!1),i=g.updateQueue,r.updateQueue=i,Rh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)g0(o,i),o=o.sibling;return ot(Oe,Oe.current&1|2),r.child}i=i.sibling}d.tail!==null&&Fn()>Dh&&(r.flags|=128,u=!0,iu(d,!1),r.lanes=4194304)}else{if(!u)if(i=bh(g),i!==null){if(r.flags|=128,u=!0,i=i.updateQueue,r.updateQueue=i,Rh(r,i),iu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!zt)return ae(r),null}else 2*Fn()-d.renderingStartTime>Dh&&o!==536870912&&(r.flags|=128,u=!0,iu(d,!1),r.lanes=4194304);d.isBackwards?(g.sibling=r.child,r.child=g):(i=d.last,i!==null?i.sibling=g:r.child=g,d.last=g)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Fn(),r.sibling=null,i=Oe.current,ot(Oe,u?i&1|2:i&1),r):(ae(r),null);case 22:case 23:return hs(r),vm(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ae(r),r.subtreeFlags&6&&(r.flags|=8192)):ae(r),o=r.updateQueue,o!==null&&Rh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&ut(ca),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),us(Pe),ae(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function L2(i,r){switch(sm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return us(Pe),fi(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ki(r),null;case 13:if(hs(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Bl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ut(Oe),null;case 4:return fi(),null;case 10:return us(r.type),null;case 22:case 23:return hs(r),vm(),i!==null&&ut(ca),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return us(Pe),null;case 25:return null;default:return null}}function H_(i,r){switch(sm(r),r.tag){case 3:us(Pe),fi();break;case 26:case 27:case 5:Ki(r);break;case 4:fi();break;case 13:hs(r);break;case 19:ut(Oe);break;case 10:us(r.type);break;case 22:case 23:hs(r),vm(),i!==null&&ut(ca);break;case 24:us(Pe)}}function su(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(w){Jt(r,r.return,w)}}function Ks(i,r,o){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=r;var P=o,Y=w;try{Y()}catch(Z){Jt(d,P,Z)}}}u=u.next}while(u!==g)}}catch(Z){Jt(r,r.return,Z)}}function q_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{N0(r,o)}catch(u){Jt(i,i.return,u)}}}function G_(i,r,o){o.props=fa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Jt(i,r,u)}}function ru(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Jt(i,r,d)}}function xi(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Jt(i,r,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Jt(i,r,d)}else o.current=null}function K_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Jt(i,i.return,d)}}function Km(i,r,o){try{var u=i.stateNode;sC(u,i.type,o,r),u[we]=r}catch(d){Jt(i,i.return,d)}}function Y_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&tr(i.type)||i.tag===4}function Ym(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Y_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&tr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $m(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Fh));else if(u!==4&&(u===27&&tr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for($m(i,r,o),i=i.sibling;i!==null;)$m(i,r,o),i=i.sibling}function Ch(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&tr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ch(i,r,o),i=i.sibling;i!==null;)Ch(i,r,o),i=i.sibling}function $_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Ye(r,u,o),r[Ie]=i,r[we]=o}catch(g){Jt(i,i.return,g)}}var ms=!1,Te=!1,Xm=!1,X_=typeof WeakSet=="function"?WeakSet:Set,je=null;function U2(i,r){if(i=i.containerInfo,_p=Kh,i=a0(i),Yd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,w=-1,P=-1,Y=0,Z=0,et=i,$=null;e:for(;;){for(var X;et!==o||d!==0&&et.nodeType!==3||(w=b+d),et!==g||u!==0&&et.nodeType!==3||(P=b+u),et.nodeType===3&&(b+=et.nodeValue.length),(X=et.firstChild)!==null;)$=et,et=X;for(;;){if(et===i)break e;if($===o&&++Y===d&&(w=b),$===g&&++Z===u&&(P=b),(X=et.nextSibling)!==null)break;et=$,$=et.parentNode}et=X}o=w===-1||P===-1?null:{start:w,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tp={focusedElem:i,selectionRange:o},Kh=!1,je=r;je!==null;)if(r=je,i=r.child,(r.subtreeFlags&1024)!==0&&i!==null)i.return=r,je=i;else for(;je!==null;){switch(r=je,g=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var bt=fa(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(bt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Jt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)wp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":wp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,je=i;break}je=r.return}}function Q_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ys(i,o),u&4&&su(5,o);break;case 1:if(Ys(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Jt(o,o.return,b)}else{var d=fa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(d,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Jt(o,o.return,b)}}u&64&&q_(o),u&512&&ru(o,o.return);break;case 3:if(Ys(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{N0(i,r)}catch(b){Jt(o,o.return,b)}}break;case 27:r===null&&u&4&&$_(o);case 26:case 5:Ys(i,o),r===null&&u&4&&K_(o),u&512&&ru(o,o.return);break;case 12:Ys(i,o);break;case 13:Ys(i,o),u&4&&J_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Y2.bind(null,o),hC(i,o))));break;case 22:if(u=o.memoizedState!==null||ms,!u){r=r!==null&&r.memoizedState!==null||Te,d=ms;var g=Te;ms=u,(Te=r)&&!g?$s(i,o,(o.subtreeFlags&8772)!==0):Ys(i,o),ms=d,Te=g}break;case 30:break;default:Ys(i,o)}}function W_(i){var r=i.alternate;r!==null&&(i.alternate=null,W_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Vs(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var se=null,_n=!1;function ps(i,r,o){for(o=o.child;o!==null;)Z_(i,r,o),o=o.sibling}function Z_(i,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(he,o)}catch{}switch(o.tag){case 26:Te||xi(o,r),ps(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Te||xi(o,r);var u=se,d=_n;tr(o.type)&&(se=o.stateNode,_n=!1),ps(i,r,o),mu(o.stateNode),se=u,_n=d;break;case 5:Te||xi(o,r);case 6:if(u=se,d=_n,se=null,ps(i,r,o),se=u,_n=d,se!==null)if(_n)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(o.stateNode)}catch(g){Jt(o,r,g)}else try{se.removeChild(o.stateNode)}catch(g){Jt(o,r,g)}break;case 18:se!==null&&(_n?(i=se,jT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),bu(i)):jT(se,o.stateNode));break;case 4:u=se,d=_n,se=o.stateNode.containerInfo,_n=!0,ps(i,r,o),se=u,_n=d;break;case 0:case 11:case 14:case 15:Te||Ks(2,o,r),Te||Ks(4,o,r),ps(i,r,o);break;case 1:Te||(xi(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&G_(o,r,u)),ps(i,r,o);break;case 21:ps(i,r,o);break;case 22:Te=(u=Te)||o.memoizedState!==null,ps(i,r,o),Te=u;break;default:ps(i,r,o)}}function J_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{bu(i)}catch(o){Jt(r,r.return,o)}}function F2(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new X_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new X_),r;default:throw Error(s(435,i.tag))}}function Qm(i,r){var o=F2(i);r.forEach(function(u){var d=$2.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function Dn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,b=r,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(tr(w.type)){se=w.stateNode,_n=!1;break t}break;case 5:se=w.stateNode,_n=!1;break t;case 3:case 4:se=w.stateNode.containerInfo,_n=!0;break t}w=w.return}if(se===null)throw Error(s(160));Z_(g,b,d),se=null,_n=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)tT(r,i),r=r.sibling}var ai=null;function tT(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Dn(r,i),Nn(i),u&4&&(Ks(3,i,i.return),su(3,i),Ks(5,i,i.return));break;case 1:Dn(r,i),Nn(i),u&512&&(Te||o===null||xi(o,o.return)),u&64&&ms&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ai;if(Dn(r,i),Nn(i),u&512&&(Te||o===null||xi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Br]||g[Ie]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Ye(g,u,o),g[Ie]=i,ve(g),u=g;break t;case"link":var b=$T("link","href",d).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break e}}g=d.createElement(u),Ye(g,u,o),d.head.appendChild(g);break;case"meta":if(b=$T("meta","content",d).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break e}}g=d.createElement(u),Ye(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ie]=i,ve(g),u=g}i.stateNode=u}else XT(d,i.type,i.stateNode);else i.stateNode=YT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?XT(d,i.type,i.stateNode):YT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Km(i,i.memoizedProps,o.memoizedProps)}break;case 27:Dn(r,i),Nn(i),u&512&&(Te||o===null||xi(o,o.return)),o!==null&&u&4&&Km(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Dn(r,i),Nn(i),u&512&&(Te||o===null||xi(o,o.return)),i.flags&32){d=i.stateNode;try{Bn(d,"")}catch(X){Jt(i,i.return,X)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Km(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Xm=!0);break;case 6:if(Dn(r,i),Nn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){Jt(i,i.return,X)}}break;case 3:if(Hh=null,d=ai,ai=Bh(r.containerInfo),Dn(r,i),ai=d,Nn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{bu(r.containerInfo)}catch(X){Jt(i,i.return,X)}Xm&&(Xm=!1,eT(i));break;case 4:u=ai,ai=Bh(i.stateNode.containerInfo),Dn(r,i),Nn(i),ai=u;break;case 12:Dn(r,i),Nn(i);break;case 13:Dn(r,i),Nn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(np=Fn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Qm(i,u)));break;case 22:d=i.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,Y=ms,Z=Te;if(ms=Y||d,Te=Z||P,Dn(r,i),Te=Z,ms=Y,Nn(i),u&8192)t:for(r=i.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(o===null||P||ms||Te||da(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){P=o=r;try{if(g=P.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=P.stateNode;var et=P.memoizedProps.style,$=et!=null&&et.hasOwnProperty("display")?et.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){Jt(P,P.return,X)}}}else if(r.tag===6){if(o===null){P=r;try{P.stateNode.nodeValue=d?"":P.memoizedProps}catch(X){Jt(P,P.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Qm(i,o))));break;case 19:Dn(r,i),Nn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Qm(i,u)));break;case 30:break;case 21:break;default:Dn(r,i),Nn(i)}}function Nn(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(Y_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=Ym(i);Ch(i,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(Bn(b,""),o.flags&=-33);var w=Ym(i);Ch(i,w,b);break;case 3:case 4:var P=o.stateNode.containerInfo,Y=Ym(i);$m(i,Y,P);break;default:throw Error(s(161))}}catch(Z){Jt(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function eT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;eT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ys(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Q_(i,r.alternate,r),r=r.sibling}function da(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ks(4,r,r.return),da(r);break;case 1:xi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&G_(r,r.return,o),da(r);break;case 27:mu(r.stateNode);case 26:case 5:xi(r,r.return),da(r);break;case 22:r.memoizedState===null&&da(r);break;case 30:da(r);break;default:da(r)}i=i.sibling}}function $s(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:$s(d,g,o),su(4,g);break;case 1:if($s(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){Jt(u,u.return,Y)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)D0(P[d],w)}catch(Y){Jt(u,u.return,Y)}}o&&b&64&&q_(g),ru(g,g.return);break;case 27:$_(g);case 26:case 5:$s(d,g,o),o&&u===null&&b&4&&K_(g),ru(g,g.return);break;case 12:$s(d,g,o);break;case 13:$s(d,g,o),o&&b&4&&J_(d,g);break;case 22:g.memoizedState===null&&$s(d,g,o),ru(g,g.return);break;case 30:break;default:$s(d,g,o)}r=r.sibling}}function Wm(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ql(o))}function Zm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ql(i))}function Ri(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nT(i,r,o,u),r=r.sibling}function nT(i,r,o,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(i,r,o,u),d&2048&&su(9,r);break;case 1:Ri(i,r,o,u);break;case 3:Ri(i,r,o,u),d&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&ql(i)));break;case 12:if(d&2048){Ri(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Jt(r,r.return,P)}}else Ri(i,r,o,u);break;case 13:Ri(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Ri(i,r,o,u):au(i,r):g._visibility&2?Ri(i,r,o,u):(g._visibility|=2,To(i,r,o,u,(r.subtreeFlags&10256)!==0)),d&2048&&Wm(b,r);break;case 24:Ri(i,r,o,u),d&2048&&Zm(r.alternate,r);break;default:Ri(i,r,o,u)}}function To(i,r,o,u,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=i,b=r,w=o,P=u,Y=b.flags;switch(b.tag){case 0:case 11:case 15:To(g,b,w,P,d),su(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?To(g,b,w,P,d):au(g,b):(Z._visibility|=2,To(g,b,w,P,d)),d&&Y&2048&&Wm(b.alternate,b);break;case 24:To(g,b,w,P,d),d&&Y&2048&&Zm(b.alternate,b);break;default:To(g,b,w,P,d)}r=r.sibling}}function au(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,d=u.flags;switch(u.tag){case 22:au(o,u),d&2048&&Wm(u.alternate,u);break;case 24:au(o,u),d&2048&&Zm(u.alternate,u);break;default:au(o,u)}r=r.sibling}}var ou=8192;function Eo(i){if(i.subtreeFlags&ou)for(i=i.child;i!==null;)iT(i),i=i.sibling}function iT(i){switch(i.tag){case 26:Eo(i),i.flags&ou&&i.memoizedState!==null&&AC(ai,i.memoizedState,i.memoizedProps);break;case 5:Eo(i);break;case 3:case 4:var r=ai;ai=Bh(i.stateNode.containerInfo),Eo(i),ai=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=ou,ou=16777216,Eo(i),ou=r):Eo(i));break;default:Eo(i)}}function sT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function lu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];je=u,aT(u,i)}sT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rT(i),i=i.sibling}function rT(i){switch(i.tag){case 0:case 11:case 15:lu(i),i.flags&2048&&Ks(9,i,i.return);break;case 3:lu(i);break;case 12:lu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Ih(i)):lu(i);break;default:lu(i)}}function Ih(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];je=u,aT(u,i)}sT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ks(8,r,r.return),Ih(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Ih(r));break;default:Ih(r)}i=i.sibling}}function aT(i,r){for(;je!==null;){var o=je;switch(o.tag){case 0:case 11:case 15:Ks(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ql(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,je=u;else t:for(o=i;je!==null;){u=je;var d=u.sibling,g=u.return;if(W_(u),u===o){je=null;break t}if(d!==null){d.return=g,je=d;break t}je=g}}}var j2={getCacheForType:function(i){var r=en(Pe),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o}},B2=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ee=null,Pt=null,Ft=0,Yt=0,Pn=null,Xs=!1,bo=!1,Jm=!1,gs=0,de=0,Qs=0,ma=0,tp=0,Qn=0,wo=0,uu=null,Tn=null,ep=!1,np=0,Dh=1/0,Nh=null,Ws=null,Ke=0,Zs=null,Ao=null,So=0,ip=0,sp=null,oT=null,cu=0,rp=null;function On(){if((Kt&2)!==0&&Ft!==0)return Ft&-Ft;if(W.T!==null){var i=ho;return i!==0?i:fp()}return Os()}function lT(){Qn===0&&(Qn=(Ft&536870912)===0||zt?_l():536870912);var i=Xn.current;return i!==null&&(i.flags|=32),Qn}function Mn(i,r,o){(i===ee&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(xo(i,0),Js(i,Ft,Qn,!1)),$i(i,o),((Kt&2)===0||i!==ee)&&(i===ee&&((Kt&2)===0&&(ma|=o),de===4&&Js(i,Ft,Qn,!1)),Ci(i))}function uT(i,r,o){if((Kt&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&i.expiredLanes)===0||jr(i,r),d=u?q2(i,r):lp(i,r,!0),g=u;do{if(d===0){bo&&!u&&Js(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!z2(o)){d=lp(i,r,!1),g=!1;continue}if(d===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var w=i;d=uu;var P=w.current.memoizedState.isDehydrated;if(P&&(xo(w,b).flags|=256),b=lp(w,b,!1),b!==2){if(Jm&&!P){w.errorRecoveryDisabledLanes|=g,ma|=g,d=4;break t}g=Tn,Tn=d,g!==null&&(Tn===null?Tn=g:Tn.push.apply(Tn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){xo(i,0),Js(i,r,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Js(u,r,Qn,!Xs);break t;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=np+300-Fn(),10<d)){if(Js(u,r,Qn,!Xs),za(u,0,!0)!==0)break t;u.timeoutHandle=UT(cT.bind(null,u,o,Tn,Nh,ep,r,Qn,ma,wo,Xs,g,2,-0,0),d);break t}cT(u,o,Tn,Nh,ep,r,Qn,ma,wo,Xs,g,0,-0,0)}}break}while(!0);Ci(i)}function cT(i,r,o,u,d,g,b,w,P,Y,Z,et,$,X){if(i.timeoutHandle=-1,et=r.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(yu={stylesheets:null,count:0,unsuspend:wC},iT(r),et=SC(),et!==null)){i.cancelPendingCommit=et(yT.bind(null,i,r,g,o,u,d,b,w,P,Z,1,$,X)),Js(i,g,b,!Y);return}yT(i,r,g,o,u,d,b,w,P)}function z2(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Cn(g(),d))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Js(i,r,o,u){r&=~tp,r&=~ma,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var d=r;0<d;){var g=31-tn(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&di(i,o,r)}function Ph(){return(Kt&6)===0?(hu(0),!1):!0}function ap(){if(Pt!==null){if(Yt===0)var i=Pt.return;else i=Pt,ls=la=null,wm(i),vo=null,eu=0,i=Pt;for(;i!==null;)H_(i.alternate,i),i=i.return;Pt=null}}function xo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,aC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ap(),ee=i,Pt=o=rs(i.current,null),Ft=r,Yt=0,Pn=null,Xs=!1,bo=jr(i,r),Jm=!1,wo=Qn=tp=ma=Qs=de=0,Tn=uu=null,ep=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var d=31-tn(u),g=1<<d;r|=i[d],u&=~g}return gs=r,th(),o}function hT(i,r){Ct=null,W.H=_h,r===Kl||r===uh?(r=C0(),Yt=3):r===S0?(r=C0(),Yt=4):Yt=r===I_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,Pt===null&&(de=1,Ah(i,Gn(r,i.current)))}function fT(){var i=W.H;return W.H=_h,i===null?_h:i}function dT(){var i=W.A;return W.A=j2,i}function op(){de=4,Xs||(Ft&4194048)!==Ft&&Xn.current!==null||(bo=!0),(Qs&134217727)===0&&(ma&134217727)===0||ee===null||Js(ee,Ft,Qn,!1)}function lp(i,r,o){var u=Kt;Kt|=2;var d=fT(),g=dT();(ee!==i||Ft!==r)&&(Nh=null,xo(i,r)),r=!1;var b=de;t:do try{if(Yt!==0&&Pt!==null){var w=Pt,P=Pn;switch(Yt){case 8:ap(),b=6;break t;case 3:case 2:case 9:case 6:Xn.current===null&&(r=!0);var Y=Yt;if(Yt=0,Pn=null,Ro(i,w,P,Y),o&&bo){b=0;break t}break;default:Y=Yt,Yt=0,Pn=null,Ro(i,w,P,Y)}}H2(),b=de;break}catch(Z){hT(i,Z)}while(!0);return r&&i.shellSuspendCounter++,ls=la=null,Kt=u,W.H=d,W.A=g,Pt===null&&(ee=null,Ft=0,th()),b}function H2(){for(;Pt!==null;)mT(Pt)}function q2(i,r){var o=Kt;Kt|=2;var u=fT(),d=dT();ee!==i||Ft!==r?(Nh=null,Dh=Fn()+500,xo(i,r)):bo=jr(i,r);t:do try{if(Yt!==0&&Pt!==null){r=Pt;var g=Pn;e:switch(Yt){case 1:Yt=0,Pn=null,Ro(i,r,g,1);break;case 2:case 9:if(x0(g)){Yt=0,Pn=null,pT(r);break}r=function(){Yt!==2&&Yt!==9||ee!==i||(Yt=7),Ci(i)},g.then(r,r);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:x0(g)?(Yt=0,Pn=null,pT(r)):(Yt=0,Pn=null,Ro(i,r,g,7));break;case 5:var b=null;switch(Pt.tag){case 26:b=Pt.memoizedState;case 5:case 27:var w=Pt;if(!b||QT(b)){Yt=0,Pn=null;var P=w.sibling;if(P!==null)Pt=P;else{var Y=w.return;Y!==null?(Pt=Y,Oh(Y)):Pt=null}break e}}Yt=0,Pn=null,Ro(i,r,g,5);break;case 6:Yt=0,Pn=null,Ro(i,r,g,6);break;case 8:ap(),de=6;break t;default:throw Error(s(462))}}G2();break}catch(Z){hT(i,Z)}while(!0);return ls=la=null,W.H=u,W.A=d,Kt=o,Pt!==null?0:(ee=null,Ft=0,th(),de)}function G2(){for(;Pt!==null&&!pl();)mT(Pt)}function mT(i){var r=B_(i.alternate,i,gs);i.memoizedProps=i.pendingProps,r===null?Oh(i):Pt=r}function pT(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=V_(o,r,r.pendingProps,r.type,void 0,Ft);break;case 11:r=V_(o,r,r.pendingProps,r.type.render,r.ref,Ft);break;case 5:wm(r);default:H_(o,r),r=Pt=g0(r,gs),r=B_(o,r,gs)}i.memoizedProps=i.pendingProps,r===null?Oh(i):Pt=r}function Ro(i,r,o,u){ls=la=null,wm(r),vo=null,eu=0;var d=r.return;try{if(M2(i,d,r,o,Ft)){de=1,Ah(i,Gn(o,i.current)),Pt=null;return}}catch(g){if(d!==null)throw Pt=d,g;de=1,Ah(i,Gn(o,i.current)),Pt=null;return}r.flags&32768?(zt||u===1?i=!0:bo||(Ft&536870912)!==0?i=!1:(Xs=i=!0,(u===2||u===9||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),gT(r,i)):Oh(r)}function Oh(i){var r=i;do{if((r.flags&32768)!==0){gT(r,Xs);return}i=r.return;var o=k2(r.alternate,r,gs);if(o!==null){Pt=o;return}if(r=r.sibling,r!==null){Pt=r;return}Pt=r=i}while(r!==null);de===0&&(de=5)}function gT(i,r){do{var o=L2(i.alternate,i);if(o!==null){o.flags&=32767,Pt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=o}while(i!==null);de=6,Pt=null}function yT(i,r,o,u,d,g,b,w,P){i.cancelPendingCommit=null;do Mh();while(Ke!==0);if((Kt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Zd,El(i,o,g,b,w,P),i===ee&&(Pt=ee=null,Ft=0),Ao=r,Zs=i,So=o,ip=g,sp=d,oT=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,X2(kr,function(){return bT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=at.p,at.p=2,b=Kt,Kt|=4;try{U2(i,r,o)}finally{Kt=b,at.p=d,W.T=u}}Ke=1,vT(),_T(),TT()}}function vT(){if(Ke===1){Ke=0;var i=Zs,r=Ao,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=at.p;at.p=2;var d=Kt;Kt|=4;try{tT(r,i);var g=Tp,b=a0(i.containerInfo),w=g.focusedElem,P=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&r0(w.ownerDocument.documentElement,w)){if(P!==null&&Yd(w)){var Y=P.start,Z=P.end;if(Z===void 0&&(Z=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(Z,w.value.length);else{var et=w.ownerDocument||document,$=et&&et.defaultView||window;if($.getSelection){var X=$.getSelection(),bt=w.textContent.length,vt=Math.min(P.start,bt),Zt=P.end===void 0?vt:Math.min(P.end,bt);!X.extend&&vt>Zt&&(b=Zt,Zt=vt,vt=b);var z=s0(w,vt),F=s0(w,Zt);if(z&&F&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==F.node||X.focusOffset!==F.offset)){var K=et.createRange();K.setStart(z.node,z.offset),X.removeAllRanges(),vt>Zt?(X.addRange(K),X.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),X.addRange(K))}}}}for(et=[],X=w;X=X.parentNode;)X.nodeType===1&&et.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<et.length;w++){var tt=et[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Kh=!!_p,Tp=_p=null}finally{Kt=d,at.p=u,W.T=o}}i.current=r,Ke=2}}function _T(){if(Ke===2){Ke=0;var i=Zs,r=Ao,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=at.p;at.p=2;var d=Kt;Kt|=4;try{Q_(i,r.alternate,r)}finally{Kt=d,at.p=u,W.T=o}}Ke=3}}function TT(){if(Ke===4||Ke===3){Ke=0,Ic();var i=Zs,r=Ao,o=So,u=oT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ke=5:(Ke=0,Ao=Zs=null,ET(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Ws=null),Ha(o),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(he,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,d=at.p,at.p=2,W.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{W.T=r,at.p=d}}(So&3)!==0&&Mh(),Ci(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===rp?cu++:(cu=0,rp=i):cu=0,hu(0)}}function ET(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,ql(r)))}function Mh(i){return vT(),_T(),TT(),bT()}function bT(){if(Ke!==5)return!1;var i=Zs,r=ip;ip=0;var o=Ha(So),u=W.T,d=at.p;try{at.p=32>o?32:o,W.T=null,o=sp,sp=null;var g=Zs,b=So;if(Ke=0,Ao=Zs=null,So=0,(Kt&6)!==0)throw Error(s(331));var w=Kt;if(Kt|=4,rT(g.current),nT(g,g.current,b,o),Kt=w,hu(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(he,g)}catch{}return!0}finally{at.p=d,W.T=u,ET(i,r)}}function wT(i,r,o){r=Gn(o,r),r=Lm(i.stateNode,r,2),i=zs(i,r,2),i!==null&&($i(i,2),Ci(i))}function Jt(i,r,o){if(i.tag===3)wT(i,i,o);else for(;r!==null;){if(r.tag===3){wT(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ws===null||!Ws.has(u))){i=Gn(o,i),o=R_(2),u=zs(r,o,2),u!==null&&(C_(o,u,r,i),$i(u,2),Ci(u));break}}r=r.return}}function up(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new B2;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(Jm=!0,d.add(o),i=K2.bind(null,i,r,o),r.then(i,i))}function K2(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ee===i&&(Ft&o)===o&&(de===4||de===3&&(Ft&62914560)===Ft&&300>Fn()-np?(Kt&2)===0&&xo(i,0):tp|=o,wo===Ft&&(wo=0)),Ci(i)}function AT(i,r){r===0&&(r=Tl()),i=oo(i,r),i!==null&&($i(i,r),Ci(i))}function Y2(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),AT(i,o)}function $2(i,r){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),AT(i,o)}function X2(i,r){return Mr(i,r)}var Vh=null,Co=null,cp=!1,kh=!1,hp=!1,pa=0;function Ci(i){i!==Co&&i.next===null&&(Co===null?Vh=Co=i:Co=Co.next=i),kh=!0,cp||(cp=!0,W2())}function hu(i,r){if(!hp&&kh){hp=!0;do for(var o=!1,u=Vh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-tn(42|i)+1)-1,g&=d&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,CT(u,g))}else g=Ft,g=za(u,u===ee?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||jr(u,g)||(o=!0,CT(u,g));u=u.next}while(o);hp=!1}}function Q2(){ST()}function ST(){kh=cp=!1;var i=0;pa!==0&&(rC()&&(i=pa),pa=0);for(var r=Fn(),o=null,u=Vh;u!==null;){var d=u.next,g=xT(u,r);g===0?(u.next=null,o===null?Vh=d:o.next=d,d===null&&(Co=o)):(o=u,(i!==0||(g&3)!==0)&&(kh=!0)),u=d}hu(i)}function xT(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-tn(g),w=1<<b,P=d[b];P===-1?((w&o)===0||(w&u)!==0)&&(d[b]=vl(w,r)):P<=r&&(i.expiredLanes|=w),g&=~w}if(r=ee,o=Ft,o=za(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Vr(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||jr(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&Vr(u),Ha(o)){case 2:case 8:o=ja;break;case 32:o=kr;break;case 268435456:o=Ba;break;default:o=kr}return u=RT.bind(null,i),o=Mr(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&Vr(u),i.callbackPriority=2,i.callbackNode=null,2}function RT(i,r){if(Ke!==0&&Ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Mh()&&i.callbackNode!==o)return null;var u=Ft;return u=za(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(uT(i,u,r),xT(i,Fn()),i.callbackNode!=null&&i.callbackNode===o?RT.bind(null,i):null)}function CT(i,r){if(Mh())return null;uT(i,r,!0)}function W2(){oC(function(){(Kt&6)!==0?Mr(gl,Q2):ST()})}function fp(){return pa===0&&(pa=_l()),pa}function IT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xa(""+i)}function DT(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function Z2(i,r,o,u,d){if(r==="submit"&&o&&o.stateNode===d){var g=IT((d[we]||null).action),b=u.submitter;b&&(r=(r=b[we]||null)?IT(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var w=new Qa("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pa!==0){var P=b?DT(d,b):new FormData(d);Pm(o,{pending:!0,data:P,method:d.method,action:g},null,P)}}else typeof g=="function"&&(w.preventDefault(),P=b?DT(d,b):new FormData(d),Pm(o,{pending:!0,data:P,method:d.method,action:g},g,P))},currentTarget:d}]})}}for(var dp=0;dp<Wd.length;dp++){var mp=Wd[dp],J2=mp.toLowerCase(),tC=mp[0].toUpperCase()+mp.slice(1);ri(J2,"on"+tC)}ri(u0,"onAnimationEnd"),ri(c0,"onAnimationIteration"),ri(h0,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(y2,"onTransitionRun"),ri(v2,"onTransitionStart"),ri(_2,"onTransitionCancel"),ri(f0,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function NT(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var w=u[b],P=w.instance,Y=w.currentTarget;if(w=w.listener,P!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=Y;try{g(d)}catch(Z){wh(Z)}d.currentTarget=null,g=P}else for(b=0;b<u.length;b++){if(w=u[b],P=w.instance,Y=w.currentTarget,w=w.listener,P!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=Y;try{g(d)}catch(Z){wh(Z)}d.currentTarget=null,g=P}}}}function Ot(i,r){var o=r[wl];o===void 0&&(o=r[wl]=new Set);var u=i+"__bubble";o.has(u)||(PT(r,i,2,!1),o.add(u))}function pp(i,r,o){var u=0;r&&(u|=4),PT(o,i,u,r)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function gp(i){if(!i[Lh]){i[Lh]=!0,Al.forEach(function(o){o!=="selectionchange"&&(eC.has(o)||pp(o,!1,i),pp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Lh]||(r[Lh]=!0,pp("selectionchange",!1,r))}}function PT(i,r,o,u){switch(nE(r)){case 2:var d=CC;break;case 8:d=IC;break;default:d=Dp}o=d.bind(null,r,o,i),d=void 0,!Hn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(r,o,{capture:!0,passive:d}):i.addEventListener(r,o,!0):d!==void 0?i.addEventListener(r,o,{passive:d}):i.addEventListener(r,o,!1)}function yp(i,r,o,u,d){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=u.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=Xi(w),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){u=g=b;continue t}w=w.parentNode}}u=u.return}Fc(function(){var Y=g,Z=zn(o),et=[];t:{var $=d0.get(i);if($!==void 0){var X=Qa,bt=i;switch(i){case"keypress":if(_i(o)===0)break t;case"keydown":case"keyup":X=no;break;case"focusin":bt="focus",X=Ja;break;case"focusout":bt="blur",X=Ja;break;case"beforeblur":case"afterblur":X=Ja;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=qn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Hd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Yc;break;case u0:case c0:case h0:X=to;break;case f0:X=Xc;break;case"scroll":case"scrollend":X=jc;break;case"wheel":X=io;break;case"copy":case"cut":case"paste":X=eo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=kl;break;case"toggle":case"beforetoggle":X=Wc}var vt=(r&4)!==0,Zt=!vt&&(i==="scroll"||i==="scrollend"),z=vt?$!==null?$+"Capture":null:$;vt=[];for(var F=Y,K;F!==null;){var tt=F;if(K=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||K===null||z===null||(tt=$r(F,z),tt!=null&&vt.push(du(F,tt,K))),Zt)break;F=F.return}0<vt.length&&($=new X($,bt,null,o,Z),et.push({event:$,listeners:vt}))}}if((r&7)===0){t:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&o!==Ji&&(bt=o.relatedTarget||o.fromElement)&&(Xi(bt)||bt[jn]))break t;if((X||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,X?(bt=o.relatedTarget||o.toElement,X=Y,bt=bt?Xi(bt):null,bt!==null&&(Zt=l(bt),vt=bt.tag,bt!==Zt||vt!==5&&vt!==27&&vt!==6)&&(bt=null)):(X=null,bt=Y),X!==bt)){if(vt=qn,tt="onMouseLeave",z="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(vt=kl,tt="onPointerLeave",z="onPointerEnter",F="pointer"),Zt=X==null?$:pi(X),K=bt==null?$:pi(bt),$=new vt(tt,F+"leave",X,o,Z),$.target=Zt,$.relatedTarget=K,tt=null,Xi(Z)===Y&&(vt=new vt(z,F+"enter",bt,o,Z),vt.target=K,vt.relatedTarget=Zt,tt=vt),Zt=tt,X&&bt)e:{for(vt=X,z=bt,F=0,K=vt;K;K=Io(K))F++;for(K=0,tt=z;tt;tt=Io(tt))K++;for(;0<F-K;)vt=Io(vt),F--;for(;0<K-F;)z=Io(z),K--;for(;F--;){if(vt===z||z!==null&&vt===z.alternate)break e;vt=Io(vt),z=Io(z)}vt=null}else vt=null;X!==null&&OT(et,$,X,vt,!1),bt!==null&&Zt!==null&&OT(et,Zt,bt,vt,!0)}}t:{if($=Y?pi(Y):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var dt=Zv;else if(Ne($))if(Jv)dt=m2;else{dt=f2;var Nt=h2}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&Il(Y.elementType)&&(dt=Zv):dt=d2;if(dt&&(dt=dt(i,Y))){ss(et,dt,o,Z);break t}Nt&&Nt(i,$,Y),i==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Ls($,"number",$.value)}switch(Nt=Y?pi(Y):window,i){case"focusin":(Ne(Nt)||Nt.contentEditable==="true")&&(so=Nt,$d=Y,Fl=null);break;case"focusout":Fl=$d=so=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,o0(et,o,Z);break;case"selectionchange":if(g2)break;case"keydown":case"keyup":o0(et,o,Z)}var mt;if(bi)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?Q(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(T&&o.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(mt=Nl()):(vi=Z,Us="value"in vi?vi.value:vi.textContent,Lt=!0)),Nt=Uh(Y,_t),0<Nt.length&&(_t=new Ml(_t,i,null,o,Z),et.push({event:_t,listeners:Nt}),mt?_t.data=mt:(mt=lt(o),mt!==null&&(_t.data=mt)))),(mt=v?De(i,o):Ut(i,o))&&(_t=Uh(Y,"onBeforeInput"),0<_t.length&&(Nt=new Ml("onBeforeInput","beforeinput",null,o,Z),et.push({event:Nt,listeners:_t}),Nt.data=mt)),Z2(et,i,Y,o,Z)}NT(et,r)})}function du(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Uh(i,r){for(var o=r+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=$r(i,o),d!=null&&u.unshift(du(i,d,g)),d=$r(i,r),d!=null&&u.push(du(i,d,g))),i.tag===3)return u;i=i.return}return[]}function Io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function OT(i,r,o,u,d){for(var g=r._reactName,b=[];o!==null&&o!==u;){var w=o,P=w.alternate,Y=w.stateNode;if(w=w.tag,P!==null&&P===u)break;w!==5&&w!==26&&w!==27||Y===null||(P=Y,d?(Y=$r(o,g),Y!=null&&b.unshift(du(o,Y,P))):d||(Y=$r(o,g),Y!=null&&b.push(du(o,Y,P)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var nC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function MT(i){return(typeof i=="string"?i:""+i).replace(nC,`
`).replace(iC,"")}function VT(i,r){return r=MT(r),MT(i)===r}function Fh(){}function Wt(i,r,o,u,d,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Bn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Bn(i,""+u);break;case"className":gi(i,"class",u);break;case"tabIndex":gi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(i,o,u);break;case"style":Cl(i,u,g);break;case"data":if(r!=="object"){gi(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Wt(i,r,"name",d.name,d,null),Wt(i,r,"formEncType",d.formEncType,d,null),Wt(i,r,"formMethod",d.formMethod,d,null),Wt(i,r,"formTarget",d.formTarget,d,null)):(Wt(i,r,"encType",d.encType,d,null),Wt(i,r,"method",d.method,d,null),Wt(i,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Fh);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Xa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),ks(i,"popover",u);break;case"xlinkActuate":He(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ks(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bd.get(o)||o,ks(i,o,u))}}function vp(i,r,o,u,d,g){switch(o){case"style":Cl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Bn(i,u):(typeof u=="number"||typeof u=="bigint")&&Bn(i,""+u);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Fh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qa.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),r=o.slice(2,d?o.length-7:void 0),g=i[we]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):ks(i,o,u)}}}function Ye(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(i,r,g,b,o,null)}}d&&Wt(i,r,"srcSet",o.srcSet,o,null),u&&Wt(i,r,"src",o.src,o,null);return;case"input":Ot("invalid",i);var w=g=b=d=null,P=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":b=Z;break;case"checked":P=Z;break;case"defaultChecked":Y=Z;break;case"value":g=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Wt(i,r,u,Z,o,null)}}Gr(i,g,w,P,Y,b,d,!1),$a(i);return;case"select":Ot("invalid",i),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:Wt(i,r,d,w,o,null)}r=g,o=b,i.multiple=!!u,r!=null?Zi(i,!!u,r,!1):o!=null&&Zi(i,!!u,o,!0);return;case"textarea":Ot("invalid",i),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Wt(i,r,b,w,o,null)}Kr(i,u,d,g),$a(i);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Wt(i,r,P,u,o,null)}return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(u=0;u<fu.length;u++)Ot(fu[u],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Wt(i,r,Y,u,o,null)}return;default:if(Il(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&vp(i,r,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Wt(i,r,w,u,o,null))}function sC(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,w=null,P=null,Y=null,Z=null;for(X in o){var et=o[X];if(o.hasOwnProperty(X)&&et!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":P=et;default:u.hasOwnProperty(X)||Wt(i,r,X,null,u,et)}}for(var $ in u){var X=u[$];if(et=o[$],u.hasOwnProperty($)&&(X!=null||et!=null))switch($){case"type":g=X;break;case"name":d=X;break;case"checked":Y=X;break;case"defaultChecked":Z=X;break;case"value":b=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==et&&Wt(i,r,$,X,u,et)}}Rn(i,b,w,P,Y,Z,g,d);return;case"select":X=b=w=$=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":X=P;default:u.hasOwnProperty(g)||Wt(i,r,g,null,u,P)}for(d in u)if(g=u[d],P=o[d],u.hasOwnProperty(d)&&(g!=null||P!=null))switch(d){case"value":$=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==P&&Wt(i,r,d,g,u,P)}r=w,o=b,u=X,$!=null?Zi(i,!!o,$,!1):!!u!=!!o&&(r!=null?Zi(i,!!o,r,!0):Zi(i,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Wt(i,r,w,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":$=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&Wt(i,r,b,d,u,g)}Xt(i,$,X);return;case"option":for(var bt in o)if($=o[bt],o.hasOwnProperty(bt)&&$!=null&&!u.hasOwnProperty(bt))switch(bt){case"selected":i.selected=!1;break;default:Wt(i,r,bt,null,u,$)}for(P in u)if($=u[P],X=o[P],u.hasOwnProperty(P)&&$!==X&&($!=null||X!=null))switch(P){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Wt(i,r,P,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)$=o[vt],o.hasOwnProperty(vt)&&$!=null&&!u.hasOwnProperty(vt)&&Wt(i,r,vt,null,u,$);for(Y in u)if($=u[Y],X=o[Y],u.hasOwnProperty(Y)&&$!==X&&($!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Wt(i,r,Y,$,u,X)}return;default:if(Il(r)){for(var Zt in o)$=o[Zt],o.hasOwnProperty(Zt)&&$!==void 0&&!u.hasOwnProperty(Zt)&&vp(i,r,Zt,void 0,u,$);for(Z in u)$=u[Z],X=o[Z],!u.hasOwnProperty(Z)||$===X||$===void 0&&X===void 0||vp(i,r,Z,$,u,X);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&Wt(i,r,z,null,u,$);for(et in u)$=u[et],X=o[et],!u.hasOwnProperty(et)||$===X||$==null&&X==null||Wt(i,r,et,$,u,X)}var _p=null,Tp=null;function jh(i){return i.nodeType===9?i:i.ownerDocument}function kT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LT(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Ep(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bp=null;function rC(){var i=window.event;return i&&i.type==="popstate"?i===bp?!1:(bp=i,!0):(bp=null,!1)}var UT=typeof setTimeout=="function"?setTimeout:void 0,aC=typeof clearTimeout=="function"?clearTimeout:void 0,FT=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof FT<"u"?function(i){return FT.resolve(null).then(i).catch(lC)}:UT;function lC(i){setTimeout(function(){throw i})}function tr(i){return i==="head"}function jT(i,r){var o=r,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&mu(b.documentElement),o&2&&mu(b.body),o&4)for(o=b.head,mu(o),b=o.firstChild;b;){var w=b.nextSibling,P=b.nodeName;b[Br]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(d===0){i.removeChild(g),bu(r);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);bu(r)}function wp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wp(o),Vs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function uC(i,r,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Br])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function cC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=oi(i.nextSibling),i===null))return null;return i}function Ap(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function hC(i,r){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function oi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}var Sp=null;function BT(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return i;r--}else o==="/$"&&r++}i=i.previousSibling}return null}function zT(i,r,o){switch(r=jh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function mu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Vs(i)}var Wn=new Map,HT=new Set;function Bh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ys=at.d;at.d={f:fC,r:dC,D:mC,C:pC,L:gC,m:yC,X:_C,S:vC,M:TC};function fC(){var i=ys.f(),r=Ph();return i||r}function dC(i){var r=mi(i);r!==null&&r.tag===5&&r.type==="form"?u_(r):ys.r(i)}var Do=typeof document>"u"?null:document;function qT(i,r,o){var u=Do;if(u&&typeof r=="string"&&r){var d=Ae(r);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),HT.has(d)||(HT.add(d),i={rel:i,crossOrigin:o,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Ye(r,"link",i),ve(r),u.head.appendChild(r)))}}function mC(i){ys.D(i),qT("dns-prefetch",i,null)}function pC(i,r){ys.C(i,r),qT("preconnect",i,r)}function gC(i,r,o){ys.L(i,r,o);var u=Do;if(u&&i&&r){var d='link[rel="preload"][as="'+Ae(r)+'"]';r==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ae(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ae(o.imageSizes)+'"]')):d+='[href="'+Ae(i)+'"]';var g=d;switch(r){case"style":g=No(i);break;case"script":g=Po(i)}Wn.has(g)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),Wn.set(g,i),u.querySelector(d)!==null||r==="style"&&u.querySelector(pu(g))||r==="script"&&u.querySelector(gu(g))||(r=u.createElement("link"),Ye(r,"link",i),ve(r),u.head.appendChild(r)))}}function yC(i,r){ys.m(i,r);var o=Do;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Ae(u)+'"][href="'+Ae(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Po(i)}if(!Wn.has(g)&&(i=y({rel:"modulepreload",href:i},r),Wn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gu(g)))return}u=o.createElement("link"),Ye(u,"link",i),ve(u),o.head.appendChild(u)}}}function vC(i,r,o){ys.S(i,r,o);var u=Do;if(u&&i){var d=hn(u).hoistableStyles,g=No(i);r=r||"default";var b=d.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(pu(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=Wn.get(g))&&xp(i,o);var P=b=u.createElement("link");ve(P),Ye(P,"link",i),P._p=new Promise(function(Y,Z){P.onload=Y,P.onerror=Z}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,zh(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(g,b)}}}function _C(i,r){ys.X(i,r);var o=Do;if(o&&i){var u=hn(o).hoistableScripts,d=Po(i),g=u.get(d);g||(g=o.querySelector(gu(d)),g||(i=y({src:i,async:!0},r),(r=Wn.get(d))&&Rp(i,r),g=o.createElement("script"),ve(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function TC(i,r){ys.M(i,r);var o=Do;if(o&&i){var u=hn(o).hoistableScripts,d=Po(i),g=u.get(d);g||(g=o.querySelector(gu(d)),g||(i=y({src:i,async:!0,type:"module"},r),(r=Wn.get(d))&&Rp(i,r),g=o.createElement("script"),ve(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function GT(i,r,o,u){var d=(d=At.current)?Bh(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=No(o.href),o=hn(d).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=No(o.href);var g=hn(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(pu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Wn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(i,o),g||EC(d,i,o,b.state))),r&&u===null)throw Error(s(528,""));return b}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Po(o),o=hn(d).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function No(i){return'href="'+Ae(i)+'"'}function pu(i){return'link[rel="stylesheet"]['+i+"]"}function KT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function EC(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ye(r,"link",o),ve(r),i.head.appendChild(r))}function Po(i){return'[src="'+Ae(i)+'"]'}function gu(i){return"script[async]"+i}function YT(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Ae(o.href)+'"]');if(u)return r.instance=u,ve(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ve(u),Ye(u,"style",d),zh(u,o.precedence,i),r.instance=u;case"stylesheet":d=No(o.href);var g=i.querySelector(pu(d));if(g)return r.state.loading|=4,r.instance=g,ve(g),g;u=KT(o),(d=Wn.get(d))&&xp(u,d),g=(i.ownerDocument||i).createElement("link"),ve(g);var b=g;return b._p=new Promise(function(w,P){b.onload=w,b.onerror=P}),Ye(g,"link",u),r.state.loading|=4,zh(g,o.precedence,i),r.instance=g;case"script":return g=Po(o.src),(d=i.querySelector(gu(g)))?(r.instance=d,ve(d),d):(u=o,(d=Wn.get(g))&&(u=y({},o),Rp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),ve(d),Ye(d,"link",u),i.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,zh(u,o.precedence,i));return r.instance}function zh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===r)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function xp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Rp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Hh=null;function $T(i,r,o){if(Hh===null){var u=new Map,d=Hh=new Map;d.set(o,u)}else d=Hh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Br]||g[Ie]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function XT(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function bC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function QT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var yu=null;function wC(){}function AC(i,r,o){if(yu===null)throw Error(s(475));var u=yu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=No(o.href),g=i.querySelector(pu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=qh.bind(u),i.then(u,u)),r.state.loading|=4,r.instance=g,ve(g);return}g=i.ownerDocument||i,o=KT(o),(d=Wn.get(d))&&xp(o,d),g=g.createElement("link"),ve(g);var b=g;b._p=new Promise(function(w,P){b.onload=w,b.onerror=P}),Ye(g,"link",o),r.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=qh.bind(u),i.addEventListener("load",r),i.addEventListener("error",r))}}function SC(){if(yu===null)throw Error(s(475));var i=yu;return i.stylesheets&&i.count===0&&Cp(i,i.stylesheets),0<i.count?function(r){var o=setTimeout(function(){if(i.stylesheets&&Cp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(o)}}:null}function qh(){if(this.count--,this.count===0){if(this.stylesheets)Cp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gh=null;function Cp(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gh=new Map,r.forEach(xC,i),Gh=null,qh.call(i))}function xC(i,r){if(!(r.state.loading&4)){var o=Gh.get(i);if(o)var u=o.get(null);else{o=new Map,Gh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=r.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=qh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),r.state.loading|=4}}var vu={$$typeof:q,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function RC(i,r,o,u,d,g,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function WT(i,r,o,u,d,g,b,w,P,Y,Z,et){return i=new RC(i,r,o,b,w,P,Y,et),r=1,g===!0&&(r|=24),g=In(3,null,null,r),i.current=g,g.stateNode=i,r=um(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},dm(g),i}function ZT(i){return i?(i=lo,i):lo}function JT(i,r,o,u,d,g){d=ZT(d),u.context===null?u.context=d:u.pendingContext=d,u=Bs(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=zs(i,u,r),o!==null&&(Mn(o,i,r),$l(o,i,r))}function tE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Ip(i,r){tE(i,r),(i=i.alternate)&&tE(i,r)}function eE(i){if(i.tag===13){var r=oo(i,67108864);r!==null&&Mn(r,i,67108864),Ip(i,67108864)}}var Kh=!0;function CC(i,r,o,u){var d=W.T;W.T=null;var g=at.p;try{at.p=2,Dp(i,r,o,u)}finally{at.p=g,W.T=d}}function IC(i,r,o,u){var d=W.T;W.T=null;var g=at.p;try{at.p=8,Dp(i,r,o,u)}finally{at.p=g,W.T=d}}function Dp(i,r,o,u){if(Kh){var d=Np(u);if(d===null)yp(i,r,u,Yh,o),iE(i,u);else if(NC(d,i,r,o,u))u.stopPropagation();else if(iE(i,u),r&4&&-1<DC.indexOf(i)){for(;d!==null;){var g=mi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=ni(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var P=1<<31-tn(b);w.entanglements[1]|=P,b&=~P}Ci(g),(Kt&6)===0&&(Dh=Fn()+500,hu(0))}}break;case 13:w=oo(g,2),w!==null&&Mn(w,g,2),Ph(),Ip(g,2)}if(g=Np(u),g===null&&yp(i,r,u,Yh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else yp(i,r,u,null,o)}}function Np(i){return i=zn(i),Pp(i)}var Yh=null;function Pp(i){if(Yh=null,i=Xi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Yh=i,null}function nE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vd()){case gl:return 2;case ja:return 8;case kr:case kd:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var Op=!1,er=null,nr=null,ir=null,_u=new Map,Tu=new Map,sr=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iE(i,r){switch(i){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":_u.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(r.pointerId)}}function Eu(i,r,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},r!==null&&(r=mi(r),r!==null&&eE(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),i)}function NC(i,r,o,u,d){switch(r){case"focusin":return er=Eu(er,i,r,o,u,d),!0;case"dragenter":return nr=Eu(nr,i,r,o,u,d),!0;case"mouseover":return ir=Eu(ir,i,r,o,u,d),!0;case"pointerover":var g=d.pointerId;return _u.set(g,Eu(_u.get(g)||null,i,r,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Tu.set(g,Eu(Tu.get(g)||null,i,r,o,u,d)),!0}return!1}function sE(i){var r=Xi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Pc(i.priority,function(){if(o.tag===13){var u=On();u=Ps(u);var d=oo(o,u);d!==null&&Mn(d,o,u),Ip(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function $h(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Np(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ji=u,o.target.dispatchEvent(u),Ji=null}else return r=mi(o),r!==null&&eE(r),i.blockedOn=o,!1;r.shift()}return!0}function rE(i,r,o){$h(i)&&o.delete(r)}function PC(){Op=!1,er!==null&&$h(er)&&(er=null),nr!==null&&$h(nr)&&(nr=null),ir!==null&&$h(ir)&&(ir=null),_u.forEach(rE),Tu.forEach(rE)}function Xh(i,r){i.blockedOn===r&&(i.blockedOn=null,Op||(Op=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,PC)))}var Qh=null;function aE(i){Qh!==i&&(Qh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Qh===i&&(Qh=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],d=i[r+2];if(typeof u!="function"){if(Pp(u||o)===null)continue;break}var g=mi(o);g!==null&&(i.splice(r,3),r-=3,Pm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function bu(i){function r(P){return Xh(P,i)}er!==null&&Xh(er,i),nr!==null&&Xh(nr,i),ir!==null&&Xh(ir,i),_u.forEach(r),Tu.forEach(r);for(var o=0;o<sr.length;o++){var u=sr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<sr.length&&(o=sr[0],o.blockedOn===null);)sE(o),o.blockedOn===null&&sr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[we]||null;if(typeof g=="function")b||aE(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[we]||null)w=b.formAction;else if(Pp(d)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),aE(o)}}}function Mp(i){this._internalRoot=i}Wh.prototype.render=Mp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=On();JT(o,u,i,r,null,null)},Wh.prototype.unmount=Mp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;JT(i.current,2,null,i,null,null),Ph(),r[jn]=null}};function Wh(i){this._internalRoot=i}Wh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Os();i={blockedOn:null,target:i,priority:r};for(var o=0;o<sr.length&&r!==0&&r<sr[o].priority;o++);sr.splice(o,0,i),o===0&&sE(i)}};var oE=t.version;if(oE!=="19.1.0")throw Error(s(527,oE,"19.1.0"));at.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var OC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{he=Zh.inject(OC),Gt=Zh}catch{}}return Au.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",d=w_,g=A_,b=S_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=WT(i,1,!1,null,null,o,u,d,g,b,w,null),i[jn]=r.current,gp(i),new Mp(r)},Au.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,d="",g=w_,b=A_,w=S_,P=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),r=WT(i,1,!0,r,o??null,u,d,g,b,w,P,Y),r.context=ZT(null),o=r.current,u=On(),u=Ps(u),d=Bs(u),d.callback=null,zs(o,d,u),o=u,r.current.lanes=o,$i(r,o),Ci(r),i[jn]=r.current,gp(i),new Wh(r)},Au.version="19.1.0",Au}var yE;function qC(){if(yE)return Lp.exports;yE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lp.exports=HC(),Lp.exports}var GC=qC(),Su={},vE;function KC(){if(vE)return Su;vE=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.parse=c,Su.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,A){const C=new l,M=E.length;if(M<2)return C;const O=(A==null?void 0:A.decode)||y;let B=0;do{const H=E.indexOf("=",B);if(H===-1)break;const q=E.indexOf(";",B),it=q===-1?M:q;if(H>it){B=E.lastIndexOf(";",H-1)+1;continue}const J=f(E,B,H),ct=m(E,H,J),V=E.slice(J,ct);if(C[V]===void 0){let R=f(E,H+1,it),I=m(E,it,R);const D=O(E.slice(R,I));C[V]=D}B=it+1}while(B<M);return C}function f(E,A,C){do{const M=E.charCodeAt(A);if(M!==32&&M!==9)return A}while(++A<C);return C}function m(E,A,C){for(;A>C;){const M=E.charCodeAt(--A);if(M!==32&&M!==9)return A+1}return C}function p(E,A,C){const M=(C==null?void 0:C.encode)||encodeURIComponent;if(!e.test(E))throw new TypeError(`argument name is invalid: ${E}`);const O=M(A);if(!t.test(O))throw new TypeError(`argument val is invalid: ${A}`);let B=E+"="+O;if(!C)return B;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);B+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);B+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);B+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);B+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(B+="; HttpOnly"),C.secure&&(B+="; Secure"),C.partitioned&&(B+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return B}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Su}KC();var _E="popstate";function YC(e={}){function t(s,a){let{pathname:l,search:c,hash:f}=s.location;return gg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:$u(a)}return XC(t,n,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ji(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $C(){return Math.random().toString(36).substring(2,10)}function TE(e,t){return{usr:e.state,key:e.key,idx:t}}function gg(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?il(t):t,state:n,key:t&&t.key||s||$C()}}function $u({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function il(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function XC(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let O=y(),B=O==null?null:O-p;p=O,m&&m({action:f,location:M.location,delta:B})}function E(O,B){f="PUSH";let H=gg(M.location,O,B);p=y()+1;let q=TE(H,p),it=M.createHref(H);try{c.pushState(q,"",it)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(it)}l&&m&&m({action:f,location:M.location,delta:1})}function A(O,B){f="REPLACE";let H=gg(M.location,O,B);p=y();let q=TE(H,p),it=M.createHref(H);c.replaceState(q,"",it),l&&m&&m({action:f,location:M.location,delta:0})}function C(O){return QC(O)}let M={get action(){return f},get location(){return e(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(_E,_),m=O,()=>{a.removeEventListener(_E,_),m=null}},createHref(O){return t(a,O)},createURL:C,encodeLocation(O){let B=C(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:E,replace:A,go(O){return c.go(O)}};return M}function QC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:$u(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Tw(e,t,n="/"){return WC(e,t,n,!1)}function WC(e,t,n,s){let a=typeof t=="string"?il(t):t,l=ws(a.pathname||"/",n);if(l==null)return null;let c=Ew(e);ZC(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=uI(l);f=oI(c[m],p,s)}return f}function Ew(e,t=[],n=[],s=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(le(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let p=Ts([s,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(le(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Ew(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:rI(p,l.index),routesMeta:y})};return e.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of bw(l.path))a(l,c,m)}),t}function bw(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=bw(s.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function ZC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:aI(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var JC=/^:[\w-]+$/,tI=3,eI=2,nI=1,iI=10,sI=-2,EE=e=>e==="*";function rI(e,t){let n=e.split("/"),s=n.length;return n.some(EE)&&(s+=sI),t&&(s+=eI),n.filter(a=>!EE(a)).reduce((a,l)=>a+(JC.test(l)?tI:l===""?nI:iI),s)}function aI(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function oI(e,t,n=!1){let{routesMeta:s}=e,a={},l="/",c=[];for(let f=0;f<s.length;++f){let m=s[f],p=f===s.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Df({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Df({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Ts([l,_.pathname]),pathnameBase:dI(Ts([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Ts([l,_.pathnameBase]))}return c}function Df(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=lI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let C=f[E]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const A=f[E];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function lI(e,t=!1,n=!0){ji(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function uI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ji(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ws(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function cI(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?il(e):e;return{pathname:n?n.startsWith("/")?n:hI(n,t):t,search:mI(s),hash:pI(a)}}function hI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Bp(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ww(e){let t=fI(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Aw(e,t,n,s=!1){let a;typeof e=="string"?a=il(e):(a={...e},le(!a.pathname||!a.pathname.includes("?"),Bp("?","pathname","search",a)),le(!a.pathname||!a.pathname.includes("#"),Bp("#","pathname","hash",a)),le(!a.search||!a.search.includes("#"),Bp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=t.length-1;if(!s&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?t[_]:"/"}let m=cI(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Ts=e=>e.join("/").replace(/\/\/+/g,"/"),dI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Sw=["POST","PUT","PATCH","DELETE"];new Set(Sw);var yI=["GET",...Sw];new Set(yI);var sl=U.createContext(null);sl.displayName="DataRouter";var sd=U.createContext(null);sd.displayName="DataRouterState";var xw=U.createContext({isTransitioning:!1});xw.displayName="ViewTransition";var vI=U.createContext(new Map);vI.displayName="Fetchers";var _I=U.createContext(null);_I.displayName="Await";var Hi=U.createContext(null);Hi.displayName="Navigation";var fc=U.createContext(null);fc.displayName="Location";var qi=U.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var dy=U.createContext(null);dy.displayName="RouteError";function TI(e,{relative:t}={}){le(dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Hi),{hash:a,pathname:l,search:c}=mc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:Ts([n,l])),s.createHref({pathname:f,search:c,hash:a})}function dc(){return U.useContext(fc)!=null}function Ma(){return le(dc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(fc).location}var Rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cw(e){U.useContext(Hi).static||U.useLayoutEffect(e)}function rl(){let{isDataRoute:e}=U.useContext(qi);return e?MI():EI()}function EI(){le(dc(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext(sl),{basename:t,navigator:n}=U.useContext(Hi),{matches:s}=U.useContext(qi),{pathname:a}=Ma(),l=JSON.stringify(ww(s)),c=U.useRef(!1);return Cw(()=>{c.current=!0}),U.useCallback((m,p={})=>{if(ji(c.current,Rw),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Aw(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Ts([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}U.createContext(null);function bI(){let{matches:e}=U.useContext(qi),t=e[e.length-1];return t?t.params:{}}function mc(e,{relative:t}={}){let{matches:n}=U.useContext(qi),{pathname:s}=Ma(),a=JSON.stringify(ww(n));return U.useMemo(()=>Aw(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function wI(e,t){return Iw(e,t)}function Iw(e,t,n,s){var B;le(dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(Hi),{matches:l}=U.useContext(qi),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let H=y&&y.path||"";Dw(m,!y||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let _=Ma(),E;if(t){let H=typeof t=="string"?il(t):t;le(p==="/"||((B=H.pathname)==null?void 0:B.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${H.pathname}" was given in the \`location\` prop.`),E=H}else E=_;let A=E.pathname||"/",C=A;if(p!=="/"){let H=p.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(H.length).join("/")}let M=Tw(e,{pathname:C});ji(y||M!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),ji(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=CI(M&&M.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:Ts([p,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?p:Ts([p,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,n,s);return t&&O?U.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function AI(){let e=OI(),t=gI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:l},"ErrorBoundary")," or"," ",U.createElement("code",{style:l},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:a},n):null,c)}var SI=U.createElement(AI,null),xI=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(qi.Provider,{value:this.props.routeContext},U.createElement(dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RI({routeContext:e,match:t,children:n}){let s=U.useContext(sl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(qi.Provider,{value:e},n)}function CI(e,t=[],n=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);le(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,E=!1,A=null,C=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||SI,c&&(f<0&&y===0?(Dw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):f===y&&(E=!0,C=p.route.hydrateFallbackElement||null)));let M=t.concat(a.slice(0,y+1)),O=()=>{let B;return _?B=A:E?B=C:p.route.Component?B=U.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=m,U.createElement(RI,{match:p,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:B})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?U.createElement(xI,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:O(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):O()},null)}function my(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function II(e){let t=U.useContext(sl);return le(t,my(e)),t}function DI(e){let t=U.useContext(sd);return le(t,my(e)),t}function NI(e){let t=U.useContext(qi);return le(t,my(e)),t}function py(e){let t=NI(e),n=t.matches[t.matches.length-1];return le(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function PI(){return py("useRouteId")}function OI(){var s;let e=U.useContext(dy),t=DI("useRouteError"),n=py("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function MI(){let{router:e}=II("useNavigate"),t=py("useNavigate"),n=U.useRef(!1);return Cw(()=>{n.current=!0}),U.useCallback(async(a,l={})=>{ji(n.current,Rw),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var bE={};function Dw(e,t,n){!t&&!bE[e]&&(bE[e]=!0,ji(!1,n))}U.memo(VI);function VI({routes:e,future:t,state:n}){return Iw(e,void 0,n,t)}function Ii(e){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kI({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){le(!dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=U.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=il(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,A=U.useMemo(()=>{let C=ws(m,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:E},navigationType:s}},[c,m,p,y,_,E,s]);return ji(A!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:U.createElement(Hi.Provider,{value:f},U.createElement(fc.Provider,{children:t,value:A}))}function LI({children:e,location:t}){return wI(yg(e),t)}function yg(e,t=[]){let n=[];return U.Children.forEach(e,(s,a)=>{if(!U.isValidElement(s))return;let l=[...t,a];if(s.type===U.Fragment){n.push.apply(n,yg(s.props.children,l));return}le(s.type===Ii,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=yg(s.props.children,l)),n.push(c)}),n}var ff="get",df="application/x-www-form-urlencoded";function rd(e){return e!=null&&typeof e.tagName=="string"}function UI(e){return rd(e)&&e.tagName.toLowerCase()==="button"}function FI(e){return rd(e)&&e.tagName.toLowerCase()==="form"}function jI(e){return rd(e)&&e.tagName.toLowerCase()==="input"}function BI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zI(e,t){return e.button===0&&(!t||t==="_self")&&!BI(e)}var Jh=null;function HI(){if(Jh===null)try{new FormData(document.createElement("form"),0),Jh=!1}catch{Jh=!0}return Jh}var qI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zp(e){return e!=null&&!qI.has(e)?(ji(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${df}"`),null):e}function GI(e,t){let n,s,a,l,c;if(FI(e)){let f=e.getAttribute("action");s=f?ws(f,t):null,n=e.getAttribute("method")||ff,a=zp(e.getAttribute("enctype"))||df,l=new FormData(e)}else if(UI(e)||jI(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(s=m?ws(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||ff,a=zp(e.getAttribute("formenctype"))||zp(f.getAttribute("enctype"))||df,l=new FormData(f,e),!HI()){let{name:p,type:y,value:_}=e;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(rd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ff,s=null,a=df,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}function gy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function KI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $I(e,t,n){let s=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await KI(l,n);return c.links?c.links():[]}return[]}));return ZI(s.flat(1).filter(YI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wE(e,t,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?t.filter((m,p)=>{var _;let y=s.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function XI(e,t,{includeHydrateFallback:n}={}){return QI(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function QI(e){return[...new Set(e)]}function WI(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function ZI(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let l=JSON.stringify(WI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JI=new Set([100,101,204,205]);function tD(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&ws(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Nw(){let e=U.useContext(sl);return gy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function eD(){let e=U.useContext(sd);return gy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yy=U.createContext(void 0);yy.displayName="FrameworkContext";function Pw(){let e=U.useContext(yy);return gy(e,"You must render this element inside a <HydratedRouter> element"),e}function nD(e,t){let n=U.useContext(yy),[s,a]=U.useState(!1),[l,c]=U.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,E=U.useRef(null);U.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let M=B=>{B.forEach(H=>{c(H.isIntersecting)})},O=new IntersectionObserver(M,{threshold:.5});return E.current&&O.observe(E.current),()=>{O.disconnect()}}},[e]),U.useEffect(()=>{if(s){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[s]);let A=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:xu(f,A),onBlur:xu(m,C),onMouseEnter:xu(p,A),onMouseLeave:xu(y,C),onTouchStart:xu(_,A)}]:[!1,E,{}]}function xu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function iD({page:e,...t}){let{router:n}=Nw(),s=U.useMemo(()=>Tw(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?U.createElement(rD,{page:e,matches:s,...t}):null}function sD(e){let{manifest:t,routeModules:n}=Pw(),[s,a]=U.useState([]);return U.useEffect(()=>{let l=!1;return $I(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),s}function rD({page:e,matches:t,...n}){let s=Ma(),{manifest:a,routeModules:l}=Pw(),{basename:c}=Nw(),{loaderData:f,matches:m}=eD(),p=U.useMemo(()=>wE(e,t,m,a,s,"data"),[e,t,m,a,s]),y=U.useMemo(()=>wE(e,t,m,a,s,"assets"),[e,t,m,a,s]),_=U.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let C=new Set,M=!1;if(t.forEach(B=>{var q;let H=a.routes[B.route.id];!H||!H.hasLoader||(!p.some(it=>it.route.id===B.route.id)&&B.route.id in f&&((q=l[B.route.id])!=null&&q.shouldRevalidate)||H.hasClientLoader?M=!0:C.add(B.route.id))}),C.size===0)return[];let O=tD(e,c);return M&&C.size>0&&O.searchParams.set("_routes",t.filter(B=>C.has(B.route.id)).map(B=>B.route.id).join(",")),[O.pathname+O.search]},[c,f,s,a,p,t,e,l]),E=U.useMemo(()=>XI(y,a),[y,a]),A=sD(y);return U.createElement(U.Fragment,null,_.map(C=>U.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),E.map(C=>U.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),A.map(({key:C,link:M})=>U.createElement("link",{key:C,...M})))}function aD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ow=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ow&&(window.__reactRouterVersion="7.6.2")}catch{}function oD({basename:e,children:t,window:n}){let s=U.useRef();s.current==null&&(s.current=YC({window:n,v5Compat:!0}));let a=s.current,[l,c]=U.useState({action:a.action,location:a.location}),f=U.useCallback(m=>{U.startTransition(()=>c(m))},[c]);return U.useLayoutEffect(()=>a.listen(f),[a,f]),U.createElement(kI,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var Mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=U.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},A){let{basename:C}=U.useContext(Hi),M=typeof p=="string"&&Mw.test(p),O,B=!1;if(typeof p=="string"&&M&&(O=p,Ow))try{let I=new URL(window.location.href),D=p.startsWith("//")?new URL(I.protocol+p):new URL(p),k=ws(D.pathname,C);D.origin===I.origin&&k!=null?p=k+D.search+D.hash:B=!0}catch{ji(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=TI(p,{relative:a}),[q,it,J]=nD(s,E),ct=hD(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function V(I){t&&t(I),I.defaultPrevented||ct(I)}let R=U.createElement("a",{...E,...J,href:O||H,onClick:B||l?t:V,ref:aD(A,it),target:m,"data-discover":!M&&n==="render"?"true":void 0});return q&&!M?U.createElement(U.Fragment,null,R,U.createElement(iD,{page:H})):R});gn.displayName="Link";var lD=U.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=mc(c,{relative:p.relative}),E=Ma(),A=U.useContext(sd),{navigator:C,basename:M}=U.useContext(Hi),O=A!=null&&gD(_)&&f===!0,B=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,H=E.pathname,q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(H=H.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&M&&(q=ws(q,M)||q);const it=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let J=H===B||!a&&H.startsWith(B)&&H.charAt(it)==="/",ct=q!=null&&(q===B||!a&&q.startsWith(B)&&q.charAt(B.length)==="/"),V={isActive:J,isPending:ct,isTransitioning:O},R=J?t:void 0,I;typeof s=="function"?I=s(V):I=[s,J?"active":null,ct?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(V):l;return U.createElement(gn,{...p,"aria-current":R,className:I,ref:y,style:D,to:c,viewTransition:f},typeof m=="function"?m(V):m)});lD.displayName="NavLink";var uD=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:l,method:c=ff,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},A)=>{let C=mD(),M=pD(f,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&Mw.test(f),H=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let it=q.nativeEvent.submitter,J=(it==null?void 0:it.getAttribute("formmethod"))||c;C(it||q.currentTarget,{fetcherKey:t,method:J,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return U.createElement("form",{ref:A,method:O,action:M,onSubmit:s?m:H,...E,"data-discover":!B&&e==="render"?"true":void 0})});uD.displayName="Form";function cD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vw(e){let t=U.useContext(sl);return le(t,cD(e)),t}function hD(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=rl(),m=Ma(),p=mc(e,{relative:l});return U.useCallback(y=>{if(zI(y,t)){y.preventDefault();let _=n!==void 0?n:$u(m)===$u(p);f(e,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,s,t,e,a,l,c])}var fD=0,dD=()=>`__${String(++fD)}__`;function mD(){let{router:e}=Vw("useSubmit"),{basename:t}=U.useContext(Hi),n=PI();return U.useCallback(async(s,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=GI(s,t);if(a.navigate===!1){let y=a.fetcherKey||dD();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function pD(e,{relative:t}={}){let{basename:n}=U.useContext(Hi),s=U.useContext(qi);le(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...mc(e||".",{relative:t})},c=Ma();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ts([n,l.pathname])),$u(l)}function gD(e,t={}){let n=U.useContext(xw);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Vw("useViewTransitionState"),a=mc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=ws(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ws(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Df(a.pathname,c)!=null||Df(a.pathname,l)!=null}[...JI];const kw=U.createContext({});function yD(e){const t=U.useRef(null);return t.current===null&&(t.current=e()),t.current}const vy=typeof window<"u",vD=vy?U.useLayoutEffect:U.useEffect,_y=U.createContext(null);function Ty(e,t){e.indexOf(t)===-1&&e.push(t)}function Ey(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const As=(e,t,n)=>n>t?t:n<e?e:n;let by=()=>{};const Ss={},Lw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Uw(e){return typeof e=="object"&&e!==null}const Fw=e=>/^0[^.\s]+$/u.test(e);function wy(e){let t;return()=>(t===void 0&&(t=e()),t)}const ti=e=>e,_D=(e,t)=>n=>t(e(n)),pc=(...e)=>e.reduce(_D),Xu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Ay{constructor(){this.subscriptions=[]}add(t){return Ty(this.subscriptions,t),()=>Ey(this.subscriptions,t)}notify(t,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pi=e=>e*1e3,Oi=e=>e/1e3;function jw(e,t){return t?e*(1e3/t):0}const Bw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,TD=1e-7,ED=12;function bD(e,t,n,s,a){let l,c,f=0;do c=t+(n-t)/2,l=Bw(c,s,a)-e,l>0?n=c:t=c;while(Math.abs(l)>TD&&++f<ED);return c}function gc(e,t,n,s){if(e===t&&n===s)return ti;const a=l=>bD(l,0,1,e,n);return l=>l===0||l===1?l:Bw(a(l),t,s)}const zw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Hw=e=>t=>1-e(1-t),qw=gc(.33,1.53,.69,.99),Sy=Hw(qw),Gw=zw(Sy),Kw=e=>(e*=2)<1?.5*Sy(e):.5*(2-Math.pow(2,-10*(e-1))),xy=e=>1-Math.sin(Math.acos(e)),Yw=Hw(xy),$w=zw(xy),wD=gc(.42,0,1,1),AD=gc(0,0,.58,1),Xw=gc(.42,0,.58,1),SD=e=>Array.isArray(e)&&typeof e[0]!="number",Qw=e=>Array.isArray(e)&&typeof e[0]=="number",xD={linear:ti,easeIn:wD,easeInOut:Xw,easeOut:AD,circIn:xy,circInOut:$w,circOut:Yw,backIn:Sy,backInOut:Gw,backOut:qw,anticipate:Kw},RD=e=>typeof e=="string",AE=e=>{if(Qw(e)){by(e.length===4);const[t,n,s,a]=e;return gc(t,n,s,a)}else if(RD(e))return xD[e];return e},tf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],SE={value:null};function CD(e,t){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),e()),m++,_(f)}const y={schedule:(_,E=!1,A=!1)=>{const M=A&&a?n:s;return E&&c.add(_),M.has(_)||M.add(_),_},cancel:_=>{s.delete(_),c.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),t&&SE.value&&SE.value.frameloop[t].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const ID=40;function Ww(e,t){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=tf.reduce((q,it)=>(q[it]=CD(l,t?it:void 0),q),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:A,postRender:C}=c,M=()=>{const q=Ss.useManualTiming?a.timestamp:performance.now();n=!1,Ss.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,ID),1)),a.timestamp=q,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),A.process(a),C.process(a),a.isProcessing=!1,n&&t&&(s=!1,e(M))},O=()=>{n=!0,s=!0,a.isProcessing||e(M)};return{schedule:tf.reduce((q,it)=>{const J=c[it];return q[it]=(ct,V=!1,R=!1)=>(n||O(),J.schedule(ct,V,R)),q},{}),cancel:q=>{for(let it=0;it<tf.length;it++)c[tf[it]].cancel(q)},state:a,steps:c}}const{schedule:ue,cancel:vr,state:Xe,steps:Hp}=Ww(typeof requestAnimationFrame<"u"?requestAnimationFrame:ti,!0);let mf;function DD(){mf=void 0}const wn={now:()=>(mf===void 0&&wn.set(Xe.isProcessing||Ss.useManualTiming?Xe.timestamp:performance.now()),mf),set:e=>{mf=e,queueMicrotask(DD)}},Zw=e=>t=>typeof t=="string"&&t.startsWith(e),Ry=Zw("--"),ND=Zw("var(--"),Cy=e=>ND(e)?PD.test(e.split("/*")[0].trim()):!1,PD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,al={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qu={...al,transform:e=>As(0,1,e)},ef={...al,default:1},ku=e=>Math.round(e*1e5)/1e5,Iy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function OD(e){return e==null}const MD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dy=(e,t)=>n=>!!(typeof n=="string"&&MD.test(n)&&n.startsWith(e)||t&&!OD(n)&&Object.prototype.hasOwnProperty.call(n,t)),Jw=(e,t,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,f]=s.match(Iy);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},VD=e=>As(0,255,e),qp={...al,transform:e=>Math.round(VD(e))},Ta={test:Dy("rgb","red"),parse:Jw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+qp.transform(e)+", "+qp.transform(t)+", "+qp.transform(n)+", "+ku(Qu.transform(s))+")"};function kD(e){let t="",n="",s="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const vg={test:Dy("#"),parse:kD,transform:Ta.transform},yc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),or=yc("deg"),Mi=yc("%"),wt=yc("px"),LD=yc("vh"),UD=yc("vw"),xE={...Mi,parse:e=>Mi.parse(e)/100,transform:e=>Mi.transform(e*100)},Uo={test:Dy("hsl","hue"),parse:Jw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Mi.transform(ku(t))+", "+Mi.transform(ku(n))+", "+ku(Qu.transform(s))+")"},rn={test:e=>Ta.test(e)||vg.test(e)||Uo.test(e),parse:e=>Ta.test(e)?Ta.parse(e):Uo.test(e)?Uo.parse(e):vg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ta.transform(e):Uo.transform(e)},FD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jD(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Iy))==null?void 0:t.length)||0)+(((n=e.match(FD))==null?void 0:n.length)||0)>0}const tA="number",eA="color",BD="var",zD="var(",RE="${}",HD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(HD,m=>(rn.test(m)?(s.color.push(l),a.push(eA),n.push(rn.parse(m))):m.startsWith(zD)?(s.var.push(l),a.push(BD),n.push(m)):(s.number.push(l),a.push(tA),n.push(parseFloat(m))),++l,RE)).split(RE);return{values:n,split:f,indexes:s,types:a}}function nA(e){return Wu(e).values}function iA(e){const{split:t,types:n}=Wu(e),s=t.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===tA?l+=ku(a[c]):f===eA?l+=rn.transform(a[c]):l+=a[c]}return l}}const qD=e=>typeof e=="number"?0:e;function GD(e){const t=nA(e);return iA(e)(t.map(qD))}const _r={test:jD,parse:nA,createTransformer:iA,getAnimatableNone:GD};function Gp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function KD({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=Gp(m,f,e+1/3),l=Gp(m,f,e),c=Gp(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Nf(e,t){return n=>n>0?t:e}const oe=(e,t,n)=>e+(t-e)*n,Kp=(e,t,n)=>{const s=e*e,a=n*(t*t-s)+s;return a<0?0:Math.sqrt(a)},YD=[vg,Ta,Uo],$D=e=>YD.find(t=>t.test(e));function CE(e){const t=$D(e);if(!t)return!1;let n=t.parse(e);return t===Uo&&(n=KD(n)),n}const IE=(e,t)=>{const n=CE(e),s=CE(t);if(!n||!s)return Nf(e,t);const a={...n};return l=>(a.red=Kp(n.red,s.red,l),a.green=Kp(n.green,s.green,l),a.blue=Kp(n.blue,s.blue,l),a.alpha=oe(n.alpha,s.alpha,l),Ta.transform(a))},_g=new Set(["none","hidden"]);function XD(e,t){return _g.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function QD(e,t){return n=>oe(e,t,n)}function Ny(e){return typeof e=="number"?QD:typeof e=="string"?Cy(e)?Nf:rn.test(e)?IE:JD:Array.isArray(e)?sA:typeof e=="object"?rn.test(e)?IE:WD:Nf}function sA(e,t){const n=[...e],s=n.length,a=e.map((l,c)=>Ny(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function WD(e,t){const n={...e,...t},s={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(s[a]=Ny(e[a])(e[a],t[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function ZD(e,t){const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][s[l]],f=e.values[c]??0;n[a]=f,s[l]++}return n}const JD=(e,t)=>{const n=_r.createTransformer(t),s=Wu(e),a=Wu(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?_g.has(e)&&!a.values.length||_g.has(t)&&!s.values.length?XD(e,t):pc(sA(ZD(s,a),a.values),n):Nf(e,t)};function rA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):Ny(e)(e,t)}const tN=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>vr(t),now:()=>Xe.isProcessing?Xe.timestamp:wn.now()}},aA=(e,t,n=10)=>{let s="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)s+=e(l/(a-1))+", ";return`linear(${s.substring(0,s.length-2)})`},Pf=2e4;function Py(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Pf;)t+=n,s=e.next(t);return t>=Pf?1/0:t}function eN(e,t=100,n){const s=n({...e,keyframes:[0,t]}),a=Math.min(Py(s),Pf);return{type:"keyframes",ease:l=>s.next(a*l).value/t,duration:Oi(a)}}const nN=5;function oA(e,t,n){const s=Math.max(t-nN,0);return jw(n-e(s),t-s)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yp=.001;function iN({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:s=me.mass}){let a,l,c=1-t;c=As(me.minDamping,me.maxDamping,c),e=As(me.minDuration,me.maxDuration,Oi(e)),c<1?(a=p=>{const y=p*c,_=y*e,E=y-n,A=Tg(p,c),C=Math.exp(-_);return Yp-E/A*C},l=p=>{const _=p*c*e,E=_*n+n,A=Math.pow(c,2)*Math.pow(p,2)*e,C=Math.exp(-_),M=Tg(Math.pow(p,2),c);return(-a(p)+Yp>0?-1:1)*((E-A)*C)/M}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-Yp+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const f=5/e,m=rN(a,l,f);if(e=Pi(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:e}}}const sN=12;function rN(e,t,n){let s=n;for(let a=1;a<sN;a++)s=s-e(s)/t(s);return s}function Tg(e,t){return e*Math.sqrt(1-t*t)}const aN=["duration","bounce"],oN=["stiffness","damping","mass"];function DE(e,t){return t.some(n=>e[n]!==void 0)}function lN(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!DE(e,oN)&&DE(e,aN))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*As(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=iN(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Of(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:A}=lN({...n,velocity:-Oi(n.velocity||0)}),C=E||0,M=p/(2*Math.sqrt(m*y)),O=c-l,B=Oi(Math.sqrt(m/y)),H=Math.abs(O)<5;s||(s=H?me.restSpeed.granular:me.restSpeed.default),a||(a=H?me.restDelta.granular:me.restDelta.default);let q;if(M<1){const J=Tg(B,M);q=ct=>{const V=Math.exp(-M*B*ct);return c-V*((C+M*B*O)/J*Math.sin(J*ct)+O*Math.cos(J*ct))}}else if(M===1)q=J=>c-Math.exp(-B*J)*(O+(C+B*O)*J);else{const J=B*Math.sqrt(M*M-1);q=ct=>{const V=Math.exp(-M*B*ct),R=Math.min(J*ct,300);return c-V*((C+M*B*O)*Math.sinh(R)+J*O*Math.cosh(R))/J}}const it={calculatedDuration:A&&_||null,next:J=>{const ct=q(J);if(A)f.done=J>=_;else{let V=J===0?C:0;M<1&&(V=J===0?Pi(C):oA(q,J,ct));const R=Math.abs(V)<=s,I=Math.abs(c-ct)<=a;f.done=R&&I}return f.value=f.done?c:ct,f},toString:()=>{const J=Math.min(Py(it),Pf),ct=aA(V=>it.next(J*V).value,J,30);return J+"ms "+ct},toTransition:()=>{}};return it}Of.applyToOptions=e=>{const t=eN(e,100,Of);return e.ease=t.ease,e.duration=Pi(t.duration),e.type="keyframes",e};function Eg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],E={done:!1,value:_},A=R=>f!==void 0&&R<f||m!==void 0&&R>m,C=R=>f===void 0?m:m===void 0||Math.abs(f-R)<Math.abs(m-R)?f:m;let M=n*t;const O=_+M,B=c===void 0?O:c(O);B!==O&&(M=B-_);const H=R=>-M*Math.exp(-R/s),q=R=>B+H(R),it=R=>{const I=H(R),D=q(R);E.done=Math.abs(I)<=p,E.value=E.done?B:D};let J,ct;const V=R=>{A(E.value)&&(J=R,ct=Of({keyframes:[E.value,C(E.value)],velocity:oA(q,R,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return V(0),{calculatedDuration:null,next:R=>{let I=!1;return!ct&&J===void 0&&(I=!0,it(R),V(R)),J!==void 0&&R>=J?ct.next(R-J):(!I&&it(R),E)}}}function uN(e,t,n){const s=[],a=n||Ss.mix||rA,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||ti:t;f=pc(m,f)}s.push(f)}return s}function cN(e,t,{clamp:n=!0,ease:s,mixer:a}={}){const l=e.length;if(by(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=uN(t,s,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const E=Xu(e[_],e[_+1],y);return f[_](E)};return n?y=>p(As(e[0],e[l-1],y)):p}function hN(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const a=Xu(0,t,s);e.push(oe(n,1,a))}}function fN(e){const t=[0];return hN(t,e.length-1),t}function dN(e,t){return e.map(n=>n*t)}function mN(e,t){return e.map(()=>t||Xw).splice(0,e.length-1)}function Lu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const a=SD(s)?s.map(AE):AE(s),l={done:!1,value:t[0]},c=dN(n&&n.length===t.length?n:fN(t),e),f=cN(c,t,{ease:Array.isArray(a)?a:mN(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const pN=e=>e!==null;function Oy(e,{repeat:t,repeatType:n="loop"},s,a=1){const l=e.filter(pN),f=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const gN={decay:Eg,inertia:Eg,tween:Lu,keyframes:Lu,spring:Of};function lA(e){typeof e.type=="string"&&(e.type=gN[e.type])}class My{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const yN=e=>e/100;class Vy extends My{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;lA(t);const{type:n=Lu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const m=n||Lu;m!==Lu&&typeof f[0]!="number"&&(this.mixKeyframes=pc(yN,rA(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Py(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:A,type:C,onUpdate:M,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,it=s;if(_){const R=Math.min(this.currentTime,a)/f;let I=Math.floor(R),D=R%1;!D&&R>=1&&(D=1),D===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(E==="reverse"?(D=1-D,A&&(D-=A/f)):E==="mirror"&&(it=c)),q=As(0,1,D)*f}const J=H?{done:!1,value:y[0]}:it.next(q);l&&(J.value=l(J.value));let{done:ct}=J;!H&&m!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return V&&C!==Eg&&(J.value=Oy(y,this.options,O,this.speed)),M&&M(J.value),V&&this.finish(),J}then(t,n){return this.finished.then(t,n)}get duration(){return Oi(this.calculatedDuration)}get time(){return Oi(this.currentTime)}set time(t){var n;t=Pi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(wn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Oi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=tN,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function vN(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ea=e=>e*180/Math.PI,bg=e=>{const t=Ea(Math.atan2(e[1],e[0]));return wg(t)},_N={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:bg,rotateZ:bg,skewX:e=>Ea(Math.atan(e[1])),skewY:e=>Ea(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},wg=e=>(e=e%360,e<0&&(e+=360),e),NE=bg,PE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),OE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),TN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PE,scaleY:OE,scale:e=>(PE(e)+OE(e))/2,rotateX:e=>wg(Ea(Math.atan2(e[6],e[5]))),rotateY:e=>wg(Ea(Math.atan2(-e[2],e[0]))),rotateZ:NE,rotate:NE,skewX:e=>Ea(Math.atan(e[4])),skewY:e=>Ea(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ag(e){return e.includes("scale")?1:0}function Sg(e,t){if(!e||e==="none")return Ag(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=TN,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=_N,a=f}if(!a)return Ag(t);const l=s[t],c=a[1].split(",").map(bN);return typeof l=="function"?l(c):c[l]}const EN=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Sg(n,t)};function bN(e){return parseFloat(e.trim())}const ol=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ll=new Set(ol),ME=e=>e===al||e===wt,wN=new Set(["x","y","z"]),AN=ol.filter(e=>!wN.has(e));function SN(e){const t=[];return AN.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Aa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Sg(t,"x"),y:(e,{transform:t})=>Sg(t,"y")};Aa.translateX=Aa.x;Aa.translateY=Aa.y;const Sa=new Set;let xg=!1,Rg=!1,Cg=!1;function uA(){if(Rg){const e=Array.from(Sa).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const a=SN(s);a.length&&(n.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var f;(f=s.getValue(l))==null||f.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Rg=!1,xg=!1,Sa.forEach(e=>e.complete(Cg)),Sa.clear()}function cA(){Sa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Rg=!0)})}function xN(){Cg=!0,cA(),uA(),Cg=!1}class ky{constructor(t,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Sa.add(this),xg||(xg=!0,ue.read(cA),ue.resolveKeyframes(uA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const f=s.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}vN(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Sa.delete(this)}cancel(){this.state==="scheduled"&&(Sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RN=e=>e.startsWith("--");function CN(e,t,n){RN(t)?e.style.setProperty(t,n):e.style[t]=n}const IN=wy(()=>window.ScrollTimeline!==void 0),DN={};function NN(e,t){const n=wy(e);return()=>DN[t]??n()}const hA=NN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Iu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,VE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Iu([0,.65,.55,1]),circOut:Iu([.55,0,1,.45]),backIn:Iu([.31,.01,.66,-.59]),backOut:Iu([.33,1.53,.69,.99])};function fA(e,t){if(e)return typeof e=="function"?hA()?aA(e,t):"ease-out":Qw(e)?Iu(e):Array.isArray(e)?e.map(n=>fA(n,t)||VE.easeOut):VE[e]}function PN(e,t,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=fA(f,a);Array.isArray(_)&&(y.easing=_);const E={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),e.animate(y,E)}function dA(e){return typeof e=="function"&&"applyToOptions"in e}function ON({type:e,...t}){return dA(e)&&hA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class MN extends My{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,by(typeof t.type!="string");const p=ON(t);this.animation=PN(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Oy(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):CN(n,s,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Oi(Number(t))}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Pi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&IN()?(this.animation.timeline=t,ti):n(this)}}const mA={anticipate:Kw,backInOut:Gw,circInOut:$w};function VN(e){return e in mA}function kN(e){typeof e.ease=="string"&&VN(e.ease)&&(e.ease=mA[e.ease])}const kE=10;class LN extends MN{constructor(t){kN(t),lA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new Vy({...c,autoplay:!1}),m=Pi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-kE).value,f.sample(m).value,kE),f.stop()}}const LE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_r.test(e)||e==="0")&&!e.startsWith("url("));function UN(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function FN(e,t,n,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=LE(a,t),f=LE(l,t);return!c||!f?!1:UN(e)||(n==="spring"||dA(n))&&s}function pA(e){return Uw(e)&&"offsetHeight"in e}const jN=new Set(["opacity","clipPath","filter","transform"]),BN=wy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zN(e){var p;const{motionValue:t,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!pA((p=t==null?void 0:t.owner)==null?void 0:p.current))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return BN()&&n&&jN.has(n)&&(n!=="transform"||!m)&&!f&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const HN=40;class qN extends My{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var C;super(),this.stop=()=>{var M,O;this._animation&&(this._animation.stop(),(M=this.stopTimeline)==null||M.call(this)),(O=this.keyframeResolver)==null||O.cancel()},this.createdAt=wn.now();const E={autoplay:t,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},A=(y==null?void 0:y.KeyframeResolver)||ky;this.keyframeResolver=new A(f,(M,O,B)=>this.onKeyframesResolved(M,O,E,!B),m,p,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=s;this.resolvedAt=wn.now(),FN(t,l,c,f)||((Ss.instantAnimations||!m)&&(y==null||y(Oy(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>HN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},A=!p&&zN(E)?new LN({...E,element:E.motionValue.owner.current}):new Vy(E);A.finished.then(()=>this.notifyFinished()).catch(ti),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),xN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const GN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function KN(e){const t=GN.exec(e);if(!t)return[,];const[,n,s,a]=t;return[`--${n??s}`,a]}function gA(e,t,n=1){const[s,a]=KN(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Lw(c)?parseFloat(c):c}return Cy(a)?gA(a,t,n+1):a}function Ly(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const yA=new Set(["width","height","top","left","right","bottom",...ol]),YN={test:e=>e==="auto",parse:e=>e},vA=e=>t=>t.test(e),_A=[al,wt,Mi,or,UD,LD,YN],UE=e=>_A.find(vA(e));function $N(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Fw(e):!0}const XN=new Set(["brightness","contrast","saturate","opacity"]);function QN(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Iy)||[];if(!s)return e;const a=n.replace(s,"");let l=XN.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+a+")"}const WN=/\b([a-z-]*)\(.*?\)/gu,Ig={..._r,getAnimatableNone:e=>{const t=e.match(WN);return t?t.map(QN).join(" "):e}},FE={...al,transform:Math.round},ZN={rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:ef,scaleX:ef,scaleY:ef,scaleZ:ef,skew:or,skewX:or,skewY:or,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:Qu,originX:xE,originY:xE,originZ:wt},Uy={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...ZN,zIndex:FE,fillOpacity:Qu,strokeOpacity:Qu,numOctaves:FE},JN={...Uy,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:Ig,WebkitFilter:Ig},TA=e=>JN[e];function EA(e,t){let n=TA(e);return n!==Ig&&(n=_r),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tP=new Set(["auto","none","0"]);function eP(e,t,n){let s=0,a;for(;s<e.length&&!a;){const l=e[s];typeof l=="string"&&!tP.has(l)&&Wu(l).values.length&&(a=e[s]),s++}if(a&&n)for(const l of t)e[l]=EA(n,a)}class nP extends ky{constructor(t,n,s,a,l){super(t,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Cy(p))){const y=gA(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!yA.has(s)||t.length!==2)return;const[a,l]=t,c=UE(a),f=UE(l);if(c!==f)if(ME(c)&&ME(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else Aa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||$N(t[a]))&&s.push(a);s.length&&eP(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Aa[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Aa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function iP(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=(n==null?void 0:n[e])??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const bA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,jE=30,sP=e=>!isNaN(parseFloat(e));class rP{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var c,f;const l=wn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=wn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sP(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ay);const s=this.events[t].add(n);return t==="change"?()=>{s(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jE);return jw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(e,t){return new rP(e,t)}const{schedule:Fy}=Ww(queueMicrotask,!1),li={x:!1,y:!1};function wA(){return li.x||li.y}function aP(e){return e==="x"||e==="y"?li[e]?null:(li[e]=!0,()=>{li[e]=!1}):li.x||li.y?null:(li.x=li.y=!0,()=>{li.x=li.y=!1})}function AA(e,t){const n=iP(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[n,a,()=>s.abort()]}function BE(e){return!(e.pointerType==="touch"||wA())}function oP(e,t,n={}){const[s,a,l]=AA(e,n),c=f=>{if(!BE(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=_=>{BE(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return s.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const SA=(e,t)=>t?e===t?!0:SA(e,t.parentElement):!1,jy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,lP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uP(e){return lP.has(e.tagName)||e.tabIndex!==-1}const pf=new WeakSet;function zE(e){return t=>{t.key==="Enter"&&e(t)}}function $p(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cP=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=zE(()=>{if(pf.has(n))return;$p(n,"down");const a=zE(()=>{$p(n,"up")}),l=()=>$p(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function HE(e){return jy(e)&&!wA()}function hP(e,t,n={}){const[s,a,l]=AA(e,n),c=f=>{const m=f.currentTarget;if(!HE(f))return;pf.add(m);const p=t(m,f),y=(A,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),pf.has(m)&&pf.delete(m),HE(A)&&typeof p=="function"&&p(A,{success:C})},_=A=>{y(A,m===window||m===document||n.useGlobalTarget||SA(m,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),pA(f)&&(f.addEventListener("focus",p=>cP(p,a)),!uP(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function xA(e){return Uw(e)&&"ownerSVGElement"in e}function fP(e){return xA(e)&&e.tagName==="svg"}const un=e=>!!(e&&e.getVelocity),dP=[..._A,rn,_r],mP=e=>dP.find(vA(e)),RA=U.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function pP(e=!0){const t=U.useContext(_y);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=t,l=U.useId();U.useEffect(()=>{if(e)return a(l)},[e]);const c=U.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const CA=U.createContext({strict:!1}),qE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const e in qE)Xo[e]={isEnabled:t=>qE[e].some(n=>!!t[n])};function gP(e){for(const t in e)Xo[t]={...Xo[t],...e[t]}}const yP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yP.has(e)}let IA=e=>!Mf(e);function vP(e){e&&(IA=t=>t.startsWith("on")?!Mf(t):e(t))}try{vP(require("@emotion/is-prop-valid").default)}catch{}function _P(e,t,n){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(IA(a)||n===!0&&Mf(a)||!t&&!Mf(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}function TP(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const ad=U.createContext({});function od(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Zu(e){return typeof e=="string"||Array.isArray(e)}const By=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zy=["initial",...By];function ld(e){return od(e.animate)||zy.some(t=>Zu(e[t]))}function DA(e){return!!(ld(e)||e.variants)}function EP(e,t){if(ld(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Zu(n)?n:void 0,animate:Zu(s)?s:void 0}}return e.inherit!==!1?t:{}}function bP(e){const{initial:t,animate:n}=EP(e,U.useContext(ad));return U.useMemo(()=>({initial:t,animate:n}),[GE(t),GE(n)])}function GE(e){return Array.isArray(e)?e.join(" "):e}const wP=Symbol.for("motionComponentSymbol");function Fo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function AP(e,t,n){return U.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Fo(n)&&(n.current=s))},[t])}const Hy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SP="framerAppearId",NA="data-"+Hy(SP),PA=U.createContext({});function xP(e,t,n,s,a){var M,O;const{visualElement:l}=U.useContext(ad),c=U.useContext(CA),f=U.useContext(_y),m=U.useContext(RA).reducedMotion,p=U.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=U.useContext(PA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&RP(p.current,n,a,_);const E=U.useRef(!1);U.useInsertionEffect(()=>{y&&E.current&&y.update(n,f)});const A=n[NA],C=U.useRef(!!A&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,A))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,A)));return vD(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),Fy.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),U.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)==null||B.call(window,A)}),C.current=!1))}),y}function RP(e,t,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:OA(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Fo(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:m,layoutRoot:p})}function OA(e){if(e)return e.options.allowProjection!==!1?e.projection:OA(e.parent)}function CP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:a}){e&&gP(e);function l(f,m){let p;const y={...U.useContext(RA),...f,layoutId:IP(f)},{isStatic:_}=y,E=bP(f),A=s(f,_);if(!_&&vy){DP();const C=NP(y);p=C.MeasureLayout,E.visualElement=xP(a,A,y,t,C.ProjectionNode)}return x.jsxs(ad.Provider,{value:E,children:[p&&E.visualElement?x.jsx(p,{visualElement:E.visualElement,...y}):null,n(a,f,AP(A,E.visualElement,m),A,_,E.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=U.forwardRef(l);return c[wP]=a,c}function IP({layoutId:e}){const t=U.useContext(kw).id;return t&&e!==void 0?t+"-"+e:e}function DP(e,t){U.useContext(CA).strict}function NP(e){const{drag:t,layout:n}=Xo;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Ju={};function PP(e){for(const t in e)Ju[t]=e[t],Ry(t)&&(Ju[t].isCSSVariable=!0)}function MA(e,{layout:t,layoutId:n}){return ll.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ju[e]||e==="opacity")}const OP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MP=ol.length;function VP(e,t,n){let s="",a=!0;for(let l=0;l<MP;l++){const c=ol[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=bA(f,Uy[c]);if(!m){a=!1;const y=OP[c]||c;s+=`${y}(${p}) `}n&&(t[c]=p)}}return s=s.trim(),n?s=n(t,a?"":s):a&&(s="none"),s}function qy(e,t,n){const{style:s,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(ll.has(m)){c=!0;continue}else if(Ry(m)){a[m]=p;continue}else{const y=bA(p,Uy[m]);m.startsWith("origin")?(f=!0,l[m]=y):s[m]=y}}if(t.transform||(c||n?s.transform=VP(t,e.transform,n):s.transform&&(s.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${m} ${p} ${y}`}}const Gy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VA(e,t,n){for(const s in t)!un(t[s])&&!MA(s,n)&&(e[s]=t[s])}function kP({transformTemplate:e},t){return U.useMemo(()=>{const n=Gy();return qy(n,t,e),Object.assign({},n.vars,n.style)},[t])}function LP(e,t){const n=e.style||{},s={};return VA(s,n,e),Object.assign(s,kP(e,t)),s}function UP(e,t){const n={},s=LP(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const FP={offset:"stroke-dashoffset",array:"stroke-dasharray"},jP={offset:"strokeDashoffset",array:"strokeDasharray"};function BP(e,t,n=1,s=0,a=!0){e.pathLength=1;const l=a?FP:jP;e[l.offset]=wt.transform(-s);const c=wt.transform(t),f=wt.transform(n);e[l.array]=`${c} ${f}`}function kA(e,{attrX:t,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(qy(e,f,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:E}=e;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&BP(_,a,l,c,!1)}const LA=()=>({...Gy(),attrs:{}}),UA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zP(e,t,n,s){const a=U.useMemo(()=>{const l=LA();return kA(l,t,UA(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};VA(l,e.style,e),a.style={...l,...a.style}}return a}const HP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ky(e){return typeof e!="string"||e.includes("-")?!1:!!(HP.indexOf(e)>-1||/[A-Z]/u.test(e))}function qP(e=!1){return(n,s,a,{latestValues:l},c)=>{const m=(Ky(n)?zP:UP)(s,l,c,n),p=_P(s,typeof n=="string",e),y=n!==U.Fragment?{...p,...m,ref:a}:{},{children:_}=s,E=U.useMemo(()=>un(_)?_.get():_,[_]);return U.createElement(n,{...y,children:E})}}function KE(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Yy(e,t,n,s){if(typeof t=="function"){const[a,l]=KE(s);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=KE(s);t=t(n!==void 0?n:e.custom,a,l)}return t}function gf(e){return un(e)?e.get():e}function GP({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,a){return{latestValues:KP(n,s,a,e),renderState:t()}}const FA=e=>(t,n)=>{const s=U.useContext(ad),a=U.useContext(_y),l=()=>GP(e,t,s,a);return n?l():yD(l)};function KP(e,t,n,s){const a={},l=s(e,{});for(const E in l)a[E]=gf(l[E]);let{initial:c,animate:f}=e;const m=ld(e),p=DA(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!od(_)){const E=Array.isArray(_)?_:[_];for(let A=0;A<E.length;A++){const C=Yy(e,E[A]);if(C){const{transitionEnd:M,transition:O,...B}=C;for(const H in B){let q=B[H];if(Array.isArray(q)){const it=y?q.length-1:0;q=q[it]}q!==null&&(a[H]=q)}for(const H in M)a[H]=M[H]}}}return a}function $y(e,t,n){var l;const{style:s}=e,a={};for(const c in s)(un(s[c])||t.style&&un(t.style[c])||MA(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const YP={useVisualState:FA({scrapeMotionValuesFromProps:$y,createRenderState:Gy})};function jA(e,t,n){const s=$y(e,t,n);for(const a in e)if(un(e[a])||un(t[a])){const l=ol.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=e[a]}return s}const $P={useVisualState:FA({scrapeMotionValuesFromProps:jA,createRenderState:LA})};function XP(e,t){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Ky(s)?$P:YP,preloadedFeatures:e,useRender:qP(a),createVisualElement:t,Component:s};return CP(c)}}function tc(e,t,n){const s=e.getProps();return Yy(s,t,n!==void 0?n:s.custom,e)}const Dg=e=>Array.isArray(e);function QP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,$o(n))}function WP(e){return Dg(e)?e[e.length-1]||0:e}function ZP(e,t){const n=tc(e,t);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const f=WP(l[c]);QP(e,c,f)}}function JP(e){return!!(un(e)&&e.add)}function Ng(e,t){const n=e.getValue("willChange");if(JP(n))return n.add(t);if(!n&&Ss.WillChange){const s=new Ss.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function BA(e){return e.props[NA]}const tO=e=>e!==null;function eO(e,{repeat:t,repeatType:n="loop"},s){const a=e.filter(tO),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const nO={type:"spring",stiffness:500,damping:25,restSpeed:10},iO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sO={type:"keyframes",duration:.8},rO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aO=(e,{keyframes:t})=>t.length>2?sO:ll.has(e)?e.startsWith("scale")?iO(t[1]):nO:rO;function oO({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Xy=(e,t,n,s={},a,l)=>c=>{const f=Ly(s,e)||{},m=f.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Pi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:E=>{t.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};oO(f)||Object.assign(y,aO(e,y)),y.duration&&(y.duration=Pi(y.duration)),y.repeatDelay&&(y.repeatDelay=Pi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(Ss.instantAnimations||Ss.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const E=eO(y.keyframes,f);if(E!==void 0){ue.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new Vy(y):new qN(y)};function lO({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function zA(e,t,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;s&&(l=s);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in f){const _=e.getValue(y,e.latestValues[y]??null),E=f[y];if(E===void 0||p&&lO(p,y))continue;const A={delay:n,...Ly(l||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===C&&!A.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const B=BA(e);if(B){const H=window.MotionHandoffAnimation(B,y,ue);H!==null&&(A.startTime=H,M=!0)}}Ng(e,y),_.start(Xy(y,_,E,e.shouldReduceMotion&&yA.has(y)?{type:!1}:A,e,M));const O=_.animation;O&&m.push(O)}return c&&Promise.all(m).then(()=>{ue.update(()=>{c&&ZP(e,c)})}),m}function Pg(e,t,n={}){var m;const s=tc(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(zA(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=a;return uO(e,t,y+p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function uO(e,t,n=0,s=0,a=1,l){const c=[],f=(e.variantChildren.size-1)*s,m=a===1?(p=0)=>p*s:(p=0)=>f-p*s;return Array.from(e.variantChildren).sort(cO).forEach((p,y)=>{p.notify("AnimationStart",t),c.push(Pg(p,t,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function cO(e,t){return e.sortNodePosition(t)}function hO(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(l=>Pg(e,l,n));s=Promise.all(a)}else if(typeof t=="string")s=Pg(e,t,n);else{const a=typeof t=="function"?tc(e,t,n.custom):t;s=Promise.all(zA(e,a,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function HA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const fO=zy.length;function qA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?qA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<fO;n++){const s=zy[n],a=e.props[s];(Zu(a)||a===!1)&&(t[s]=a)}return t}const dO=[...By].reverse(),mO=By.length;function pO(e){return t=>Promise.all(t.map(({animation:n,options:s})=>hO(e,n,s)))}function gO(e){let t=pO(e),n=YE(),s=!0;const a=m=>(p,y)=>{var E;const _=tc(e,y,m==="exit"?(E=e.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:A,transitionEnd:C,...M}=_;p={...p,...M,...C}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=qA(e.parent)||{},_=[],E=new Set;let A={},C=1/0;for(let O=0;O<mO;O++){const B=dO[O],H=n[B],q=p[B]!==void 0?p[B]:y[B],it=Zu(q),J=B===m?H.isActive:null;J===!1&&(C=O);let ct=q===y[B]&&q!==p[B]&&it;if(ct&&s&&e.manuallyAnimateOnMount&&(ct=!1),H.protectedKeys={...A},!H.isActive&&J===null||!q&&!H.prevProp||od(q)||typeof q=="boolean")continue;const V=yO(H.prevProp,q);let R=V||B===m&&H.isActive&&!ct&&it||O>C&&it,I=!1;const D=Array.isArray(q)?q:[q];let k=D.reduce(a(B),{});J===!1&&(k={});const{prevResolvedValues:j={}}=H,N={...j,...k},ne=at=>{R=!0,E.has(at)&&(I=!0,E.delete(at)),H.needsAnimating[at]=!0;const ft=e.getValue(at);ft&&(ft.liveStyle=!1)};for(const at in N){const ft=k[at],kt=j[at];if(A.hasOwnProperty(at))continue;let L=!1;Dg(ft)&&Dg(kt)?L=!HA(ft,kt):L=ft!==kt,L?ft!=null?ne(at):E.add(at):ft!==void 0&&E.has(at)?ne(at):H.protectedKeys[at]=!0}H.prevProp=q,H.prevResolvedValues=k,H.isActive&&(A={...A,...k}),s&&e.blockInitialAnimation&&(R=!1),R&&(!(ct&&V)||I)&&_.push(...D.map(at=>({animation:at,options:{type:B}})))}if(E.size){const O={};if(typeof p.initial!="boolean"){const B=tc(e,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(O.transition=B.transition)}E.forEach(B=>{const H=e.getBaseTarget(B),q=e.getValue(B);q&&(q.liveStyle=!0),O[B]=H??null}),_.push({animation:O})}let M=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(M=!1),s=!1,M?t(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(E=>{var A;return(A=E.animationState)==null?void 0:A.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=YE(),s=!0}}}function yO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!HA(t,e):!1}function ga(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YE(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}class Rr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vO extends Rr{constructor(t){super(t),t.animationState||(t.animationState=gO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();od(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let _O=0;class TO extends Rr{constructor(){super(...arguments),this.id=_O++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const EO={animation:{Feature:vO},exit:{Feature:TO}};function ec(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function vc(e){return{point:{x:e.pageX,y:e.pageY}}}const bO=e=>t=>jy(t)&&e(t,vc(t));function Uu(e,t,n,s){return ec(e,t,bO(n),s)}function GA({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function wO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function AO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const KA=1e-4,SO=1-KA,xO=1+KA,YA=.01,RO=0-YA,CO=0+YA;function yn(e){return e.max-e.min}function IO(e,t,n){return Math.abs(e-t)<=n}function $E(e,t,n,s=.5){e.origin=s,e.originPoint=oe(t.min,t.max,e.origin),e.scale=yn(n)/yn(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=SO&&e.scale<=xO||isNaN(e.scale))&&(e.scale=1),(e.translate>=RO&&e.translate<=CO||isNaN(e.translate))&&(e.translate=0)}function Fu(e,t,n,s){$E(e.x,t.x,n.x,s?s.originX:void 0),$E(e.y,t.y,n.y,s?s.originY:void 0)}function XE(e,t,n){e.min=n.min+t.min,e.max=e.min+yn(t)}function DO(e,t,n){XE(e.x,t.x,n.x),XE(e.y,t.y,n.y)}function QE(e,t,n){e.min=t.min-n.min,e.max=e.min+yn(t)}function ju(e,t,n){QE(e.x,t.x,n.x),QE(e.y,t.y,n.y)}const WE=()=>({translate:0,scale:1,origin:0,originPoint:0}),jo=()=>({x:WE(),y:WE()}),ZE=()=>({min:0,max:0}),Ee=()=>({x:ZE(),y:ZE()});function Jn(e){return[e("x"),e("y")]}function Xp(e){return e===void 0||e===1}function Og({scale:e,scaleX:t,scaleY:n}){return!Xp(e)||!Xp(t)||!Xp(n)}function va(e){return Og(e)||$A(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $A(e){return JE(e.x)||JE(e.y)}function JE(e){return e&&e!=="0%"}function Vf(e,t,n){const s=e-n,a=t*s;return n+a}function t1(e,t,n,s,a){return a!==void 0&&(e=Vf(e,a,s)),Vf(e,n,s)+t}function Mg(e,t=0,n=1,s,a){e.min=t1(e.min,t,n,s,a),e.max=t1(e.max,t,n,s,a)}function XA(e,{x:t,y:n}){Mg(e.x,t.translate,t.scale,t.originPoint),Mg(e.y,n.translate,n.scale,n.originPoint)}const e1=.999999999999,n1=1.0000000000001;function NO(e,t,n,s=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&zo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,XA(e,c)),s&&va(l.latestValues)&&zo(e,l.latestValues))}t.x<n1&&t.x>e1&&(t.x=1),t.y<n1&&t.y>e1&&(t.y=1)}function Bo(e,t){e.min=e.min+t,e.max=e.max+t}function i1(e,t,n,s,a=.5){const l=oe(e.min,e.max,a);Mg(e,t,n,l,s)}function zo(e,t){i1(e.x,t.x,t.scaleX,t.scale,t.originX),i1(e.y,t.y,t.scaleY,t.scale,t.originY)}function QA(e,t){return GA(AO(e.getBoundingClientRect(),t))}function PO(e,t,n){const s=QA(e,n),{scroll:a}=t;return a&&(Bo(s.x,a.offset.x),Bo(s.y,a.offset.y)),s}const WA=({current:e})=>e?e.ownerDocument.defaultView:null,s1=(e,t)=>Math.abs(e-t);function OO(e,t){const n=s1(e.x,t.x),s=s1(e.y,t.y);return Math.sqrt(n**2+s**2)}class ZA{constructor(t,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Wp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=OO(_.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:C}=_,{timestamp:M}=Xe;this.history.push({...C,timestamp:M});const{onStart:O,onMove:B}=this.handlers;E||(O&&O(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Qp(E,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:A,onSessionEnd:C,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Wp(_.type==="pointercancel"?this.lastMoveEventInfo:Qp(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(_,O),C&&C(_,O)},!jy(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=vc(t),f=Qp(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=Xe;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(t,Wp(f,this.history)),this.removeListeners=pc(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vr(this.updatePoint)}}function Qp(e,t){return t?{point:t(e.point)}:e}function r1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wp({point:e},t){return{point:e,delta:r1(e,JA(t)),offset:r1(e,MO(t)),velocity:VO(t,.1)}}function MO(e){return e[0]}function JA(e){return e[e.length-1]}function VO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const a=JA(e);for(;n>=0&&(s=e[n],!(a.timestamp-s.timestamp>Pi(t)));)n--;if(!s)return{x:0,y:0};const l=Oi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function kO(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?oe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?oe(n,e,s.max):Math.min(e,n)),e}function a1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function LO(e,{top:t,left:n,bottom:s,right:a}){return{x:a1(e.x,n,a),y:a1(e.y,t,s)}}function o1(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function UO(e,t){return{x:o1(e.x,t.x),y:o1(e.y,t.y)}}function FO(e,t){let n=.5;const s=yn(e),a=yn(t);return a>s?n=Xu(t.min,t.max-s,e.min):s>a&&(n=Xu(e.min,e.max-a,t.min)),As(0,1,n)}function jO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Vg=.35;function BO(e=Vg){return e===!1?e=0:e===!0&&(e=Vg),{x:l1(e,"left","right"),y:l1(e,"top","bottom")}}function l1(e,t,n){return{min:u1(e,t),max:u1(e,n)}}function u1(e,t){return typeof e=="number"?e:e[t]||0}const zO=new WeakMap;class HO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vc(y).point)},l=(y,_)=>{const{drag:E,dragPropagation:A,onDragStart:C}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aP(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(O=>{let B=this.getAxisMotionValue(O).get()||0;if(Mi.test(B)){const{projection:H}=this.visualElement;if(H&&H.layout){const q=H.layout.layoutBox[O];q&&(B=yn(q)*(parseFloat(B)/100))}}this.originPoint[O]=B}),C&&ue.postRender(()=>C(y,_)),Ng(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:C,onDrag:M}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:O}=_;if(A&&this.currentDirection===null){this.currentDirection=qO(O),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,O),this.updateAxis("y",_.point,O),this.visualElement.render(),M&&M(y,_)},f=(y,_)=>this.stop(y,_),m=()=>Jn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ZA(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:WA(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ue.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:a}=this.getProps();if(!s||!nf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=kO(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Fo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=LO(s.layoutBox,t):this.constraints=!1,this.elastic=BO(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Jn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=jO(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Fo(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=PO(s,a.root,this.visualElement.getTransformPagePoint());let c=UO(a.layout.layoutBox,l);if(n){const f=n(wO(c));this.hasMutatedConstraints=!!f,f&&(c=GA(f))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Jn(y=>{if(!nf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,C={type:"inertia",velocity:s?t[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Ng(this.visualElement,t),s.start(Xy(t,s,0,n,this.visualElement,!1))}stopAnimation(){Jn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Jn(n=>{const{drag:s}=this.getProps();if(!nf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-oe(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Fo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Jn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=FO({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Jn(c=>{if(!nf(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(oe(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;zO.set(this.visualElement,this);const t=this.visualElement.current,n=Uu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Fo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ue.read(s);const c=ec(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Jn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Vg,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function nf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function qO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class GO extends Rr{constructor(t){super(t),this.removeGroupControls=ti,this.removeListeners=ti,this.controls=new HO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ti}unmount(){this.removeGroupControls(),this.removeListeners()}}const c1=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class KO extends Rr{constructor(){super(...arguments),this.removePointerDownListener=ti}onPointerDown(t){this.session=new ZA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:c1(t),onStart:c1(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ue.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function h1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(wt.test(e))e=parseFloat(e);else return e;const n=h1(e,t.target.x),s=h1(e,t.target.y);return`${n}% ${s}%`}},YO={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,a=_r.parse(e);if(a.length>5)return s;const l=_r.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=oe(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class $O extends U.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=t;PP(XO),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ue.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Fy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tS(e){const[t,n]=pP(),s=U.useContext(kw);return x.jsx($O,{...e,layoutGroup:s,switchLayoutGroup:U.useContext(PA),isPresent:t,safeToRemove:n})}const XO={borderRadius:{...Ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ru,borderTopRightRadius:Ru,borderBottomLeftRadius:Ru,borderBottomRightRadius:Ru,boxShadow:YO};function QO(e,t,n){const s=un(e)?e:$o(e);return s.start(Xy("",s,t,n)),s.animation}const WO=(e,t)=>e.depth-t.depth;class ZO{constructor(){this.children=[],this.isDirty=!1}add(t){Ty(this.children,t),this.isDirty=!0}remove(t){Ey(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(WO),this.isDirty=!1,this.children.forEach(t)}}function JO(e,t){const n=wn.now(),s=({timestamp:a})=>{const l=a-n;l>=t&&(vr(s),e(l-t))};return ue.setup(s,!0),()=>vr(s)}const eS=["TopLeft","TopRight","BottomLeft","BottomRight"],t4=eS.length,f1=e=>typeof e=="string"?parseFloat(e):e,d1=e=>typeof e=="number"||wt.test(e);function e4(e,t,n,s,a,l){a?(e.opacity=oe(0,n.opacity??1,n4(s)),e.opacityExit=oe(t.opacity??1,0,i4(s))):l&&(e.opacity=oe(t.opacity??1,n.opacity??1,s));for(let c=0;c<t4;c++){const f=`border${eS[c]}Radius`;let m=m1(t,f),p=m1(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||d1(m)===d1(p)?(e[f]=Math.max(oe(f1(m),f1(p),s),0),(Mi.test(p)||Mi.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,s))}function m1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const n4=nS(0,.5,Yw),i4=nS(.5,.95,ti);function nS(e,t,n){return s=>s<e?0:s>t?1:n(Xu(e,t,s))}function p1(e,t){e.min=t.min,e.max=t.max}function Zn(e,t){p1(e.x,t.x),p1(e.y,t.y)}function g1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function y1(e,t,n,s,a){return e-=t,e=Vf(e,1/n,s),a!==void 0&&(e=Vf(e,1/a,s)),e}function s4(e,t=0,n=1,s=.5,a,l=e,c=e){if(Mi.test(t)&&(t=parseFloat(t),t=oe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=oe(l.min,l.max,s);e===l&&(f-=t),e.min=y1(e.min,t,n,f,a),e.max=y1(e.max,t,n,f,a)}function v1(e,t,[n,s,a],l,c){s4(e,t[n],t[s],t[a],t.scale,l,c)}const r4=["x","scaleX","originX"],a4=["y","scaleY","originY"];function _1(e,t,n,s){v1(e.x,t,r4,n?n.x:void 0,s?s.x:void 0),v1(e.y,t,a4,n?n.y:void 0,s?s.y:void 0)}function T1(e){return e.translate===0&&e.scale===1}function iS(e){return T1(e.x)&&T1(e.y)}function E1(e,t){return e.min===t.min&&e.max===t.max}function o4(e,t){return E1(e.x,t.x)&&E1(e.y,t.y)}function b1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sS(e,t){return b1(e.x,t.x)&&b1(e.y,t.y)}function w1(e){return yn(e.x)/yn(e.y)}function A1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class l4{constructor(){this.members=[]}add(t){Ty(this.members,t),t.scheduleRender()}remove(t){if(Ey(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function u4(e,t,n){let s="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:A,skewY:C}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),_&&(s+=`rotateX(${_}deg) `),E&&(s+=`rotateY(${E}deg) `),A&&(s+=`skewX(${A}deg) `),C&&(s+=`skewY(${C}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(s+=`scale(${f}, ${m})`),s||"none"}const Zp=["","X","Y","Z"],c4={visibility:"hidden"},h4=1e3;let f4=0;function Jp(e,t,n,s){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function rS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=BA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(a||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&rS(s)}function aS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},f=t==null?void 0:t()){this.id=f4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(p4),this.nodes.forEach(T4),this.nodes.forEach(E4),this.nodes.forEach(g4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZO)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ay),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=xA(c)&&!fP(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let y;const _=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=JO(_,250),yf.hasAnimatedSinceResize&&(yf.hasAnimatedSinceResize=!1,this.nodes.forEach(x1))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||x4,{onLayoutAnimationStart:M,onLayoutAnimationComplete:O}=p.getProps(),B=!this.targetLayout||!sS(this.targetLayout,A),H=!_&&E;if(this.options.layoutRoot||this.resumeFrom||H||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Ly(C,"layout"),onPlay:M,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,H)}else _||x1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S1);return}this.isUpdating||this.nodes.forEach(v4),this.isUpdating=!1,this.nodes.forEach(_4),this.nodes.forEach(d4),this.nodes.forEach(m4),this.clearAllSnapshots();const f=wn.now();Xe.delta=As(0,1e3/60,f-Xe.timestamp),Xe.timestamp=f,Xe.isProcessing=!0,Hp.update.process(Xe),Hp.preRender.process(Xe),Hp.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y4),this.sharedNodes.forEach(w4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!iS(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||va(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),R4(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Ee();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(C4))){const{scroll:y}=this.root;y&&(Bo(f.x,y.offset.x),Bo(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Ee();if(Zn(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Zn(f,c),Bo(f.x,_.offset.x),Bo(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Ee();Zn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&zo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),va(y.latestValues)&&zo(m,y.latestValues)}return va(this.latestValues)&&zo(m,this.latestValues),m}removeTransform(c){const f=Ee();Zn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!va(p.latestValues))continue;Og(p.latestValues)&&p.updateSnapshot();const y=Ee(),_=p.measurePageBox();Zn(y,_),_1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return va(this.latestValues)&&_1(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),ju(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),XA(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),ju(this.relativeTargetOrigin,this.target,A.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Og(this.parent.latestValues)||$A(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Zn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;NO(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ee());const{target:A}=c;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(g1(this.prevProjectionDelta.x,this.projectionDelta.x),g1(this.prevProjectionDelta.y,this.projectionDelta.y)),Fu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!A1(this.projectionDelta.x,this.prevProjectionDelta.x)||!A1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jo(),this.projectionDelta=jo(),this.projectionDeltaWithTransform=jo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=Ee(),A=m?m.source:void 0,C=this.layout?this.layout.source:void 0,M=A!==C,O=this.getStack(),B=!O||O.members.length<=1,H=!!(M&&!B&&this.options.crossfade===!0&&!this.path.some(S4));this.animationProgress=0;let q;this.mixTargetDelta=it=>{const J=it/1e3;R1(_.x,c.x,J),R1(_.y,c.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ju(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),A4(this.relativeTarget,this.relativeTargetOrigin,E,J),q&&o4(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Ee()),Zn(q,this.relativeTarget)),M&&(this.animationValues=y,e4(y,p,this.latestValues,J,H,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$o(0)),this.currentAnimation=QO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(h4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&oS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Ee();const _=yn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=yn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Zn(f,m),zo(f,y),Fu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new l4),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Jp("z",c,p,this.animationValues);for(let y=0;y<Zp.length;y++)Jp(`rotate${Zp[y]}`,c,p,this.animationValues),Jp(`skew${Zp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return c4;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=gf(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=gf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(A.transform=m?m({},""):"none",this.hasProjected=!1),A}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=u4(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:_,y:E}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const A in Ju){if(y[A]===void 0)continue;const{correct:C,applyTo:M,isCSSVariable:O}=Ju[A],B=f.transform==="none"?y[A]:C(y[A],p);if(M){const H=M.length;for(let q=0;q<H;q++)f[M[q]]=B}else O?this.options.visualElement.renderState.vars[A]=B:f[A]=B}return this.options.layoutId&&(f.pointerEvents=p===this?gf(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(S1),this.root.sharedNodes.clear()}}}function d4(e){e.updateLayout()}function m4(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Jn(_=>{const E=c?t.measuredBox[_]:t.layoutBox[_],A=yn(E);E.min=s[_].min,E.max=E.min+A}):oS(l,t.layoutBox,s)&&Jn(_=>{const E=c?t.measuredBox[_]:t.layoutBox[_],A=yn(s[_]);E.max=E.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+A)});const f=jo();Fu(f,s,t.layoutBox);const m=jo();c?Fu(m,e.applyTransform(a,!0),t.measuredBox):Fu(m,s,t.layoutBox);const p=!iS(f);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:A}=_;if(E&&A){const C=Ee();ju(C,t.layoutBox,E.layoutBox);const M=Ee();ju(M,s,A.layoutBox),sS(C,M)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=M,e.relativeTargetOrigin=C,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function p4(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function g4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function y4(e){e.clearSnapshot()}function S1(e){e.clearMeasurements()}function v4(e){e.isLayoutDirty=!1}function _4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function x1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function T4(e){e.resolveTargetDelta()}function E4(e){e.calcProjection()}function b4(e){e.resetSkewAndRotation()}function w4(e){e.removeLeadSnapshot()}function R1(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function C1(e,t,n,s){e.min=oe(t.min,n.min,s),e.max=oe(t.max,n.max,s)}function A4(e,t,n,s){C1(e.x,t.x,n.x,s),C1(e.y,t.y,n.y,s)}function S4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const x4={duration:.45,ease:[.4,0,.1,1]},I1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),D1=I1("applewebkit/")&&!I1("chrome/")?Math.round:ti;function N1(e){e.min=D1(e.min),e.max=D1(e.max)}function R4(e){N1(e.x),N1(e.y)}function oS(e,t,n){return e==="position"||e==="preserve-aspect"&&!IO(w1(t),w1(n),.2)}function C4(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const I4=aS({attachResizeListener:(e,t)=>ec(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tg={current:void 0},lS=aS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!tg.current){const e=new I4({});e.mount(window),e.setOptions({layoutScroll:!0}),tg.current=e}return tg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),D4={pan:{Feature:KO},drag:{Feature:GO,ProjectionNode:lS,MeasureLayout:tS}};function P1(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ue.postRender(()=>l(t,vc(t)))}class N4 extends Rr{mount(){const{current:t}=this.node;t&&(this.unmount=oP(t,(n,s)=>(P1(this.node,s,"Start"),a=>P1(this.node,a,"End"))))}unmount(){}}class P4 extends Rr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pc(ec(this.node.current,"focus",()=>this.onFocus()),ec(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O1(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ue.postRender(()=>l(t,vc(t)))}class O4 extends Rr{mount(){const{current:t}=this.node;t&&(this.unmount=hP(t,(n,s)=>(O1(this.node,s,"Start"),(a,{success:l})=>O1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kg=new WeakMap,eg=new WeakMap,M4=e=>{const t=kg.get(e.target);t&&t(e)},V4=e=>{e.forEach(M4)};function k4({root:e,...t}){const n=e||document;eg.has(n)||eg.set(n,{});const s=eg.get(n),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(V4,{root:e,...t})),s[a]}function L4(e,t,n){const s=k4(t);return kg.set(e,n),s.observe(e),()=>{kg.delete(e),s.unobserve(e)}}const U4={some:0,all:1};class F4 extends Rr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:U4[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return L4(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(j4(t,n))&&this.startObserver()}unmount(){}}function j4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const B4={inView:{Feature:F4},tap:{Feature:O4},focus:{Feature:P4},hover:{Feature:N4}},z4={layout:{ProjectionNode:lS,MeasureLayout:tS}},Lg={current:null},uS={current:!1};function H4(){if(uS.current=!0,!!vy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Lg.current=e.matches;e.addListener(t),t()}else Lg.current=!1}const q4=new WeakMap;function G4(e,t,n){for(const s in t){const a=t[s],l=n[s];if(un(a))e.addValue(s,a);else if(un(l))e.addValue(s,$o(a,{owner:e}));else if(l!==a)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(s);e.addValue(s,$o(c!==void 0?c:a,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const M1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class K4{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ky,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ue.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=ld(n),this.isVariantNode=DA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const A=_[E];m[E]!==void 0&&un(A)&&A.set(m[E],!1)}}mount(t){this.current=t,q4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),uS.current||H4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Lg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),vr(this.notifyUpdate),vr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=ll.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xo){const n=Xo[t];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<M1.length;s++){const a=M1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=G4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=$o(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Lw(s)||Fw(s))?s=parseFloat(s):!mP(s)&&_r.test(n)&&(s=EA(t,n)),this.setBaseTarget(t,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Yy(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!un(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ay),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class cS extends K4{constructor(){super(...arguments),this.KeyframeResolver=nP}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function hS(e,{style:t,vars:n},s,a){Object.assign(e.style,t,a&&a.getProjectionStyles(s));for(const l in n)e.style.setProperty(l,n[l])}function Y4(e){return window.getComputedStyle(e)}class $4 extends cS{constructor(){super(...arguments),this.type="html",this.renderInstance=hS}readValueFromInstance(t,n){var s;if(ll.has(n))return(s=this.projection)!=null&&s.isProjecting?Ag(n):EN(t,n);{const a=Y4(t),l=(Ry(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return QA(t,n)}build(t,n,s){qy(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return $y(t,n,s)}}const fS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function X4(e,t,n,s){hS(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(fS.has(a)?a:Hy(a),t.attrs[a])}class Q4 extends cS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ll.has(n)){const s=TA(n);return s&&s.default||0}return n=fS.has(n)?n:Hy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return jA(t,n,s)}build(t,n,s){kA(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,a){X4(t,n,s,a)}mount(t){this.isSVGTag=UA(t.tagName),super.mount(t)}}const W4=(e,t)=>Ky(e)?new Q4(t):new $4(t,{allowProjection:e!==U.Fragment}),Z4=XP({...EO,...B4,...D4,...z4},W4),We=TP(Z4);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),V1=e=>{const t=tM(e);return t.charAt(0).toUpperCase()+t.slice(1)},dS=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),eM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=U.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...f},m)=>U.createElement("svg",{ref:m,...nM,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:dS("lucide",a),...!l&&!eM(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>U.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=(e,t)=>{const n=U.forwardRef(({className:s,...a},l)=>U.createElement(iM,{ref:l,iconNode:t,className:dS(`lucide-${J4(V1(e))}`,`lucide-${e}`,s),...a}));return n.displayName=V1(e),n};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],rM=Sn("chart-no-axes-column-increasing",sM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],oM=Sn("circle-plus",aM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],k1=Sn("file-text",lM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],cM=Sn("grid-3x3",uM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],fM=Sn("heart",hM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],mM=Sn("house",dM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gM=Sn("log-out",pM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vM=Sn("mail",yM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],TM=Sn("menu",_M);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bM=Sn("settings",EM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],AM=Sn("square-pen",wM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],xM=Sn("trash-2",SM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CM=Sn("users",RM);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DM=Sn("x",IM),NM=()=>{};var L1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},PM=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const a=e[n++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},pS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,A=p&63;m||(A=64,c||(E=64)),s.push(n[y],n[_],n[E],n[A])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):PM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new OM;const E=l<<2|f>>4;if(s.push(E),p!==64){const A=f<<4&240|p>>2;if(s.push(A),_!==64){const C=p<<6&192|_;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class OM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MM=function(e){const t=mS(e);return pS.encodeByteArray(t,!0)},kf=function(e){return MM(e).replace(/\./g,"")},gS=function(e){try{return pS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=()=>VM().__FIREBASE_DEFAULTS__,LM=()=>{if(typeof process>"u"||typeof L1>"u")return;const e=L1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},UM=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&gS(e[1]);return t&&JSON.parse(t)},ud=()=>{try{return NM()||kM()||LM()||UM()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},yS=e=>{var t,n;return(n=(t=ud())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},vS=e=>{const t=yS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},_S=()=>{var e;return(e=ud())===null||e===void 0?void 0:e.config},TS=e=>{var t;return(t=ud())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(e){return e.endsWith(".cloudworkstations.dev")}async function Qy(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[kf(JSON.stringify(n)),kf(JSON.stringify(c)),""].join(".")}const Bu={};function jM(){const e={prod:[],emulator:[]};for(const t of Object.keys(Bu))Bu[t]?e.emulator.push(t):e.prod.push(t);return e}function BM(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let U1=!1;function Wy(e,t){if(typeof window>"u"||typeof document>"u"||!Cr(window.location.host)||Bu[e]===t||Bu[e]||U1)return;Bu[e]=t;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=jM().prod.length>0;function c(){const E=document.getElementById(s);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{U1=!0,c()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=BM(s),A=n("text"),C=document.getElementById(A)||document.createElement("span"),M=n("learnmore"),O=document.getElementById(M)||document.createElement("a"),B=n("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;f(q),y(O,M);const it=p();m(H,B),q.append(H,C,O,it),document.body.appendChild(q)}l?(C.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function HM(){var e;const t=(e=ud())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GM(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function KM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YM(){const e=cn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $M(){return!HM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XM(){try{return typeof indexedDB=="object"}catch{return!1}}function QM(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="FirebaseError";class Gi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=WM,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?ZM(l,s):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Gi(a,f,s)}}function ZM(e,t){return e.replace(JM,(n,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const JM=/\{\$([^}]+)}/g;function tV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ra(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const a of n){if(!s.includes(a))return!1;const l=e[a],c=t[a];if(F1(l)&&F1(c)){if(!Ra(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function F1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Du(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Nu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function eV(e,t){const n=new nV(e,t);return n.subscribe.bind(n)}class nV{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let a;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");iV(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:s},a.next===void 0&&(a.next=ng),a.error===void 0&&(a.error=ng),a.complete===void 0&&(a.complete=ng);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iV(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e){return e&&e._delegate?e._delegate:e}class Tr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new FM;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aV(t))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(t=_a){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_a){return this.instances.has(t)}getOptions(t=_a){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&c.resolve(a)}return a}onInit(t,n){var s;const a=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rV(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=_a){return this.component?this.component.multipleInstances?t:_a:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rV(e){return e===_a?void 0:e}function aV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new sV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Mt||(Mt={}));const lV={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},uV=Mt.INFO,cV={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},hV=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),a=cV[t];if(a)console[a](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zy{constructor(t){this.name=t,this._logLevel=uV,this._logHandler=hV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const fV=(e,t)=>t.some(n=>e instanceof n);let j1,B1;function dV(){return j1||(j1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mV(){return B1||(B1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bS=new WeakMap,Ug=new WeakMap,wS=new WeakMap,ig=new WeakMap,Jy=new WeakMap;function pV(e){const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(mr(e.result)),a()},c=()=>{s(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&bS.set(n,e)}).catch(()=>{}),Jy.set(t,e),t}function gV(e){if(Ug.has(e))return;const t=new Promise((n,s)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Ug.set(e,t)}let Fg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ug.get(e);if(t==="objectStoreNames")return e.objectStoreNames||wS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function yV(e){Fg=e(Fg)}function vV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(sg(this),t,...n);return wS.set(s,t.sort?t.sort():[t]),mr(s)}:mV().includes(e)?function(...t){return e.apply(sg(this),t),mr(bS.get(this))}:function(...t){return mr(e.apply(sg(this),t))}}function _V(e){return typeof e=="function"?vV(e):(e instanceof IDBTransaction&&gV(e),fV(e,dV())?new Proxy(e,Fg):e)}function mr(e){if(e instanceof IDBRequest)return pV(e);if(ig.has(e))return ig.get(e);const t=_V(e);return t!==e&&(ig.set(e,t),Jy.set(t,e)),t}const sg=e=>Jy.get(e);function TV(e,t,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=mr(c);return s&&c.addEventListener("upgradeneeded",m=>{s(mr(c.result),m.oldVersion,m.newVersion,mr(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const EV=["get","getKey","getAll","getAllKeys","count"],bV=["put","add","delete","clear"],rg=new Map;function z1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(rg.get(t))return rg.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,a=bV.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||EV.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return rg.set(t,l),l}yV(e=>({...e,get:(t,n,s)=>z1(t,n)||e.get(t,n,s),has:(t,n)=>!!z1(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AV(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function AV(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const jg="@firebase/app",H1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Zy("@firebase/app"),SV="@firebase/app-compat",xV="@firebase/analytics-compat",RV="@firebase/analytics",CV="@firebase/app-check-compat",IV="@firebase/app-check",DV="@firebase/auth",NV="@firebase/auth-compat",PV="@firebase/database",OV="@firebase/data-connect",MV="@firebase/database-compat",VV="@firebase/functions",kV="@firebase/functions-compat",LV="@firebase/installations",UV="@firebase/installations-compat",FV="@firebase/messaging",jV="@firebase/messaging-compat",BV="@firebase/performance",zV="@firebase/performance-compat",HV="@firebase/remote-config",qV="@firebase/remote-config-compat",GV="@firebase/storage",KV="@firebase/storage-compat",YV="@firebase/firestore",$V="@firebase/ai",XV="@firebase/firestore-compat",QV="firebase",WV="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="[DEFAULT]",ZV={[jg]:"fire-core",[SV]:"fire-core-compat",[RV]:"fire-analytics",[xV]:"fire-analytics-compat",[IV]:"fire-app-check",[CV]:"fire-app-check-compat",[DV]:"fire-auth",[NV]:"fire-auth-compat",[PV]:"fire-rtdb",[OV]:"fire-data-connect",[MV]:"fire-rtdb-compat",[VV]:"fire-fn",[kV]:"fire-fn-compat",[LV]:"fire-iid",[UV]:"fire-iid-compat",[FV]:"fire-fcm",[jV]:"fire-fcm-compat",[BV]:"fire-perf",[zV]:"fire-perf-compat",[HV]:"fire-rc",[qV]:"fire-rc-compat",[GV]:"fire-gcs",[KV]:"fire-gcs-compat",[YV]:"fire-fst",[XV]:"fire-fst-compat",[$V]:"fire-vertex","fire-js":"fire-js",[QV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Map,JV=new Map,zg=new Map;function q1(e,t){try{e.container.addComponent(t)}catch(n){xs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ca(e){const t=e.name;if(zg.has(t))return xs.debug(`There were multiple attempts to register component ${t}.`),!1;zg.set(t,e);for(const n of Lf.values())q1(n,e);for(const n of JV.values())q1(n,e);return!0}function cd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new _c("app","Firebase",tk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=WV;function AS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Bg,automaticDataCollectionEnabled:!0},t),a=s.name;if(typeof a!="string"||!a)throw pr.create("bad-app-name",{appName:String(a)});if(n||(n=_S()),!n)throw pr.create("no-options");const l=Lf.get(a);if(l){if(Ra(n,l.options)&&Ra(s,l.config))return l;throw pr.create("duplicate-app",{appName:a})}const c=new oV(a);for(const m of zg.values())c.addComponent(m);const f=new ek(n,s,c);return Lf.set(a,f),f}function tv(e=Bg){const t=Lf.get(e);if(!t&&e===Bg&&_S())return AS();if(!t)throw pr.create("no-app",{appName:e});return t}function Vi(e,t,n){var s;let a=(s=ZV[e])!==null&&s!==void 0?s:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xs.warn(f.join(" "));return}Ca(new Tr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="firebase-heartbeat-database",ik=1,nc="firebase-heartbeat-store";let ag=null;function SS(){return ag||(ag=TV(nk,ik,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(e=>{throw pr.create("idb-open",{originalErrorMessage:e.message})})),ag}async function sk(e){try{const n=(await SS()).transaction(nc),s=await n.objectStore(nc).get(xS(e));return await n.done,s}catch(t){if(t instanceof Gi)xs.warn(t.message);else{const n=pr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xs.warn(n.message)}}}async function G1(e,t){try{const s=(await SS()).transaction(nc,"readwrite");await s.objectStore(nc).put(t,xS(e)),await s.done}catch(n){if(n instanceof Gi)xs.warn(n.message);else{const s=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xs.warn(s.message)}}}function xS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=1024,ak=30;class ok{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=K1();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>ak){const c=ck(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xs.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K1(),{heartbeatsToSend:s,unsentEntries:a}=lk(this._heartbeatsCache.heartbeats),l=kf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return xs.warn(n),""}}}function K1(){return new Date().toISOString().substring(0,10)}function lk(e,t=rk){const n=[];let s=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Y1(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Y1(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XM()?QM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return G1(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return G1(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Y1(e){return kf(JSON.stringify({version:2,heartbeats:e})).length}function ck(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(e){Ca(new Tr("platform-logger",t=>new wV(t),"PRIVATE")),Ca(new Tr("heartbeat",t=>new ok(t),"PRIVATE")),Vi(jg,H1,e),Vi(jg,H1,"esm2017"),Vi("fire-js","")}hk("");var fk="firebase",dk="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(fk,dk,"app");function ev(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function RS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mk=RS,CS=new _c("auth","Firebase",RS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Zy("@firebase/auth");function pk(e,...t){Uf.logLevel<=Mt.WARN&&Uf.warn(`Auth (${Va}): ${e}`,...t)}function vf(e,...t){Uf.logLevel<=Mt.ERROR&&Uf.error(`Auth (${Va}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(e,...t){throw nv(e,...t)}function ki(e,...t){return nv(e,...t)}function IS(e,t,n){const s=Object.assign(Object.assign({},mk()),{[t]:n});return new _c("auth","Firebase",s).create(t,{appName:e.name})}function Es(e){return IS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nv(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return CS.create(e,...t)}function Tt(e,t,...n){if(!e)throw nv(t,...n)}function vs(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vf(t),new Error(t)}function Rs(e,t){e||vs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function gk(){return $1()==="http:"||$1()==="https:"}function $1(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gk()||GM()||"connection"in navigator)?navigator.onLine:!0}function vk(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n){this.shortDelay=t,this.longDelay=n,Rs(n>t,"Short delay should be less than long delay!"),this.isMobile=zM()||KM()}get(){return yk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(e,t){Rs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ek=new Ec(3e4,6e4);function Ir(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Dr(e,t,n,s,a={}){return NS(e,a,async()=>{let l={},c={};s&&(t==="GET"?c=s:l={body:JSON.stringify(s)});const f=Tc(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return qM()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&Cr(e.emulatorConfig.host)&&(p.credentials="include"),DS.fetch()(await PS(e,e.config.apiHost,n,f),p)})}async function NS(e,t,n){e._canInitEmulator=!1;const s=Object.assign(Object.assign({},_k),t);try{const a=new wk(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw sf(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw sf(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw sf(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw sf(e,"user-disabled",c);const y=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw IS(e,y,p);ci(e,y)}}catch(a){if(a instanceof Gi)throw a;ci(e,"network-request-failed",{message:String(a)})}}async function bc(e,t,n,s,a={}){const l=await Dr(e,t,n,s,a);return"mfaPendingCredential"in l&&ci(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function PS(e,t,n,s){const a=`${t}${n}?${s}`,l=e,c=l.config.emulator?iv(e.config,a):`${e.config.apiScheme}://${a}`;return Tk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function bk(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ki(this.auth,"network-request-failed")),Ek.get())})}}function sf(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ki(e,t,s);return a.customData._tokenResponse=n,a}function X1(e){return e!==void 0&&e.enterprise!==void 0}class Ak{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return bk(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Sk(e,t){return Dr(e,"GET","/v2/recaptchaConfig",Ir(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(e,t){return Dr(e,"POST","/v1/accounts:delete",t)}async function Ff(e,t){return Dr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Rk(e,t=!1){const n=pe(e),s=await n.getIdToken(t),a=sv(s);Tt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:zu(og(a.auth_time)),issuedAtTime:zu(og(a.iat)),expirationTime:zu(og(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function og(e){return Number(e)*1e3}function sv(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=gS(n);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Q1(e){const t=sv(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Gi&&Ck(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function Ck({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(e){var t;const n=e.auth,s=await e.getIdToken(),a=await ic(e,Ff(n,{idToken:s}));Tt(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?OS(l.providerUserInfo):[],f=Nk(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new qg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,_)}async function Dk(e){const t=pe(e);await jf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Nk(e,t){return[...e.filter(s=>!t.some(a=>a.providerId===s.providerId)),...t]}function OS(e){return e.map(t=>{var{providerId:n}=t,s=ev(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(e,t){const n=await NS(e,{},async()=>{const s=Tc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await PS(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return e.emulatorConfig&&Cr(e.emulatorConfig.host)&&(m.credentials="include"),DS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ok(e,t){return Dr(e,"POST","/v2/accounts:revokeToken",Ir(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Q1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=Q1(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Pk(t,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new qo;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Tt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ui{constructor(t){var{uid:n,auth:s,stsTokenManager:a}=t,l=ev(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ik(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new qg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await ic(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Rk(this,t)}reload(){return Dk(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ui(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await jf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Es(this.auth));const t=await this.getIdToken();return await ic(this,xk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,a,l,c,f,m,p,y;const _=(s=n.displayName)!==null&&s!==void 0?s:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,A=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,M=(f=n.tenantId)!==null&&f!==void 0?f:void 0,O=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,B=(p=n.createdAt)!==null&&p!==void 0?p:void 0,H=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:q,emailVerified:it,isAnonymous:J,providerData:ct,stsTokenManager:V}=n;Tt(q&&V,t,"internal-error");const R=qo.fromJSON(this.name,V);Tt(typeof q=="string",t,"internal-error"),ar(_,t.name),ar(E,t.name),Tt(typeof it=="boolean",t,"internal-error"),Tt(typeof J=="boolean",t,"internal-error"),ar(A,t.name),ar(C,t.name),ar(M,t.name),ar(O,t.name),ar(B,t.name),ar(H,t.name);const I=new ui({uid:q,auth:t,email:E,emailVerified:it,displayName:_,isAnonymous:J,photoURL:C,phoneNumber:A,tenantId:M,stsTokenManager:R,createdAt:B,lastLoginAt:H});return ct&&Array.isArray(ct)&&(I.providerData=ct.map(D=>Object.assign({},D))),O&&(I._redirectEventId=O),I}static async _fromIdTokenResponse(t,n,s=!1){const a=new qo;a.updateFromServerResponse(n);const l=new ui({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:s});return await jf(l),l}static async _fromGetAccountInfoResponse(t,n,s){const a=n.users[0];Tt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?OS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new qo;f.updateFromIdToken(s);const m=new ui({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new qg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=new Map;function _s(e){Rs(e instanceof Function,"Expected a class definition");let t=W1.get(e);return t?(Rs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,W1.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}MS.type="NONE";const Z1=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(e,t,n){return`firebase:${e}:${t}:${n}`}class Go{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=_f(this.userKey,a.apiKey,l),this.fullPersistenceKey=_f("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Ff(this.auth,{idToken:t}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Go(_s(Z1),t,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||_s(Z1);const c=_f(s,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await Ff(t,{idToken:y}).catch(()=>{});if(!E)break;_=await ui._fromGetAccountInfoResponse(t,E,y)}else _=ui._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Go(l,t,s):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Go(l,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(US(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jS(t))return"Blackberry";if(BS(t))return"Webos";if(kS(t))return"Safari";if((t.includes("chrome/")||LS(t))&&!t.includes("edge/"))return"Chrome";if(FS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function VS(e=cn()){return/firefox\//i.test(e)}function kS(e=cn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function LS(e=cn()){return/crios\//i.test(e)}function US(e=cn()){return/iemobile/i.test(e)}function FS(e=cn()){return/android/i.test(e)}function jS(e=cn()){return/blackberry/i.test(e)}function BS(e=cn()){return/webos/i.test(e)}function rv(e=cn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Mk(e=cn()){var t;return rv(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Vk(){return YM()&&document.documentMode===10}function zS(e=cn()){return rv(e)||FS(e)||BS(e)||jS(e)||/windows phone/i.test(e)||US(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(e,t=[]){let n;switch(e){case"Browser":n=J1(cn());break;case"Worker":n=`${J1(cn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Va}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(e,t={}){return Dr(e,"GET","/v2/passwordPolicy",Ir(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=6;class Fk{constructor(t){var n,s,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:Uk,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<t.length;a++)s=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,n,s,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tb(this),this.idTokenSubscription=new tb(this),this.beforeStateQueue=new kk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Go.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ff(this,{idToken:t}),s=await ui._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await jf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=vk()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Es(this));const n=t?pe(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Lk(this),n=new Fk(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new _c("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Ok(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&_s(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&pk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ka(e){return pe(e)}class tb{constructor(t){this.auth=t,this.observer=null,this.addObserver=eV(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bk(e){hd=e}function qS(e){return hd.loadJS(e)}function zk(){return hd.recaptchaEnterpriseScript}function Hk(){return hd.gapiScript}function qk(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class Gk{constructor(){this.enterprise=new Kk}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class Kk{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Yk="recaptcha-enterprise",GS="NO_RECAPTCHA";class $k{constructor(t){this.type=Yk,this.auth=ka(t)}async verify(t="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{Sk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new Ak(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;X1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(GS)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Gk().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(f=>{if(!n&&X1(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=zk();m.length!==0&&(m+=f),qS(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function eb(e,t,n,s=!1,a=!1){const l=new $k(e);let c;if(a)c=GS;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Gg(e,t,n,s,a){var l;if(!((l=e._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await eb(e,t,n,n==="getOobCode");return s(e,c)}else return s(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await eb(e,t,n,n==="getOobCode");return s(e,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(e,t){const n=cd(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ra(l,t??{}))return a;ci(a,"already-initialized")}return n.initialize({options:t})}function Qk(e,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(_s);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function Wk(e,t,n){const s=ka(e);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=!1,l=KS(t),{host:c,port:f}=Zk(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(Ra(p,s.config.emulator)&&Ra(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Cr(c)?(Qy(`${l}//${c}${m}`),Wy("Auth",!0)):Jk()}function KS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Zk(e){const t=KS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:nb(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:nb(c)}}}function nb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Jk(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(t){return vs("not implemented")}_linkToIdToken(t,n){return vs("not implemented")}_getReauthenticationResolver(t){return vs("not implemented")}}async function t3(e,t){return Dr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(e,t){return bc(e,"POST","/v1/accounts:signInWithPassword",Ir(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(e,t){return bc(e,"POST","/v1/accounts:signInWithEmailLink",Ir(e,t))}async function i3(e,t){return bc(e,"POST","/v1/accounts:signInWithEmailLink",Ir(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends av{constructor(t,n,s,a=null){super("password",s),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new sc(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new sc(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gg(t,n,"signInWithPassword",e3);case"emailLink":return n3(t,{email:this._email,oobCode:this._password});default:ci(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gg(t,s,"signUpPassword",t3);case"emailLink":return i3(t,{idToken:n,email:this._email,oobCode:this._password});default:ci(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(e,t){return bc(e,"POST","/v1/accounts:signInWithIdp",Ir(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="http://localhost";class Ia extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:a}=n,l=ev(n,["providerId","signInMethod"]);if(!s||!a)return null;const c=new Ia(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Ko(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ko(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ko(t,n)}buildRequest(){const t={requestUri:s3,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Tc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a3(e){const t=Du(Nu(e)).link,n=t?Du(Nu(t)).deep_link_id:null,s=Du(Nu(e)).deep_link_id;return(s?Du(Nu(s)).link:null)||s||n||t||e}class ov{constructor(t){var n,s,a,l,c,f;const m=Du(Nu(t)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(s=m.oobCode)!==null&&s!==void 0?s:null,_=r3((a=m.mode)!==null&&a!==void 0?a:null);Tt(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(t){const n=a3(t);try{return new ov(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(t,n){return sc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=ov.parseLink(n);return Tt(s,"argument-error"),sc._fromEmailAndCode(t,s.code,s.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends YS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends wc{constructor(){super("facebook.com")}static credential(t){return Ia._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ia._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ur.credential(n,s)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends wc{constructor(){super("github.com")}static credential(t){return Ia._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends wc{constructor(){super("twitter.com")}static credential(t,n){return Ia._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return hr.credential(n,s)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(e,t){return bc(e,"POST","/v1/accounts:signUp",Ir(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,a=!1){const l=await ui._fromIdTokenResponse(t,s,a),c=ib(s);return new Da({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const a=ib(s);return new Da({user:t,providerId:a,_tokenResponse:s,operationType:n})}}function ib(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends Gi{constructor(t,n,s,a){var l;super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,a){return new Bf(t,n,s,a)}}function $S(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bf._fromErrorAndOperation(e,l,t,s):l})}async function l3(e,t,n=!1){const s=await ic(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Da._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(e,t,n=!1){const{auth:s}=e;if(Vn(s.app))return Promise.reject(Es(s));const a="reauthenticate";try{const l=await ic(e,$S(s,a,t,e),n);Tt(l.idToken,s,"internal-error");const c=sv(l.idToken);Tt(c,s,"internal-error");const{sub:f}=c;return Tt(e.uid===f,s,"user-mismatch"),Da._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ci(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(e,t,n=!1){if(Vn(e.app))return Promise.reject(Es(e));const s="signIn",a=await $S(e,s,t),l=await Da._fromIdTokenResponse(e,s,a);return n||await e._updateCurrentUser(l.user),l}async function c3(e,t){return XS(ka(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(e){const t=ka(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function h3(e,t,n){if(Vn(e.app))return Promise.reject(Es(e));const s=ka(e),c=await Gg(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o3).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&QS(e),m}),f=await Da._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(f.user),f}function f3(e,t,n){return Vn(e.app)?Promise.reject(Es(e)):c3(pe(e),ul.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&QS(e),s})}function d3(e,t,n,s){return pe(e).onIdTokenChanged(t,n,s)}function m3(e,t,n){return pe(e).beforeAuthStateChanged(t,n)}function WS(e,t,n,s){return pe(e).onAuthStateChanged(t,n,s)}function ZS(e){return pe(e).signOut()}const zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zf,"1"),this.storage.removeItem(zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=1e3,g3=10;class tx extends JS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&t(n,a,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const s=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);Vk()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,g3):a()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},p3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}tx.type="LOCAL";const y3=tx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends JS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ex.type="SESSION";const nx=ex;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const s=new fd(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await v3(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=lv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function T3(e){Li().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function E3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b3(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function w3(){return ix()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firebaseLocalStorageDb",A3=1,Hf="firebaseLocalStorage",rx="fbase_key";class Ac{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(e,t){return e.transaction([Hf],t?"readwrite":"readonly").objectStore(Hf)}function S3(){const e=indexedDB.deleteDatabase(sx);return new Ac(e).toPromise()}function Kg(){const e=indexedDB.open(sx,A3);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(Hf,{keyPath:rx})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(Hf)?t(s):(s.close(),await S3(),t(await Kg()))})})}async function sb(e,t,n){const s=dd(e,!0).put({[rx]:t,value:n});return new Ac(s).toPromise()}async function x3(e,t){const n=dd(e,!1).get(t),s=await new Ac(n).toPromise();return s===void 0?null:s.value}function rb(e,t){const n=dd(e,!0).delete(t);return new Ac(n).toPromise()}const R3=800,C3=3;class ax{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>C3)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ix()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(w3()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await E3(),!this.activeServiceWorker)return;this.sender=new _3(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||b3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Kg();return await sb(t,zf,"1"),await rb(t,zf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sb(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>x3(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>rb(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=dd(a,!1).getAll();return new Ac(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ax.type="LOCAL";const I3=ax;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(e,t){return t?_s(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends av{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ko(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ko(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ko(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function N3(e){return XS(e.auth,new uv(e),e.bypassAuthState)}function P3(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),u3(n,new uv(e),e.bypassAuthState)}async function O3(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),l3(n,new uv(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n,s,a,l=!1){this.auth=t,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return N3;case"linkViaPopup":case"linkViaRedirect":return O3;case"reauthViaPopup":case"reauthViaRedirect":return P3;default:ci(this.auth,"internal-error")}}resolve(t){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new Ec(2e3,1e4);class Ho extends ox{constructor(t,n,s,a,l){super(t,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const t=lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,M3.get())};t()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="pendingRedirect",Tf=new Map;class k3 extends ox{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Tf.get(this.auth._key());if(!t){try{const s=await L3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Tf.set(this.auth._key(),t)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L3(e,t){const n=j3(t),s=F3(e);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function U3(e,t){Tf.set(e._key(),t)}function F3(e){return _s(e._redirectPersistence)}function j3(e){return _f(V3,e.config.apiKey,e.name)}async function B3(e,t,n=!1){if(Vn(e.app))return Promise.reject(Es(e));const s=ka(e),a=D3(s,t),c=await new k3(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=10*60*1e3;class H3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!q3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!lx(t)){const a=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ki(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=z3&&this.cachedEventUids.clear(),this.cachedEventUids.has(ab(t))}saveEventToCache(t){this.cachedEventUids.add(ab(t)),this.lastProcessedEventTime=Date.now()}}function ab(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function lx({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function q3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lx(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(e,t={}){return Dr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y3=/^https?/;async function $3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await G3(e);for(const n of t)try{if(X3(n))return}catch{}ci(e,"unauthorized-domain")}function X3(e){const t=Hg(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!Y3.test(n))return!1;if(K3.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new Ec(3e4,6e4);function ob(){const e=Li().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function W3(e){return new Promise((t,n)=>{var s,a,l;function c(){ob(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ob(),n(ki(e,"network-request-failed"))},timeout:Q3.get()})}if(!((a=(s=Li().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Li().gapi)===null||l===void 0)&&l.load)c();else{const f=qk("iframefcb");return Li()[f]=()=>{gapi.load?c():n(ki(e,"network-request-failed"))},qS(`${Hk()}?onload=${f}`).catch(m=>n(m))}}).catch(t=>{throw Ef=null,t})}let Ef=null;function Z3(e){return Ef=Ef||W3(e),Ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new Ec(5e3,15e3),t6="__/auth/iframe",e6="emulator/auth/iframe",n6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s6(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?iv(t,e6):`https://${e.config.authDomain}/${t6}`,s={apiKey:t.apiKey,appName:e.name,v:Va},a=i6.get(e.config.apiHost);a&&(s.eid=a);const l=e._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Tc(s).slice(1)}`}async function r6(e){const t=await Z3(e),n=Li().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:s6(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n6,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=ki(e,"network-request-failed"),f=Li().setTimeout(()=>{l(c)},J3.get());function m(){Li().clearTimeout(f),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o6=500,l6=600,u6="_blank",c6="http://localhost";class lb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h6(e,t,n,s=o6,a=l6){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m=Object.assign(Object.assign({},a6),{width:s.toString(),height:a.toString(),top:l,left:c}),p=cn().toLowerCase();n&&(f=LS(p)?u6:n),VS(p)&&(t=t||c6,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[A,C])=>`${E}${A}=${C},`,"");if(Mk(p)&&f!=="_self")return f6(t||"",f),new lb(null);const _=window.open(t||"",f,y);Tt(_,e,"popup-blocked");try{_.focus()}catch{}return new lb(_)}function f6(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="__/auth/handler",m6="emulator/auth/handler",p6=encodeURIComponent("fac");async function ub(e,t,n,s,a,l){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Va,eventId:a};if(t instanceof YS){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",tV(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof wc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${p6}=${encodeURIComponent(m)}`:"";return`${g6(e)}?${Tc(f).slice(1)}${p}`}function g6({config:e}){return e.emulator?iv(e,m6):`https://${e.authDomain}/${d6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="webStorageSupport";class y6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nx,this._completeRedirectFn=B3,this._overrideRedirectResult=U3}async _openPopup(t,n,s,a){var l;Rs((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await ub(t,n,s,Hg(),a);return h6(t,c,lv())}async _openRedirect(t,n,s,a){await this._originValidation(t);const l=await ub(t,n,s,Hg(),a);return T3(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Rs(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await r6(t),s=new H3(t);return n.register("authEvent",a=>(Tt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(lg,{type:lg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[lg];c!==void 0&&n(!!c),ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return zS()||kS()||rv()}}const v6=y6;var cb="@firebase/auth",hb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E6(e){Ca(new Tr("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=s.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HS(e)},p=new jk(s,a,l,m);return Qk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ca(new Tr("auth-internal",t=>{const n=ka(t.getProvider("auth").getImmediate());return(s=>new _6(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(cb,hb,T6(e)),Vi(cb,hb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=5*60,w6=TS("authIdTokenMaxAge")||b6;let fb=null;const A6=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>w6)return;const a=n==null?void 0:n.token;fb!==a&&(fb=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function S6(e=tv()){const t=cd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Xk(e,{popupRedirectResolver:v6,persistence:[I3,y3,nx]}),s=TS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=A6(l.toString());m3(n,c,()=>c(n.currentUser)),d3(n,f=>c(f))}}const a=yS("auth");return a&&Wk(n,`http://${a}`),n}function x6(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}Bk({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=a=>{const l=ki("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",x6().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E6("Browser");var db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gr,ux;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function I(){}I.prototype=R.prototype,V.D=R.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(D,k,j){for(var N=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)N[ne-2]=arguments[ne];return R.prototype[k].apply(D,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,R,I){I||(I=0);var D=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)D[k]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(k=0;16>k;++k)D[k]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=V.g[0],I=V.g[1],k=V.g[2];var j=V.g[3],N=R+(j^I&(k^j))+D[0]+3614090360&4294967295;R=I+(N<<7&4294967295|N>>>25),N=j+(k^R&(I^k))+D[1]+3905402710&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(I^j&(R^I))+D[2]+606105819&4294967295,k=j+(N<<17&4294967295|N>>>15),N=I+(R^k&(j^R))+D[3]+3250441966&4294967295,I=k+(N<<22&4294967295|N>>>10),N=R+(j^I&(k^j))+D[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(k^R&(I^k))+D[5]+1200080426&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(I^j&(R^I))+D[6]+2821735955&4294967295,k=j+(N<<17&4294967295|N>>>15),N=I+(R^k&(j^R))+D[7]+4249261313&4294967295,I=k+(N<<22&4294967295|N>>>10),N=R+(j^I&(k^j))+D[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(k^R&(I^k))+D[9]+2336552879&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(I^j&(R^I))+D[10]+4294925233&4294967295,k=j+(N<<17&4294967295|N>>>15),N=I+(R^k&(j^R))+D[11]+2304563134&4294967295,I=k+(N<<22&4294967295|N>>>10),N=R+(j^I&(k^j))+D[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(k^R&(I^k))+D[13]+4254626195&4294967295,j=R+(N<<12&4294967295|N>>>20),N=k+(I^j&(R^I))+D[14]+2792965006&4294967295,k=j+(N<<17&4294967295|N>>>15),N=I+(R^k&(j^R))+D[15]+1236535329&4294967295,I=k+(N<<22&4294967295|N>>>10),N=R+(k^j&(I^k))+D[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^k&(R^I))+D[6]+3225465664&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^I&(j^R))+D[11]+643717713&4294967295,k=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(k^j))+D[0]+3921069994&4294967295,I=k+(N<<20&4294967295|N>>>12),N=R+(k^j&(I^k))+D[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^k&(R^I))+D[10]+38016083&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^I&(j^R))+D[15]+3634488961&4294967295,k=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(k^j))+D[4]+3889429448&4294967295,I=k+(N<<20&4294967295|N>>>12),N=R+(k^j&(I^k))+D[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^k&(R^I))+D[14]+3275163606&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^I&(j^R))+D[3]+4107603335&4294967295,k=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(k^j))+D[8]+1163531501&4294967295,I=k+(N<<20&4294967295|N>>>12),N=R+(k^j&(I^k))+D[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^k&(R^I))+D[2]+4243563512&4294967295,j=R+(N<<9&4294967295|N>>>23),N=k+(R^I&(j^R))+D[7]+1735328473&4294967295,k=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(k^j))+D[12]+2368359562&4294967295,I=k+(N<<20&4294967295|N>>>12),N=R+(I^k^j)+D[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^k)+D[8]+2272392833&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^I)+D[11]+1839030562&4294967295,k=j+(N<<16&4294967295|N>>>16),N=I+(k^j^R)+D[14]+4259657740&4294967295,I=k+(N<<23&4294967295|N>>>9),N=R+(I^k^j)+D[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^k)+D[4]+1272893353&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^I)+D[7]+4139469664&4294967295,k=j+(N<<16&4294967295|N>>>16),N=I+(k^j^R)+D[10]+3200236656&4294967295,I=k+(N<<23&4294967295|N>>>9),N=R+(I^k^j)+D[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^k)+D[0]+3936430074&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^I)+D[3]+3572445317&4294967295,k=j+(N<<16&4294967295|N>>>16),N=I+(k^j^R)+D[6]+76029189&4294967295,I=k+(N<<23&4294967295|N>>>9),N=R+(I^k^j)+D[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^k)+D[12]+3873151461&4294967295,j=R+(N<<11&4294967295|N>>>21),N=k+(j^R^I)+D[15]+530742520&4294967295,k=j+(N<<16&4294967295|N>>>16),N=I+(k^j^R)+D[2]+3299628645&4294967295,I=k+(N<<23&4294967295|N>>>9),N=R+(k^(I|~j))+D[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~k))+D[7]+1126891415&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~I))+D[14]+2878612391&4294967295,k=j+(N<<15&4294967295|N>>>17),N=I+(j^(k|~R))+D[5]+4237533241&4294967295,I=k+(N<<21&4294967295|N>>>11),N=R+(k^(I|~j))+D[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~k))+D[3]+2399980690&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~I))+D[10]+4293915773&4294967295,k=j+(N<<15&4294967295|N>>>17),N=I+(j^(k|~R))+D[1]+2240044497&4294967295,I=k+(N<<21&4294967295|N>>>11),N=R+(k^(I|~j))+D[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~k))+D[15]+4264355552&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~I))+D[6]+2734768916&4294967295,k=j+(N<<15&4294967295|N>>>17),N=I+(j^(k|~R))+D[13]+1309151649&4294967295,I=k+(N<<21&4294967295|N>>>11),N=R+(k^(I|~j))+D[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~k))+D[11]+3174756917&4294967295,j=R+(N<<10&4294967295|N>>>22),N=k+(R^(j|~I))+D[2]+718787259&4294967295,k=j+(N<<15&4294967295|N>>>17),N=I+(j^(k|~R))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+k&4294967295,V.g[3]=V.g[3]+j&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var I=R-this.blockSize,D=this.B,k=this.h,j=0;j<R;){if(k==0)for(;j<=I;)a(this,V,j),j+=this.blockSize;if(typeof V=="string"){for(;j<R;)if(D[k++]=V.charCodeAt(j++),k==this.blockSize){a(this,D),k=0;break}}else for(;j<R;)if(D[k++]=V[j++],k==this.blockSize){a(this,D),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var I=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=I&255,I/=256;for(this.u(V),V=Array(16),R=I=0;4>R;++R)for(var D=0;32>D;D+=8)V[I++]=this.g[R]>>>D&255;return V};function l(V,R){var I=f;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=R(V)}function c(V,R){this.h=R;for(var I=[],D=!0,k=V.length-1;0<=k;k--){var j=V[k]|0;D&&j==R||(I[k]=j,D=!1)}this.g=I}var f={};function m(V){return-128<=V&&128>V?l(V,function(R){return new c([R|0],0>R?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return _;if(0>V)return O(p(-V));for(var R=[],I=1,D=0;V>=I;D++)R[D]=V/I|0,I*=4294967296;return new c(R,0)}function y(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return O(y(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(R,8)),D=_,k=0;k<V.length;k+=8){var j=Math.min(8,V.length-k),N=parseInt(V.substring(k,k+j),R);8>j?(j=p(Math.pow(R,j)),D=D.j(j).add(p(N))):(D=D.j(I),D=D.add(p(N)))}return D}var _=m(0),E=m(1),A=m(16777216);e=c.prototype,e.m=function(){if(M(this))return-O(this).m();for(var V=0,R=1,I=0;I<this.g.length;I++){var D=this.i(I);V+=(0<=D?D:4294967296+D)*R,R*=4294967296}return V},e.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(M(this))return"-"+O(this).toString(V);for(var R=p(Math.pow(V,6)),I=this,D="";;){var k=it(I,R).g;I=B(I,k.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=k,C(I))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},e.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function C(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function M(V){return V.h==-1}e.l=function(V){return V=B(this,V),M(V)?-1:C(V)?0:1};function O(V){for(var R=V.g.length,I=[],D=0;D<R;D++)I[D]=~V.g[D];return new c(I,~V.h).add(E)}e.abs=function(){return M(this)?O(this):this},e.add=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],D=0,k=0;k<=R;k++){var j=D+(this.i(k)&65535)+(V.i(k)&65535),N=(j>>>16)+(this.i(k)>>>16)+(V.i(k)>>>16);D=N>>>16,j&=65535,N&=65535,I[k]=N<<16|j}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(V,R){return V.add(O(R))}e.j=function(V){if(C(this)||C(V))return _;if(M(this))return M(V)?O(this).j(O(V)):O(O(this).j(V));if(M(V))return O(this.j(O(V)));if(0>this.l(A)&&0>V.l(A))return p(this.m()*V.m());for(var R=this.g.length+V.g.length,I=[],D=0;D<2*R;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<V.g.length;k++){var j=this.i(D)>>>16,N=this.i(D)&65535,ne=V.i(k)>>>16,$t=V.i(k)&65535;I[2*D+2*k]+=N*$t,H(I,2*D+2*k),I[2*D+2*k+1]+=j*$t,H(I,2*D+2*k+1),I[2*D+2*k+1]+=N*ne,H(I,2*D+2*k+1),I[2*D+2*k+2]+=j*ne,H(I,2*D+2*k+2)}for(D=0;D<R;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=R;D<2*R;D++)I[D]=0;return new c(I,0)};function H(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function q(V,R){this.g=V,this.h=R}function it(V,R){if(C(R))throw Error("division by zero");if(C(V))return new q(_,_);if(M(V))return R=it(O(V),R),new q(O(R.g),O(R.h));if(M(R))return R=it(V,O(R)),new q(O(R.g),R.h);if(30<V.g.length){if(M(V)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var I=E,D=R;0>=D.l(V);)I=J(I),D=J(D);var k=ct(I,1),j=ct(D,1);for(D=ct(D,2),I=ct(I,2);!C(D);){var N=j.add(D);0>=N.l(V)&&(k=k.add(I),j=N),D=ct(D,1),I=ct(I,1)}return R=B(V,k.j(R)),new q(k,R)}for(k=_;0<=V.l(R);){for(I=Math.max(1,Math.floor(V.m()/R.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=p(I),N=j.j(R);M(N)||0<N.l(V);)I-=D,j=p(I),N=j.j(R);C(j)&&(j=E),k=k.add(j),V=B(V,N)}return new q(k,V)}e.A=function(V){return it(this,V).h},e.and=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],D=0;D<R;D++)I[D]=this.i(D)&V.i(D);return new c(I,this.h&V.h)},e.or=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],D=0;D<R;D++)I[D]=this.i(D)|V.i(D);return new c(I,this.h|V.h)},e.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],D=0;D<R;D++)I[D]=this.i(D)^V.i(D);return new c(I,this.h^V.h)};function J(V){for(var R=V.g.length+1,I=[],D=0;D<R;D++)I[D]=V.i(D)<<1|V.i(D-1)>>>31;return new c(I,V.h)}function ct(V,R){var I=R>>5;R%=32;for(var D=V.g.length-I,k=[],j=0;j<D;j++)k[j]=0<R?V.i(j+I)>>>R|V.i(j+I+1)<<32-R:V.i(j+I);return new c(k,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ux=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,gr=c}).apply(typeof db<"u"?db:typeof self<"u"?self:typeof window<"u"?window:{});var rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cx,Pu,hx,bf,Yg,fx,dx,mx;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof rf=="object"&&rf];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,v){if(v)t:{var T=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var G=h[S];if(!(G in T))break t;T=T[G]}h=h[h.length-1],S=T[h],v=v(S),v!=S&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,S=!1,G={next:function(){if(!S&&T<h.length){var Q=T++;return{value:v(Q,h[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,S),h.apply(v,G)}}return function(){return h.apply(v,arguments)}}function E(h,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function A(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function C(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(S,G,Q){for(var lt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)lt[Lt-2]=arguments[Lt];return v.prototype[G].apply(S,lt)}}function M(h){const v=h.length;if(0<v){const T=Array(v);for(let S=0;S<v;S++)T[S]=h[S];return T}return[]}function O(h,v){for(let T=1;T<arguments.length;T++){const S=arguments[T];if(m(S)){const G=h.length||0,Q=S.length||0;h.length=G+Q;for(let lt=0;lt<Q;lt++)h[G+lt]=S[lt]}else h.push(S)}}class B{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function it(h){return it[" "](h),h}it[" "]=function(){};var J=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ct(h,v,T){for(const S in h)v.call(T,h[S],S,h)}function V(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function R(h){const v={};for(const T in h)v[T]=h[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let T,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(T in S)h[T]=S[T];for(let Q=0;Q<I.length;Q++)T=I[Q],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function k(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function j(h){f.setTimeout(()=>{throw h},0)}function N(){var h=kt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ne{constructor(){this.h=this.g=null}add(v,T){const S=$t.get();S.set(v,T),this.h?this.h.next=S:this.g=S,this.h=S}}var $t=new B(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,kt=new ne,L=()=>{const h=f.Promise.resolve(void 0);at=()=>{h.then(st)}};var st=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(T){j(T)}var v=$t;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ft=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function Dt(h,v){if(ot.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(J){t:{try{it(v.nodeName);var G=!0;break t}catch{}G=!1}G||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:At[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}C(Dt,ot);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),te=0;function fi(h,v,T,S,G){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!S,this.ha=G,this.key=++te,this.da=this.fa=!1}function Ns(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ki(h){this.src=h,this.g={},this.h=0}Ki.prototype.add=function(h,v,T,S,G){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var lt=Mr(h,v,S,G);return-1<lt?(v=h[lt],T||(v.fa=!1)):(v=new fi(v,this.src,Q,!!S,G),v.fa=T,h.push(v)),v};function Or(h,v){var T=v.type;if(T in h.g){var S=h.g[T],G=Array.prototype.indexOf.call(S,v,void 0),Q;(Q=0<=G)&&Array.prototype.splice.call(S,G,1),Q&&(Ns(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Mr(h,v,T,S){for(var G=0;G<h.length;++G){var Q=h[G];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==S)return G}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),pl={};function Ic(h,v,T,S,G){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Ic(h,v[Q],T,S,G);return null}return T=Dc(T),h&&h[ke]?h.K(v,T,p(S)?!!S.capture:!1,G):Fn(h,v,T,!1,S,G)}function Fn(h,v,T,S,G,Q){if(!v)throw Error("Invalid event type");var lt=p(G)?!!G.capture:!!G,Lt=Ba(h);if(Lt||(h[Vr]=Lt=new Ki(h)),T=Lt.add(v,T,S,lt,Q),T.proxy)return T;if(S=Vd(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)gt||(G=lt),G===void 0&&(G=!1),h.addEventListener(v.toString(),S,G);else if(h.attachEvent)h.attachEvent(kr(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Vd(){function h(T){return v.call(h.src,h.listener,T)}const v=kd;return h}function gl(h,v,T,S,G){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)gl(h,v[Q],T,S,G);else S=p(S)?!!S.capture:!!S,T=Dc(T),h&&h[ke]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],T=Mr(Q,T,S,G),-1<T&&(Ns(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ba(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Mr(v,T,S,G)),(T=-1<h?v[h]:null)&&ja(T))}function ja(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ke])Or(v.i,h);else{var T=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(T,S,h.capture):v.detachEvent?v.detachEvent(kr(T),S):v.addListener&&v.removeListener&&v.removeListener(S),(T=Ba(v))?(Or(T,h),T.h==0&&(T.src=null,v[Vr]=null)):Ns(h)}}}function kr(h){return h in pl?pl[h]:pl[h]="on"+h}function kd(h,v){if(h.da)h=!0;else{v=new Dt(v,this);var T=h.listener,S=h.ha||h.src;h.fa&&ja(h),h=T.call(S,v)}return h}function Ba(h){return h=h[Vr],h instanceof Ki?h:null}var yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dc(h){return typeof h=="function"?h:(h[yl]||(h[yl]=function(v){return h.handleEvent(v)}),h[yl])}function he(){ut.call(this),this.i=new Ki(this),this.M=this,this.F=null}C(he,ut),he.prototype[ke]=!0,he.prototype.removeEventListener=function(h,v,T,S){gl(this,h,v,T,S)};function Gt(h,v){var T,S=h.F;if(S)for(T=[];S;S=S.F)T.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new ot(v,h);else if(v instanceof ot)v.target=v.target||h;else{var G=v;v=new ot(S,h),D(v,G)}if(G=!0,T)for(var Q=T.length-1;0<=Q;Q--){var lt=v.g=T[Q];G=xn(lt,S,!0,v)&&G}if(lt=v.g=h,G=xn(lt,S,!0,v)&&G,G=xn(lt,S,!1,v)&&G,T)for(Q=0;Q<T.length;Q++)lt=v.g=T[Q],G=xn(lt,S,!1,v)&&G}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],S=0;S<T.length;S++)Ns(T[S]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,T,S){return this.i.add(String(h),v,!1,T,S)},he.prototype.L=function(h,v,T,S){return this.i.add(String(h),v,!0,T,S)};function xn(h,v,T,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,Q=0;Q<v.length;++Q){var lt=v[Q];if(lt&&!lt.da&&lt.capture==T){var Lt=lt.listener,De=lt.ha||lt.src;lt.fa&&Or(h.i,lt),G=Lt.call(De,S)!==!1&&G}}return G&&!S.defaultPrevented}function tn(h,v,T){if(typeof h=="function")T&&(h=E(h,T));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Nc(h){h.g=tn(()=>{h.g=null,h.i&&(h.i=!1,Nc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Ld extends ut{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Nc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(h){ut.call(this),this.h=h,this.g={}}C(Lr,ut);var Ur=[];function Fr(h){ct(h.g,function(v,T){this.g.hasOwnProperty(T)&&ja(v)},h),h.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Fr(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=f.JSON.stringify,za=f.JSON.parse,jr=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function vl(){}vl.prototype.h=null;function _l(h){return h.h||(h.h=h.i())}function Tl(){}var Yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){ot.call(this,"d")}C($i,ot);function El(){ot.call(this,"c")}C(El,ot);var di={},bl=null;function Ps(){return bl=bl||new he}di.La="serverreachability";function Ha(h){ot.call(this,di.La,h)}C(Ha,ot);function Os(h){const v=Ps();Gt(v,new Ha(v))}di.STAT_EVENT="statevent";function Pc(h,v){ot.call(this,di.STAT_EVENT,h),this.stat=v}C(Pc,ot);function ie(h){const v=Ps();Gt(v,new Pc(v,h))}di.Ma="timingevent";function Ie(h,v){ot.call(this,di.Ma,h),this.size=v}C(Ie,ot);function we(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function wl(h,v,T,S,G,Q){h.info(function(){if(h.g)if(Q)for(var lt="",Lt=Q.split("&"),De=0;De<Lt.length;De++){var Ut=Lt[De].split("=");if(1<Ut.length){var Ue=Ut[0];Ut=Ut[1];var Ne=Ue.split("_");lt=2<=Ne.length&&Ne[1]=="type"?lt+(Ue+"="+Ut+"&"):lt+(Ue+"=redacted&")}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+v+`
`+T+`
`+lt})}function Ud(h,v,T,S,G,Q,lt){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+v+`
`+T+`
`+Q+" "+lt})}function Ms(h,v,T,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Br(h,T)+(S?" "+S:"")})}function Oc(h,v){h.info(function(){return"TIMEOUT: "+v})}jn.prototype.info=function(){};function Br(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var S=T[h];if(!(2>S.length)){var G=S[1];if(Array.isArray(G)&&!(1>G.length)){var Q=G[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var lt=1;lt<G.length;lt++)G[lt]=""}}}}return ni(T)}catch{return v}}var Vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function pi(){}C(pi,vl),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},mi=new pi;function hn(h,v,T,S){this.j=h,this.i=v,this.l=T,this.R=S||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var Al={},qa={};function ii(h,v,T){h.L=1,h.v=Kr(Rn(v)),h.m=T,h.P=!0,Qi(h,null)}function Qi(h,v){h.F=Date.now(),zr(h),h.A=Rn(h.v);var T=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Dl(T.i,"t",S),h.C=0,T=h.j.J,h.h=new ve,h.g=Xc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new Ld(E(h.Y,h,h.g),h.O)),v=h.U,T=h.g,S=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(Ur[0]=G.toString()),G=Ur);for(var Q=0;Q<G.length;Q++){var lt=Ic(T,G[Q],S||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Os(),wl(h.i,h.u,h.A,h.l,h.R,h.m)}hn.prototype.ca=function(h){h=h.target;const v=this.M;v&&qn(h)==3?v.j():this.Y(h)},hn.prototype.Y=function(h){try{if(h==this.g)t:{const Ne=qn(this.g);var v=this.g.Ba();const ss=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||Bc(this.g)))){this.J||Ne!=4||v==7||(v==8||0>=ss?Os(3):Os(2)),ks(this);var T=this.g.Z();this.X=T;e:if(Mc(this)){var S=Bc(this.g);h="";var G=S.length,Q=qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),gi(this);var lt="";break e}this.h.i=new f.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(Q&&v==G-1)});S.length=0,this.h.g+=h,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=T==200,Ud(this.i,this.u,this.A,this.l,this.R,Ne,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,De=this.g;if((Lt=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Lt)){var Ut=Lt;break e}}Ut=null}if(T=Ut)Ms(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,T);else{this.o=!1,this.s=3,ie(12),He(this),gi(this);break t}}if(this.P){T=!0;let qe;for(;!this.J&&this.C<lt.length;)if(qe=Vc(this,lt),qe==qa){Ne==4&&(this.s=4,ie(14),T=!1),Ms(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==Al){this.s=4,ie(15),Ms(this.i,this.l,lt,"[Invalid Chunk]"),T=!1;break}else Ms(this.i,this.l,qe,null),Hr(this,qe);if(Mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||lt.length!=0||this.h.h||(this.s=1,ie(16),T=!1),this.o=this.o&&T,!T)Ms(this.i,this.l,lt,"[Invalid Chunked Response]"),He(this),gi(this);else if(0<lt.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),ta(Ue),Ue.M=!0,ie(11))}}else Ms(this.i,this.l,lt,null),Hr(this,lt);Ne==4&&He(this),this.o&&!this.J&&(Ne==4?Kc(this.j,this):(this.o=!1,zr(this)))}else Hd(this.g),T==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),He(this),gi(this)}}}catch{}finally{}};function Mc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Vc(h,v){var T=h.C,S=v.indexOf(`
`,T);return S==-1?qa:(T=Number(v.substring(T,S)),isNaN(T)?Al:(S+=1,S+T>v.length?qa:(v=v.slice(S,S+T),h.C=S+T,v)))}hn.prototype.cancel=function(){this.J=!0,He(this)};function zr(h){h.S=Date.now()+h.I,kc(h,h.I)}function kc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=we(E(h.ba,h),v)}function ks(h){h.B&&(f.clearTimeout(h.B),h.B=null)}hn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Oc(this.i,this.A),this.L!=2&&(Os(),ie(17)),He(this),this.s=2,gi(this)):kc(this,this.S-h)};function gi(h){h.j.G==0||h.J||Kc(h.j,h)}function He(h){ks(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Fr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Hr(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||Sl(T.h,h))){if(!h.K&&Sl(T.h,h)&&T.G==3){try{var S=T.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)no(T),to(T);else break t;Vl(T),ie(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=we(E(T.Za,T),6e3));if(1>=Ka(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else is(T,11)}else if((h.K||T.g==h)&&no(T),!H(v))for(G=T.Da.g.parse(v),v=0;v<G.length;v++){let Ut=G[v];if(T.T=Ut[0],Ut=Ut[1],T.G==2)if(Ut[0]=="c"){T.K=Ut[1],T.ia=Ut[2];const Ue=Ut[3];Ue!=null&&(T.la=Ue,T.j.info("VER="+T.la));const Ne=Ut[4];Ne!=null&&(T.Aa=Ne,T.j.info("SVER="+T.Aa));const ss=Ut[5];ss!=null&&typeof ss=="number"&&0<ss&&(S=1.5*ss,T.L=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const qe=h.g;if(qe){const wi=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var Q=S.h;Q.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ya(Q,Q.h),Q.h=null))}if(S.D){const Ll=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(S.ya=Ll,Xt(S.I,S.D,Ll))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),S=T;var lt=h;if(S.qa=$c(S,S.J?S.ia:null,S.W),lt.K){fn(S.h,lt);var Lt=lt,De=S.L;De&&(Lt.I=De),Lt.B&&(ks(Lt),zr(Lt)),S.g=lt}else qc(S);0<T.i.length&&eo(T)}else Ut[0]!="stop"&&Ut[0]!="close"||is(T,7);else T.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?is(T,7):Ol(T):Ut[0]!="noop"&&T.l&&T.l.ta(Ut),T.v=0)}}Os(4)}catch{}}var Lc=class{constructor(h,v){this.g=h,this.map=v}};function Wi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ka(h){return h.h?1:h.g?h.g.size:0}function Sl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ya(h,v){h.g?h.g.add(v):h.h=v}function fn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Wi.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function xl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return M(h.i)}function Fd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,S=0;S<T;S++)v.push(h[S]);return v}v=[],T=0;for(S in h)v[T++]=h[S];return v}function $a(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const S in h)v[T++]=S;return v}}}function Rl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=$a(h),S=Fd(h),G=S.length,Q=0;Q<G;Q++)v.call(void 0,S[Q],T&&T[Q],h)}var qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jd(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var S=h[T].indexOf("="),G=null;if(0<=S){var Q=h[T].substring(0,S);G=h[T].substring(S+1)}else Q=h[T];v(Q,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ae(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ae){this.h=h.h,Gr(this,h.j),this.o=h.o,this.g=h.g,Ls(this,h.s),this.l=h.l;var v=h.i,T=new Ji;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Zi(this,T),this.m=h.m}else h&&(v=String(h).match(qr))?(this.h=!1,Gr(this,v[1]||"",!0),this.o=Bn(v[2]||""),this.g=Bn(v[3]||"",!0),Ls(this,v[4]),this.l=Bn(v[5]||"",!0),Zi(this,v[6]||"",!0),this.m=Bn(v[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}Ae.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Yr(v,Cl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Yr(v,Cl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Yr(T,T.charAt(0)=="/"?Bd:Il,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Yr(T,Xa)),h.join("")};function Rn(h){return new Ae(h)}function Gr(h,v,T){h.j=T?Bn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ls(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Zi(h,v,T){v instanceof Ji?(h.i=v,Fc(h.i,h.h)):(T||(v=Yr(v,zd)),h.i=new Ji(v,h.h))}function Xt(h,v,T){h.i.set(v,T)}function Kr(h){return Xt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Bn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yr(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Uc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Uc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Cl=/[#\/\?@]/g,Il=/[#\?:]/g,Bd=/[#\?]/g,zd=/[#\?@]/g,Xa=/#/g;function Ji(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function zn(h){h.g||(h.g=new Map,h.h=0,h.i&&jd(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=Ji.prototype,e.add=function(h,v){zn(this),this.i=null,h=yi(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function ts(h,v){zn(h),v=yi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function es(h,v){return zn(h),v=yi(h,v),h.g.has(v)}e.forEach=function(h,v){zn(this),this.g.forEach(function(T,S){T.forEach(function(G){h.call(v,G,S,this)},this)},this)},e.na=function(){zn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let S=0;S<v.length;S++){const G=h[S];for(let Q=0;Q<G.length;Q++)T.push(v[S])}return T},e.V=function(h){zn(this);let v=[];if(typeof h=="string")es(this,h)&&(v=v.concat(this.g.get(yi(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},e.set=function(h,v){return zn(this),this.i=null,h=yi(this,h),es(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Dl(h,v,T){ts(h,v),0<T.length&&(h.i=null,h.g.set(yi(h,v),M(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var S=v[T];const Q=encodeURIComponent(String(S)),lt=this.V(S);for(S=0;S<lt.length;S++){var G=Q;lt[S]!==""&&(G+="="+encodeURIComponent(String(lt[S]))),h.push(G)}}return this.i=h.join("&")};function yi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Fc(h,v){v&&!h.j&&(zn(h),h.i=null,h.g.forEach(function(T,S){var G=S.toLowerCase();S!=G&&(ts(this,S),Dl(this,G,T))},h)),h.j=v}function $r(h,v){const T=new jn;if(f.Image){const S=new Image;S.onload=A(Hn,T,"TestLoadImage: loaded",!0,v,S),S.onerror=A(Hn,T,"TestLoadImage: error",!1,v,S),S.onabort=A(Hn,T,"TestLoadImage: abort",!1,v,S),S.ontimeout=A(Hn,T,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function si(h,v){const T=new jn,S=new AbortController,G=setTimeout(()=>{S.abort(),Hn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(Q=>{clearTimeout(G),Q.ok?Hn(T,"TestPingServer: ok",!0,v):Hn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Hn(T,"TestPingServer: error",!1,v)})}function Hn(h,v,T,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(T)}catch{}}function Xr(){this.g=new jr}function vi(h,v,T){const S=T||"";try{Rl(h,function(G,Q){let lt=G;p(G)&&(lt=ni(G)),v.push(S+Q+"="+encodeURIComponent(lt))})}catch(G){throw v.push(S+"type="+encodeURIComponent("_badmap")),G}}function Us(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Us,vl),Us.prototype.g=function(){return new ns(this.l,this.j)},Us.prototype.i=function(h){return function(){return h}}({});function ns(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ns,he),e=ns.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ti(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?_i(this):Ti(this),this.readyState==3&&Nl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,_i(this))},e.Qa=function(h){this.g&&(this.response=h,_i(this))},e.ga=function(){this.g&&_i(this)};function _i(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ti(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function Ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pl(h){let v="";return ct(h,function(T,S){v+=S,v+=":",v+=T,v+=`\r
`}),v}function Le(h,v,T){t:{for(S in T){var S=!1;break t}S=!0}S||(T=Pl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):Xt(h,v,T))}function Ht(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ht,he);var Qa=/^https?$/i,Qr=["POST","PUT"];e=Ht.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?_l(this.o):_l(mi),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){jc(this,Q);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)T.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())T.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qr,v,void 0))||S||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of T)this.g.setRequestHeader(Q,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wr(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){jc(this,Q)}};function jc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Wa(h),Ei(h)}function Wa(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),Ei(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},e.bb=function(){Za(this)};function Za(h){if(h.h&&typeof c<"u"&&(!h.v[1]||qn(h)!=4||h.Z()!=2)){if(h.u&&qn(h)==4)tn(h.Ea,0,h);else if(Gt(h,"readystatechange"),qn(h)==4){h.h=!1;try{const lt=h.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var S;if(S=lt===0){var G=String(h.D).match(qr)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),S=!Qa.test(G?G.toLowerCase():"")}T=S}if(T)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var Q=2<qn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Wa(h)}}finally{Ei(h)}}}}function Ei(h,v){if(h.g){Wr(h);const T=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Gt(h,"ready");try{T.onreadystatechange=S}catch{}}}function Wr(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function qn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<qn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),za(v)}};function Bc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Hd(h){const v={};h=(h.g&&2<=qn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(H(h[S]))continue;var T=k(h[S]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[G]||[];v[G]=Q,Q.push(T)}V(v,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ja(h){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,h),this.cb=Zr("retryDelaySeedMs",1e4,h),this.Wa=Zr("forwardChannelMaxRetries",2,h),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(h&&h.concurrentRequestLimit),this.Da=new Xr,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ja.prototype,e.la=8,e.G=1,e.connect=function(h,v,T,S){ie(0),this.W=h,this.H=v||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.I=$c(this,null,this.W),eo(this)};function Ol(h){if(zc(h),h.G==3){var v=h.U++,T=Rn(h.I);if(Xt(T,"SID",h.K),Xt(T,"RID",v),Xt(T,"TYPE","terminate"),Jr(h,T),v=new hn(h,h.j,v),v.L=2,v.v=Kr(Rn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=Xc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),zr(v)}Yc(h)}function to(h){h.g&&(ta(h),h.g.cancel(),h.g=null)}function zc(h){to(h),h.u&&(f.clearTimeout(h.u),h.u=null),no(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function eo(h){if(!Ga(h.h)&&!h.s){h.s=!0;var v=h.Ga;at||L(),ft||(at(),ft=!0),kt.add(v,h),h.B=0}}function qd(h,v){return Ka(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=we(E(h.Ga,h,v),kl(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new hn(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=R(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(G.H=Q,Q=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Hc(this,G,v),T=Rn(this.I),Xt(T,"RID",h),Xt(T,"CVER",22),this.D&&Xt(T,"X-HTTP-Session-Id",this.D),Jr(this,T),Q&&(this.O?v="headers="+encodeURIComponent(String(Pl(Q)))+"&"+v:this.m&&Le(T,this.m,Q)),Ya(this.h,G),this.Ua&&Xt(T,"TYPE","init"),this.P?(Xt(T,"$req",v),Xt(T,"SID","null"),G.T=!0,ii(G,T,null)):ii(G,T,v),this.G=2}}else this.G==3&&(h?Ml(this,h):this.i.length==0||Ga(this.h)||Ml(this))};function Ml(h,v){var T;v?T=v.l:T=h.U++;const S=Rn(h.I);Xt(S,"SID",h.K),Xt(S,"RID",T),Xt(S,"AID",h.T),Jr(h,S),h.m&&h.o&&Le(S,h.m,h.o),T=new hn(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Hc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ya(h.h,T),ii(T,S,v)}function Jr(h,v){h.H&&ct(h.H,function(T,S){Xt(v,S,T)}),h.l&&Rl({},function(T,S){Xt(v,S,T)})}function Hc(h,v,T){T=Math.min(h.i.length,T);var S=h.l?E(h.l.Na,h.l,h):null;t:{var G=h.i;let Q=-1;for(;;){const lt=["count="+T];Q==-1?0<T?(Q=G[0].g,lt.push("ofs="+Q)):Q=0:lt.push("ofs="+Q);let Lt=!0;for(let De=0;De<T;De++){let Ut=G[De].g;const Ue=G[De].map;if(Ut-=Q,0>Ut)Q=Math.max(0,G[De].g-100),Lt=!1;else try{vi(Ue,lt,"req"+Ut+"_")}catch{S&&S(Ue)}}if(Lt){S=lt.join("&");break t}}}return h=h.i.splice(0,T),v.D=h,S}function qc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;at||L(),ft||(at(),ft=!0),kt.add(v,h),h.v=0}}function Vl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=we(E(h.Fa,h),kl(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=we(E(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),to(this),Gc(this))};function ta(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Gc(h){h.g=new hn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Rn(h.qa);Xt(v,"RID","rpc"),Xt(v,"SID",h.K),Xt(v,"AID",h.T),Xt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xt(v,"TO",h.ja),Xt(v,"TYPE","xmlhttp"),Jr(h,v),h.m&&h.o&&Le(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Kr(Rn(v)),T.m=null,T.P=!0,Qi(T,h)}e.Za=function(){this.C!=null&&(this.C=null,to(this),Vl(this),ie(19))};function no(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Kc(h,v){var T=null;if(h.g==v){no(h),ta(h),h.g=null;var S=2}else if(Sl(h.h,v))T=v.D,fn(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var G=h.B;S=Ps(),Gt(S,new Ie(S,T)),eo(h)}else qc(h);else if(G=v.s,G==3||G==0&&0<v.X||!(S==1&&qd(h,v)||S==2&&Vl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),G){case 1:is(h,5);break;case 4:is(h,10);break;case 3:is(h,6);break;default:is(h,2)}}}function kl(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function is(h,v){if(h.j.info("Error code "+v),v==2){var T=E(h.fb,h),S=h.Xa;const G=!S;S=new Ae(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Gr(S,"https"),Kr(S),G?$r(S.toString(),T):si(S.toString(),T)}else ie(2);h.G=0,h.l&&h.l.sa(v),Yc(h),zc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Yc(h){if(h.G=0,h.ka=[],h.l){const v=xl(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ka,v),O(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function $c(h,v,T){var S=T instanceof Ae?Rn(T):new Ae(T);if(S.g!="")v&&(S.g=v+"."+S.g),Ls(S,S.s);else{var G=f.location;S=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var Q=new Ae(null);S&&Gr(Q,S),v&&(Q.g=v),G&&Ls(Q,G),T&&(Q.l=T),S=Q}return T=h.D,v=h.ya,T&&v&&Xt(S,T,v),Xt(S,"VER",h.la),Jr(h,S),S}function Xc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ht(new Us({eb:T})):new Ht(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}e=Qc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function io(){}io.prototype.g=function(h,v){return new dn(h,v)};function dn(h,v){he.call(this),this.g=new Ja(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!H(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new bi(this)}C(dn,he),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ol(this.g)},dn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=ni(h),h=T);v.i.push(new Lc(v.Ya++,h)),v.G==3&&eo(v)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ol(this.g),delete this.g,dn.aa.N.call(this)};function Wc(h){$i.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(Wc,$i);function Zc(){El.call(this),this.status=1}C(Zc,El);function bi(h){this.g=h}C(bi,Qc),bi.prototype.ua=function(){Gt(this.g,"a")},bi.prototype.ta=function(h){Gt(this.g,new Wc(h))},bi.prototype.sa=function(h){Gt(this.g,new Zc)},bi.prototype.ra=function(){Gt(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,mx=function(){return new io},dx=function(){return Ps()},fx=di,Yg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,bf=Vs,Xi.COMPLETE="complete",hx=Xi,Tl.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",he.prototype.listen=he.prototype.K,Pu=Tl,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,cx=Ht}).apply(typeof rf<"u"?rf:typeof self<"u"?self:typeof window<"u"?window:{});const mb="@firebase/firestore",pb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Zy("@firebase/firestore");function Mo(){return Na.logLevel}function ht(e,...t){if(Na.logLevel<=Mt.DEBUG){const n=t.map(cv);Na.debug(`Firestore (${cl}): ${e}`,...n)}}function Cs(e,...t){if(Na.logLevel<=Mt.ERROR){const n=t.map(cv);Na.error(`Firestore (${cl}): ${e}`,...n)}}function Qo(e,...t){if(Na.logLevel<=Mt.WARN){const n=t.map(cv);Na.warn(`Firestore (${cl}): ${e}`,...n)}}function cv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,px(e,s,n)}function px(e,t,n){let s=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Cs(s),new Error(s)}function qt(e,t,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,e||px(t,a,s)}function xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Gi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class R6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class C6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I6{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bs,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bs)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new gx(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class D6{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N6{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new D6(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P6{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const s=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>s(l))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=O6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=t.charAt(a[l]%62))}return s}}function It(e,t){return e<t?-1:e>t?1:0}function $g(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=e.codePointAt(n),a=t.codePointAt(n);if(s!==a){if(s<128&&a<128)return It(s,a);{const l=yx(),c=M6(l.encode(yb(e,n)),l.encode(yb(t,n)));return c!==0?c:It(s,a)}}n+=s>65535?2:1}return It(e.length,t.length)}function yb(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function M6(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return It(e[n],t[n]);return It(e.length,t.length)}function Wo(e,t,n){return e.length===t.length&&e.every((s,a)=>n(s,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=-62135596800,_b=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*_b);return new Ce(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<vb)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_b}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-vb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Ce(0,0))}static max(){return new St(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="__name__";class Di{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let a=0;a<s;a++){const l=Di.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return It(t.length,n.length)}static compareSegments(t,n){const s=Di.isNumericId(t),a=Di.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Di.extractNumericId(t).compare(Di.extractNumericId(n)):$g(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return gr.fromString(t.substring(4,t.length-2))}}class re extends Di{construct(t,n,s){return new re(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new pt(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new re(n)}static emptyPath(){return new re([])}}const V6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Di{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return V6.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tb}static keyField(){return new Ze([Tb])}static fromServerFormat(t){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new pt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new pt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(s+=f,a++):(l(),a++)}if(l(),c)throw new pt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(re.fromString(t))}static fromName(t){return new yt(re.fromString(t).popFirst(5))}static empty(){return new yt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return re.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new re(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function k6(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,a=St.fromTimestamp(s===1e9?new Ce(n+1,0):new Ce(n,s));return new Er(a,yt.empty(),t)}function L6(e){return new Er(e.readTime,e.key,rc)}class Er{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Er(St.min(),yt.empty(),rc)}static max(){return new Er(St.max(),yt.empty(),rc)}}function U6(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:It(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==F6)throw e;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.reject(n)}static resolve(t){return new nt((n,s)=>{n(t)})}static reject(t){return new nt((n,s)=>{s(t)})}static waitFor(t){return new nt((n,s)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>s(m))}),c=!0,l===a&&n()})}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next(a=>a?nt.resolve(a):s());return n}static forEach(t,n){const s=[];return t.forEach((a,l)=>{s.push(n.call(this,a,l))}),this.waitFor(s)}static mapArray(t,n){return new nt((s,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++f,f===l&&s(c)},y=>a(y))}})}static doWhile(t,n){return new nt((s,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):s()};l()})}}function B6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}md.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=-1;function pd(e){return e==null}function qf(e){return e===0&&1/e==-1/0}function z6(e){return typeof e=="number"&&Number.isInteger(e)&&!qf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="";function H6(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Eb(t)),t=q6(e.get(n),t);return Eb(t)}function q6(e,t){let n=t;const s=e.length;for(let a=0;a<s;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case _x:n+="";break;default:n+=l}}return n}function Eb(e){return e+_x+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Tx(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new af(this.root,t,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new af(this.root,t,this.comparator,!0)}}class af{constructor(t,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?s(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,a,l){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=a??Qe.EMPTY,this.right=l??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,a,l){return new Qe(t??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let a=this;const l=s(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Qe.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,a,l){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new wb(this.data.getIterator())}getIteratorFrom(t){return new wb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class wb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new kn([])}unionWith(t){let n=new Ve(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Wo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ex("Invalid base64 string: "+l):l}}(t);return new Je(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const G6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(e){if(qt(!!e,39018),typeof e=="string"){let t=0;const n=G6.exec(e);if(qt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:be(e.seconds),nanos:be(e.nanos)}}function be(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function wr(e){return typeof e=="string"?Je.fromBase64String(e):Je.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="server_timestamp",wx="__type__",Ax="__previous_value__",Sx="__local_write_time__";function fv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[wx])===null||n===void 0?void 0:n.stringValue)===bx}function gd(e){const t=e.mapValue.fields[Ax];return fv(t)?gd(t):t}function ac(e){const t=br(e.mapValue.fields[Sx].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(t,n,s,a,l,c,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Gf="(default)";class oc{constructor(t,n){this.projectId=t,this.database=n||Gf}static empty(){return new oc("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(t){return t instanceof oc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="__type__",Y6="__max__",of={mapValue:{}},Rx="__vector__",Kf="value";function Ar(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fv(e)?4:X6(e)?9007199254740991:$6(e)?10:11:Et(28295,{value:e})}function Bi(e,t){if(e===t)return!0;const n=Ar(e);if(n!==Ar(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ac(e).isEqual(ac(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=br(a.timestampValue),f=br(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return wr(a.bytesValue).isEqual(wr(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return be(a.geoPointValue.latitude)===be(l.geoPointValue.latitude)&&be(a.geoPointValue.longitude)===be(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return be(a.integerValue)===be(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=be(a.doubleValue),f=be(l.doubleValue);return c===f?qf(c)===qf(f):isNaN(c)&&isNaN(f)}return!1}(e,t);case 9:return Wo(e.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(bb(c)!==bb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Bi(c[m],f[m])))return!1;return!0}(e,t);default:return Et(52216,{left:e})}}function lc(e,t){return(e.values||[]).find(n=>Bi(n,t))!==void 0}function Zo(e,t){if(e===t)return 0;const n=Ar(e),s=Ar(t);if(n!==s)return It(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(l,c){const f=be(l.integerValue||l.doubleValue),m=be(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(e,t);case 3:return Ab(e.timestampValue,t.timestampValue);case 4:return Ab(ac(e),ac(t));case 5:return $g(e.stringValue,t.stringValue);case 6:return function(l,c){const f=wr(l),m=wr(c);return f.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=It(f[p],m[p]);if(y!==0)return y}return It(f.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const f=It(be(l.latitude),be(c.latitude));return f!==0?f:It(be(l.longitude),be(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Sb(e.arrayValue,t.arrayValue);case 10:return function(l,c){var f,m,p,y;const _=l.fields||{},E=c.fields||{},A=(f=_[Kf])===null||f===void 0?void 0:f.arrayValue,C=(m=E[Kf])===null||m===void 0?void 0:m.arrayValue,M=It(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return M!==0?M:Sb(A,C)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===of.mapValue&&c===of.mapValue)return 0;if(l===of.mapValue)return 1;if(c===of.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=$g(m[_],y[_]);if(E!==0)return E;const A=Zo(f[m[_]],p[y[_]]);if(A!==0)return A}return It(m.length,y.length)}(e.mapValue,t.mapValue);default:throw Et(23264,{Pe:n})}}function Ab(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);const n=br(e),s=br(t),a=It(n.seconds,s.seconds);return a!==0?a:It(n.nanos,s.nanos)}function Sb(e,t){const n=e.values||[],s=t.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Zo(n[a],s[a]);if(l)return l}return It(n.length,s.length)}function Jo(e){return Xg(e)}function Xg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=br(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return wr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return yt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Xg(l);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Xg(n.fields[c])}`;return a+"}"}(e.mapValue):Et(61005,{value:e})}function wf(e){switch(Ar(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gd(e);return t?16+wf(t):16;case 5:return 2*e.stringValue.length;case 6:return wr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+wf(l),0)}(e.arrayValue);case 10:case 11:return function(s){let a=0;return Nr(s.fields,(l,c)=>{a+=l.length+wf(c)}),a}(e.mapValue);default:throw Et(13486,{value:e})}}function Qg(e){return!!e&&"integerValue"in e}function dv(e){return!!e&&"arrayValue"in e}function xb(e){return!!e&&"nullValue"in e}function Rb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Af(e){return!!e&&"mapValue"in e}function $6(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[xx])===null||n===void 0?void 0:n.stringValue)===Rx}function Hu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Nr(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Hu(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Hu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function X6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Y6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.value=t}static empty(){return new bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Af(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hu(n)}setAll(t){let n=Ze.emptyPath(),s={},a=[];t.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=f.popLast()}c?s[f.lastSegment()]=Hu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(t){const n=this.field(t.popLast());Af(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=n.mapValue.fields[t.get(s)];Af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,s){Nr(n,(a,l)=>t[a]=l);for(const a of s)delete t[a]}clone(){return new bn(Hu(this.value))}}function Cx(e){const t=[];return Nr(e.fields,(n,s)=>{const a=new Ze([n]);if(Af(s)){const l=Cx(s.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,n,s,a,l,c,f){this.key=t,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new on(t,0,St.min(),St.min(),St.min(),bn.empty(),0)}static newFoundDocument(t,n,s,a){return new on(t,1,n,St.min(),s,a,0)}static newNoDocument(t,n){return new on(t,2,n,St.min(),St.min(),bn.empty(),0)}static newUnknownDocument(t,n){return new on(t,3,n,St.min(),St.min(),bn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,n){this.position=t,this.inclusive=n}}function Cb(e,t,n){let s=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),n.key):s=Zo(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ib(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Bi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(t,n="asc"){this.field=t,this.dir=n}}function Q6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{}class Me extends Ix{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Z6(t,n,s):n==="array-contains"?new eL(t,s):n==="in"?new nL(t,s):n==="not-in"?new iL(t,s):n==="array-contains-any"?new sL(t,s):new Me(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new J6(t,s):new tL(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&Ar(this.value)===Ar(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends Ix{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new zi(t,n)}matches(t){return Dx(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Dx(e){return e.op==="and"}function Nx(e){return W6(e)&&Dx(e)}function W6(e){for(const t of e.filters)if(t instanceof zi)return!1;return!0}function Wg(e){if(e instanceof Me)return e.field.canonicalString()+e.op.toString()+Jo(e.value);if(Nx(e))return e.filters.map(t=>Wg(t)).join(",");{const t=e.filters.map(n=>Wg(n)).join(",");return`${e.op}(${t})`}}function Px(e,t){return e instanceof Me?function(s,a){return a instanceof Me&&s.op===a.op&&s.field.isEqual(a.field)&&Bi(s.value,a.value)}(e,t):e instanceof zi?function(s,a){return a instanceof zi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,f)=>l&&Px(c,a.filters[f]),!0):!1}(e,t):void Et(19439)}function Ox(e){return e instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${Jo(n.value)}`}(e):e instanceof zi?function(n){return n.op.toString()+" {"+n.getFilters().map(Ox).join(" ,")+"}"}(e):"Filter"}class Z6 extends Me{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class J6 extends Me{constructor(t,n){super(t,"in",n),this.keys=Mx("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class tL extends Me{constructor(t,n){super(t,"not-in",n),this.keys=Mx("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Mx(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>yt.fromName(s.referenceValue))}class eL extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return dv(n)&&lc(n.arrayValue,this.value)}}class nL extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&lc(this.value.arrayValue,n)}}class iL extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lc(this.value.arrayValue,n)}}class sL extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>lc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t,n=null,s=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function Db(e,t=null,n=[],s=[],a=null,l=null,c=null){return new rL(e,t,n,s,a,l,c)}function mv(e){const t=xt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Wg(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),pd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Jo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Jo(s)).join(",")),t.Ie=n}return t.Ie}function pv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Q6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Px(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ib(e.startAt,t.startAt)&&Ib(e.endAt,t.endAt)}function Zg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,n=null,s=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function aL(e,t,n,s,a,l,c,f){return new yd(e,t,n,s,a,l,c,f)}function gv(e){return new yd(e)}function Nb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function oL(e){return e.collectionGroup!==null}function qu(e){const t=xt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),n.add(l.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ve(Ze.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new $f(l,s))}),n.has(Ze.keyField().canonicalString())||t.Ee.push(new $f(Ze.keyField(),s))}return t.Ee}function Ui(e){const t=xt(e);return t.de||(t.de=lL(t,qu(e))),t.de}function lL(e,t){if(e.limitType==="F")return Db(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new $f(a.field,l)});const n=e.endAt?new Yf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Yf(e.startAt.position,e.startAt.inclusive):null;return Db(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Jg(e,t,n){return new yd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vd(e,t){return pv(Ui(e),Ui(t))&&e.limitType===t.limitType}function Vx(e){return`${mv(Ui(e))}|lt:${e.limitType}`}function Vo(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Ox(a)).join(", ")}]`),pd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Jo(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Jo(a)).join(",")),`Target(${s})`}(Ui(e))}; limitType=${e.limitType})`}function _d(e,t){return t.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):yt.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(e,t)&&function(s,a){for(const l of qu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(s,a){return!(s.startAt&&!function(c,f,m){const p=Cb(c,f,m);return c.inclusive?p<=0:p<0}(s.startAt,qu(s),a)||s.endAt&&!function(c,f,m){const p=Cb(c,f,m);return c.inclusive?p>=0:p>0}(s.endAt,qu(s),a))}(e,t)}function uL(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function kx(e){return(t,n)=>{let s=!1;for(const a of qu(e)){const l=cL(a,t,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function cL(e,t,n){const s=e.field.isKeyField()?yt.comparator(t.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Zo(m,p):Et(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Nr(this.inner,(n,s)=>{for(const[a,l]of s)t(a,l)})}isEmpty(){return Tx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new ce(yt.comparator);function Is(){return hL}const Lx=new ce(yt.comparator);function Ou(...e){let t=Lx;for(const n of e)t=t.insert(n.key,n);return t}function Ux(e){let t=Lx;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ba(){return Gu()}function Fx(){return Gu()}function Gu(){return new La(e=>e.toString(),(e,t)=>e.isEqual(t))}const fL=new ce(yt.comparator),dL=new Ve(yt.comparator);function Vt(...e){let t=dL;for(const n of e)t=t.add(n);return t}const mL=new Ve(It);function pL(){return mL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(t)?"-0":t}}function jx(e){return{integerValue:""+e}}function gL(e,t){return z6(t)?jx(t):yv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this._=void 0}}function yL(e,t,n){return e instanceof Xf?function(a,l){const c={fields:{[wx]:{stringValue:bx},[Sx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&fv(l)&&(l=gd(l)),l&&(c.fields[Ax]=l),{mapValue:c}}(n,t):e instanceof uc?zx(e,t):e instanceof cc?Hx(e,t):function(a,l){const c=Bx(a,l),f=Pb(c)+Pb(a.Re);return Qg(c)&&Qg(a.Re)?jx(f):yv(a.serializer,f)}(e,t)}function vL(e,t,n){return e instanceof uc?zx(e,t):e instanceof cc?Hx(e,t):n}function Bx(e,t){return e instanceof Qf?function(s){return Qg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(t)?t:{integerValue:0}:null}class Xf extends Td{}class uc extends Td{constructor(t){super(),this.elements=t}}function zx(e,t){const n=qx(t);for(const s of e.elements)n.some(a=>Bi(a,s))||n.push(s);return{arrayValue:{values:n}}}class cc extends Td{constructor(t){super(),this.elements=t}}function Hx(e,t){let n=qx(t);for(const s of e.elements)n=n.filter(a=>!Bi(a,s));return{arrayValue:{values:n}}}class Qf extends Td{constructor(t,n){super(),this.serializer=t,this.Re=n}}function Pb(e){return be(e.integerValue||e.doubleValue)}function qx(e){return dv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function _L(e,t){return e.field.isEqual(t.field)&&function(s,a){return s instanceof uc&&a instanceof uc||s instanceof cc&&a instanceof cc?Wo(s.elements,a.elements,Bi):s instanceof Qf&&a instanceof Qf?Bi(s.Re,a.Re):s instanceof Xf&&a instanceof Xf}(e.transform,t.transform)}class TL{constructor(t,n){this.version=t,this.transformResults=n}}class ei{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ei}static exists(t){return new ei(void 0,t)}static updateTime(t){return new ei(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ed{}function Gx(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new vv(e.key,ei.none()):new Sc(e.key,e.data,ei.none());{const n=e.data,s=bn.empty();let a=new Ve(Ze.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new Pr(e.key,s,new kn(a.toArray()),ei.none())}}function EL(e,t,n){e instanceof Sc?function(a,l,c){const f=a.value.clone(),m=Mb(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):e instanceof Pr?function(a,l,c){if(!Sf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Mb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Kx(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function Ku(e,t,n,s){return e instanceof Sc?function(l,c,f,m){if(!Sf(l.precondition,c))return f;const p=l.value.clone(),y=Vb(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,s):e instanceof Pr?function(l,c,f,m){if(!Sf(l.precondition,c))return f;const p=Vb(l.fieldTransforms,m,c),y=c.data;return y.setAll(Kx(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(e,t,n,s):function(l,c,f){return Sf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(e,t,n)}function bL(e,t){let n=null;for(const s of e.fieldTransforms){const a=t.data.field(s.field),l=Bx(s.transform,a||null);l!=null&&(n===null&&(n=bn.empty()),n.set(s.field,l))}return n||null}function Ob(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Wo(s,a,(l,c)=>_L(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sc extends Ed{constructor(t,n,s,a=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pr extends Ed{constructor(t,n,s,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Kx(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function Mb(e,t,n){const s=new Map;qt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);s.set(l.field,vL(c,f,n[a]))}return s}function Vb(e,t,n){const s=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);s.set(a.field,yL(l,c,t))}return s}class vv extends Ed{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wL extends Ed{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(t,n,s,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&EL(l,t,s[a])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ku(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ku(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Fx();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=Gx(c,f);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Wo(this.mutations,t.mutations,(n,s)=>Ob(n,s))&&Wo(this.baseMutations,t.baseMutations,(n,s)=>Ob(n,s))}}class _v{constructor(t,n,s,a){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(t,n,s){qt(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let a=function(){return fL}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new _v(t,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,jt;function RL(e){switch(e){case rt.OK:return Et(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Et(15467,{code:e})}}function Yx(e){if(e===void 0)return Cs("GRPC error has no .code"),rt.UNKNOWN;switch(e){case Re.OK:return rt.OK;case Re.CANCELLED:return rt.CANCELLED;case Re.UNKNOWN:return rt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return rt.INTERNAL;case Re.UNAVAILABLE:return rt.UNAVAILABLE;case Re.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Re.NOT_FOUND:return rt.NOT_FOUND;case Re.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Re.ABORTED:return rt.ABORTED;case Re.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Re.DATA_LOSS:return rt.DATA_LOSS;default:return Et(39323,{code:e})}}(jt=Re||(Re={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new gr([4294967295,4294967295],0);function kb(e){const t=yx().encode(e),n=new ux;return n.update(t),new Uint8Array(n.digest())}function Lb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new gr([n,s],0),new gr([a,l],0)]}class Tv{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(s<0)throw new Mu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=gr.fromNumber(this.pe)}we(t,n,s){let a=t.add(n.multiply(gr.fromNumber(s)));return a.compare(CL)===1&&(a=new gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=kb(t),[s,a]=Lb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);if(!this.be(c))return!1}return!0}static create(t,n,s){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new Tv(l,a,n);return s.forEach(f=>c.insert(f)),c}insert(t){if(this.pe===0)return;const n=kb(t),[s,a]=Lb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(s,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,n,s,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const a=new Map;return a.set(t,xc.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new bd(St.min(),a,new ce(It),Is(),Vt())}}class xc{constructor(t,n,s,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new xc(s,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(t,n,s,a){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=a}}class $x{constructor(t,n){this.targetId=t,this.Ce=n}}class Xx{constructor(t,n,s=Je.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Ub{constructor(){this.Fe=0,this.Me=Fb(),this.xe=Je.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Vt(),n=Vt(),s=Vt();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Et(38017,{changeType:l})}}),new xc(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=Fb()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class IL{constructor(t){this.ze=t,this.je=new Map,this.He=Is(),this.Je=lf(),this.Ye=lf(),this.Ze=new ce(It)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,a)=>{this.it(a)&&n(a)})}ot(t){const n=t.targetId,s=t.Ce.count,a=this._t(n);if(a){const l=a.target;if(Zg(l))if(s===0){const c=new yt(l.path);this.tt(n,c,on.newNoDocument(c,St.min()))}else qt(s===1,20013,{expectedCount:s});else{const c=this.ut(n);if(c!==s){const f=this.ct(t),m=f?this.lt(f,t,c):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=wr(s).toUint8Array()}catch(m){if(m instanceof Ex)return Qo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new Tv(c,a,l)}catch(m){return Qo(m instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let a=0;return s.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.tt(n,l,null),a++)}),a}It(t){const n=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&Zg(f.target)){const m=new yt(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,on.newNoDocument(m,t))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let s=Vt();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new bd(t,n,this.Ze,this.He,s);return this.He=Is(),this.Je=lf(),this.Ye=lf(),this.Ze=new ce(It),a}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const a=this.rt(t);this.dt(t,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Ub,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ve(It),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ve(It),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Ub),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function lf(){return new ce(yt.comparator)}function Fb(){return new ce(yt.comparator)}const DL={asc:"ASCENDING",desc:"DESCENDING"},NL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PL={and:"AND",or:"OR"};class OL{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ty(e,t){return e.useProto3Json||pd(t)?t:{value:t}}function Wf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ML(e,t){return Wf(e,t.toTimestamp())}function Fi(e){return qt(!!e,49232),St.fromTimestamp(function(n){const s=br(n);return new Ce(s.seconds,s.nanos)}(e))}function Ev(e,t){return ey(e,t).canonicalString()}function ey(e,t){const n=function(a){return new re(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Wx(e){const t=re.fromString(e);return qt(nR(t),10190,{key:t.toString()}),t}function ny(e,t){return Ev(e.databaseId,t.path)}function ug(e,t){const n=Wx(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(Jx(n))}function Zx(e,t){return Ev(e.databaseId,t)}function VL(e){const t=Wx(e);return t.length===4?re.emptyPath():Jx(t)}function iy(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jx(e){return qt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function jb(e,t,n){return{name:ny(e,t),fields:n.value.mapValue.fields}}function kL(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(qt(y===void 0||typeof y=="string",58123),Je.fromBase64String(y||"")):(qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Je.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(p){const y=p.code===void 0?rt.UNKNOWN:Yx(p.code);return new pt(y,p.message||"")}(c);n=new Xx(s,a,l,f||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=ug(e,s.document.name),l=Fi(s.document.updateTime),c=s.document.createTime?Fi(s.document.createTime):St.min(),f=new bn({mapValue:{fields:s.document.fields}}),m=on.newFoundDocument(a,l,c,f),p=s.targetIds||[],y=s.removedTargetIds||[];n=new xf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=ug(e,s.document),l=s.readTime?Fi(s.readTime):St.min(),c=on.newNoDocument(a,l),f=s.removedTargetIds||[];n=new xf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=ug(e,s.document),l=s.removedTargetIds||[];n=new xf([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new xL(a,l),f=s.targetId;n=new $x(f,c)}}return n}function LL(e,t){let n;if(t instanceof Sc)n={update:jb(e,t.key,t.value)};else if(t instanceof vv)n={delete:ny(e,t.key)};else if(t instanceof Pr)n={update:jb(e,t.key,t.data),updateMask:KL(t.fieldMask)};else{if(!(t instanceof wL))return Et(16599,{ft:t.type});n={verify:ny(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(l,c){const f=c.transform;if(f instanceof Xf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof uc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Qf)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Et(20930,{transform:c.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:ML(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)}(e,t.precondition)),n}function UL(e,t){return e&&e.length>0?(qt(t!==void 0,14353),e.map(n=>function(a,l){let c=a.updateTime?Fi(a.updateTime):Fi(l);return c.isEqual(St.min())&&(c=Fi(l)),new TL(c,a.transformResults||[])}(n,t))):[]}function FL(e,t){return{documents:[Zx(e,t.path)]}}function jL(e,t){const n={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Zx(e,a);const l=function(p){if(p.length!==0)return eR(zi.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:ko(E.field),direction:HL(E.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=ty(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:n,parent:a}}function BL(e){let t=VL(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){qt(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=tR(_);return E instanceof zi&&Nx(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(E=>function(C){return new $f(Lo(C.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,pd(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(_){const E=!!_.before,A=_.values||[];return new Yf(A,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,A=_.values||[];return new Yf(A,E)}(n.endAt)),aL(t,a,c,l,f,"F",m,p)}function zL(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function tR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Lo(n.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Lo(n.unaryFilter.field);return Me.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(n.unaryFilter.field);return Me.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return Me.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(e):e.fieldFilter!==void 0?function(n){return Me.create(Lo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return zi.create(n.compositeFilter.filters.map(s=>tR(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(e):Et(30097,{filter:e})}function HL(e){return DL[e]}function qL(e){return NL[e]}function GL(e){return PL[e]}function ko(e){return{fieldPath:e.canonicalString()}}function Lo(e){return Ze.fromServerFormat(e.fieldPath)}function eR(e){return e instanceof Me?function(n){if(n.op==="=="){if(Rb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(xb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(xb(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:qL(n.op),value:n.value}}}(e):e instanceof zi?function(n){const s=n.getFilters().map(a=>eR(a));return s.length===1?s[0]:{compositeFilter:{op:GL(n.op),filters:s}}}(e):Et(54877,{filter:e})}function KL(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function nR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t,n,s,a,l=St.min(),c=St.min(),f=Je.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t){this.wt=t}}function $L(e){const t=BL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Jg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.Cn=new QL}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(Er.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(Er.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class QL{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n]||new Ve(re.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(t){const n=t.lastSegment(),s=t.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Ve(re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iR=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(iR,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new tl(0)}static lr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="LruGarbageCollector",WL=1048576;function Hb([e,t],[n,s]){const a=It(e,n);return a===0?It(t,s):a}class ZL{constructor(t){this.Er=t,this.buffer=new Ve(Hb),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Hb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JL{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ht(zb,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?ht(zb,"Ignoring IndexedDB error during garbage collection: ",n):await hl(n)}await this.mr(3e5)})}}class t9{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(md.le);const s=new ZL(n);return this.gr.forEachTarget(t,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Bb)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bb):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(s=_,f=Date.now(),this.removeTargets(t,s,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(_=>(p=Date.now(),Mo()<=Mt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function e9(e,t){return new t9(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.changes=new La(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(t,n,s,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(s!==null&&Ku(s.mutation,a,kn.empty(),Ce.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Vt()){const a=ba();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,s).next(l=>{let c=Ou();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const s=ba();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Vt()))}populateOverlays(t,n,s){const a=[];return s.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(t,n,s,a){let l=Is();const c=Gu(),f=function(){return Gu()}();return n.forEach((m,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Pr)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Ku(y.mutation,p,y.mutation.getFieldMask(),Ce.now())):c.set(p.key,kn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new i9(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(t,n){const s=Gu();let a=new ce((c,f)=>c-f),l=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=s.get(m)||kn.empty();y=f.applyToLocalView(p,y),s.set(m,y);const _=(a.get(f.batchId)||Vt()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=Fx();y.forEach(E=>{if(!l.has(E)){const A=Gx(n.get(E),s.get(E));A!==null&&_.set(E,A),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return nt.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,a){return function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):oL(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,a):this.getDocumentsMatchingCollectionQuery(t,n,s,a)}getNextDocuments(t,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,a-l.size):nt.resolve(ba());let f=rc,m=l;return c.next(p=>nt.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Vt())).next(y=>({batchId:f,changes:Ux(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let a=Ou();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,s,a){const l=n.collectionGroup;let c=Ou();return this.indexManager.getCollectionParents(t,l).next(f=>nt.forEach(f,m=>{const p=function(_,E){return new yd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,s,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,on.newInvalidDocument(y)))});let f=Ou();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Ku(y.mutation,p,kn.empty(),Ce.now()),_d(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return nt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Fi(a.createTime)}}(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(a){return{name:a.name,query:$L(a.bundledQuery),readTime:Fi(a.readTime)}}(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.overlays=new ce(yt.comparator),this.Qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ba();return nt.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((a,l)=>{this.St(t,n,l)}),nt.resolve()}removeOverlaysForBatchId(t,n,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const a=ba(),l=n.length+1,c=new yt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,s,a){let l=new ce((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=ba(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ba(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return nt.resolve(f)}St(t,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new SL(n,s));let l=this.Qr.get(n);l===void 0&&(l=Vt(),this.Qr.set(n,l)),this.Qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.$r=new Ve(ze.Ur),this.Kr=new Ve(ze.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new ze(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new ze(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new yt(new re([])),s=new ze(n,t),a=new ze(n,t+1),l=[];return this.Kr.forEachInRange([s,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new yt(new re([])),s=new ze(n,t),a=new ze(n,t+1);let l=Vt();return this.Kr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new ze(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ze{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return yt.comparator(t.key,n.key)||It(t.Zr,n.Zr)}static Wr(t,n){return It(t.Zr,n.Zr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ve(ze.Ur)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new AL(l,n,s,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new ze(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,a=this.ti(s),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?hv:this.nr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ze(n,0),a=new ze(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,a],c=>{const f=this.ei(c.Zr);l.push(f)}),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ve(It);return n.forEach(a=>{const l=new ze(a,0),c=new ze(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{s=s.add(f.Zr)})}),nt.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,a=s.length+1;let l=s;yt.isDocumentKey(l)||(l=l.child(""));const c=new ze(new yt(l),0);let f=new Ve(It);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Zr)),!0)},c),nt.resolve(this.ni(f))}ni(t){const n=[];return t.forEach(s=>{const a=this.ei(s);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){qt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return nt.forEach(n.mutations,a=>{const l=new ze(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new ze(n,0),a=this.Xr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(t){this.ii=t,this.docs=function(){return new ce(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():on.newInvalidDocument(n))}getEntries(t,n){let s=Is();return n.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():on.newInvalidDocument(a))}),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,a){let l=Is();const c=n.path,f=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||U6(L6(y),s)<=0||(a.has(y.key)||_d(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,s,a){Et(9500)}si(t,n){return nt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new c9(this)}getSize(t){return nt.resolve(this.size)}}class c9 extends n9{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(t,a)):this.Br.removeEntry(s)}),nt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(t){this.persistence=t,this.oi=new La(n=>mv(n),pv),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this._i=0,this.ai=new bv,this.targetCount=0,this.ui=tl.cr()}forEachTarget(t,n){return this.oi.forEach((s,a)=>n(a)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),nt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new tl(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Tr(n),nt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let a=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),nt.waitFor(l).next(()=>a)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,n){this.ci={},this.overlays={},this.li=new md(0),this.hi=!1,this.hi=!0,this.Pi=new o9,this.referenceDelegate=t(this),this.Ti=new h9(this),this.indexManager=new XL,this.remoteDocumentCache=function(a){return new u9(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new YL(n),this.Ei=new r9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new a9,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new l9(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const a=new f9(this.li.next());return this.referenceDelegate.di(),s(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(t,n){return nt.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class f9 extends j6{constructor(t){super(),this.currentSequenceNumber=t}}class wv{constructor(t){this.persistence=t,this.Vi=new bv,this.mi=null}static fi(t){return new wv(t)}get gi(){if(this.mi)return this.mi;throw Et(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.gi,s=>{const a=yt.fromPath(s);return this.pi(t,a).next(l=>{l||n.removeEntry(a,St.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return nt.or([()=>nt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Zf{constructor(t,n){this.persistence=t,this.yi=new La(s=>H6(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=e9(this,n)}static fi(t,n){return new Zf(t,n)}di(){}Ai(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(a=>s+a))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return nt.forEach(this.yi,(s,a)=>this.Dr(t,s,a).next(l=>l?nt.resolve():n(a)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,n).next(f=>{f||(s++,l.removeEntry(c,St.min()))})).next(()=>l.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),nt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=wf(t.data.value)),n}Dr(t,n,s){return nt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.yi.get(n);return nt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,n,s,a){this.targetId=t,this.fromCache=n,this.ds=s,this.As=a}static Rs(t,n){let s=Vt(),a=Vt();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Av(t,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return $M()?8:B6(cn())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,a){const l={result:null};return this.ws(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(t,n,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new d9;return this.Ss(t,n,c).next(f=>{if(l.result=f,this.fs)return this.Ds(t,n,c,f.size)})}).next(()=>l.result)}Ds(t,n,s,a){return s.documentReadCount<this.gs?(Mo()<=Mt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),nt.resolve()):(Mo()<=Mt.DEBUG&&ht("QueryEngine","Query:",Vo(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(Mo()<=Mt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ui(n))):nt.resolve())}ws(t,n){if(Nb(n))return nt.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(t,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Jg(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(l=>{const c=Vt(...l);return this.ys.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,s).next(m=>{const p=this.vs(n,f);return this.Cs(n,p,c,m.readTime)?this.ws(t,Jg(n,null,"F")):this.Fs(t,p,n,m)}))})))}bs(t,n,s,a){return Nb(n)||a.isEqual(St.min())?nt.resolve(null):this.ys.getDocuments(t,s).next(l=>{const c=this.vs(n,l);return this.Cs(n,c,s,a)?nt.resolve(null):(Mo()<=Mt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vo(n)),this.Fs(t,c,n,k6(a,rc)).next(f=>f))})}vs(t,n){let s=new Ve(kx(t));return n.forEach((a,l)=>{_d(t,l)&&(s=s.add(l))}),s}Cs(t,n,s,a){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,s){return Mo()<=Mt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Vo(n)),this.ys.getDocumentsMatchingQuery(t,n,Er.min(),s)}Fs(t,n,s,a){return this.ys.getDocumentsMatchingQuery(t,s,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="LocalStore",p9=3e8;class g9{constructor(t,n,s,a){this.persistence=t,this.Ms=n,this.serializer=a,this.xs=new ce(It),this.Os=new La(l=>mv(l),pv),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new s9(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function y9(e,t,n,s){return new g9(e,t,n,s)}async function rR(e,t){const n=xt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],f=[];let m=Vt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:f}))})})}function v9(e,t){const n=xt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=t.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,E=_.keys();let A=nt.resolve();return E.forEach(C=>{A=A.next(()=>y.getEntry(m,C)).next(M=>{const O=p.docVersions.get(C);qt(O!==null,48541),M.version.compareTo(O)<0&&(_.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),y.addEntry(M)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,s,t,l).next(()=>l.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let m=Vt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(s,a))})}function aR(e){const t=xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function _9(e,t){const n=xt(e),s=t.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const f=[];t.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.Ti.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(l,y.addedDocuments,_)));let A=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?A=A.withResumeToken(Je.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,s)),a=a.insert(_,A),function(M,O,B){return M.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=p9?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(E,A,y)&&f.push(n.Ti.updateTargetData(l,A))});let m=Is(),p=Vt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(T9(l,c,t.documentUpdates).next(y=>{m=y.qs,p=y.Qs})),!s.isEqual(St.min())){const y=n.Ti.getLastRemoteSnapshotVersion(l).next(_=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(y)}return nt.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.xs=a,l))}function T9(e,t,n){let s=Vt(),a=Vt();return n.forEach(l=>s=s.add(l)),t.getEntries(e,s).next(l=>{let c=Is();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(St.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):ht(Sv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function E9(e,t){const n=xt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=hv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function b9(e,t){const n=xt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Ti.getTargetData(s,t).next(l=>l?(a=l,nt.resolve(a)):n.Ti.allocateTargetId(s).next(c=>(a=new dr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function sy(e,t,n){const s=xt(e),a=s.xs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!fl(c))throw c;ht(Sv,`Failed to update sequence numbers for target ${t}: ${c}`)}s.xs=s.xs.remove(t),s.Os.delete(a.target)}function qb(e,t,n){const s=xt(e);let a=St.min(),l=Vt();return s.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=xt(m),E=_.Os.get(y);return E!==void 0?nt.resolve(_.xs.get(E)):_.Ti.getTargetData(p,y)}(s,c,Ui(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(c,t,n?a:St.min(),n?l:Vt())).next(f=>(w9(s,uL(t),f),{documents:f,$s:l})))}function w9(e,t,n){let s=e.Ns.get(t)||St.min();n.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),e.Ns.set(t,s)}class Gb{constructor(){this.activeTargetIds=pL()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class A9{constructor(){this.xo=new Gb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Gb,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="ConnectivityMonitor";class Yb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ht(Kb,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ht(Kb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=null;function ry(){return uf===null?uf=function(){return 268435456+Math.round(2147483648*Math.random())}():uf++,"0x"+uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="RestConnection",x9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R9{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===Gf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(t,n,s,a,l){const c=ry(),f=this.jo(t,n.toUriEncodedString());ht(cg,`Sending RPC '${t}' ${c}:`,f,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(f),y=Cr(p);return this.Jo(t,f,m,s,y).then(_=>(ht(cg,`Received RPC '${t}' ${c}: `,_),_),_=>{throw Qo(cg,`RPC '${t}' ${c} failed with error: `,_,"url: ",f,"request:",s),_})}Yo(t,n,s,a,l,c){return this.zo(t,n,s,a,l)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),s&&s.headers.forEach((a,l)=>t[l]=a)}jo(t,n){const s=x9[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class I9 extends R9{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,a,l){const c=ry();return new Promise((f,m)=>{const p=new cx;p.setWithCredentials(!0),p.listenOnce(hx.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case bf.NO_ERROR:const _=p.getResponseJson();ht(sn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),f(_);break;case bf.TIMEOUT:ht(sn,`RPC '${t}' ${c} timed out`),m(new pt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const E=p.getStatus();if(ht(sn,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const M=function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(H)>=0?H:rt.UNKNOWN}(C.status);m(new pt(M,C.message))}else m(new pt(rt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new pt(rt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{h_:t,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{ht(sn,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(a);ht(sn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,s,15)})}I_(t,n,s){const a=ry(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=mx(),f=dx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=l.join("");ht(sn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.E_(_);let E=!1,A=!1;const C=new C9({Zo:O=>{A?ht(sn,`Not sending because RPC '${t}' stream ${a} is closed:`,O):(E||(ht(sn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),E=!0),ht(sn,`RPC '${t}' stream ${a} sending:`,O),_.send(O))},Xo:()=>_.close()}),M=(O,B,H)=>{O.listen(B,q=>{try{H(q)}catch(it){setTimeout(()=>{throw it},0)}})};return M(_,Pu.EventType.OPEN,()=>{A||(ht(sn,`RPC '${t}' stream ${a} transport opened.`),C.__())}),M(_,Pu.EventType.CLOSE,()=>{A||(A=!0,ht(sn,`RPC '${t}' stream ${a} transport closed`),C.u_(),this.d_(_))}),M(_,Pu.EventType.ERROR,O=>{A||(A=!0,Qo(sn,`RPC '${t}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),C.u_(new pt(rt.UNAVAILABLE,"The operation could not be completed")))}),M(_,Pu.EventType.MESSAGE,O=>{var B;if(!A){const H=O.data[0];qt(!!H,16349);const q=H,it=(q==null?void 0:q.error)||((B=q[0])===null||B===void 0?void 0:B.error);if(it){ht(sn,`RPC '${t}' stream ${a} received error:`,it);const J=it.status;let ct=function(I){const D=Re[I];if(D!==void 0)return Yx(D)}(J),V=it.message;ct===void 0&&(ct=rt.INTERNAL,V="Unknown error status: "+J+" with message "+it.message),A=!0,C.u_(new pt(ct,V)),_.close()}else ht(sn,`RPC '${t}' stream ${a} received:`,H),C.c_(H)}}),M(f,fx.STAT_EVENT,O=>{O.stat===Yg.PROXY?ht(sn,`RPC '${t}' stream ${a} detected buffering proxy`):O.stat===Yg.NOPROXY&&ht(sn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function hg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(e){return new OL(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,n,s=1e3,a=1.5,l=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),a=Math.max(0,n-s);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="PersistentStream";class lR{constructor(t,n,s,a,l,c,f,m){this.xi=t,this.S_=s,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new oR(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(Cs(n.toString()),Cs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.v_===n&&this.z_(s,a)},s=>{t(()=>{const a=new pt(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(a)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.j_(a))}),this.stream.onMessage(a=>{s(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ht($b,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(ht($b,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D9 extends lR{constructor(t,n,s,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=kL(this.serializer,t),s=function(l){if(!("targetChange"in l))return St.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Fi(c.readTime):St.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=iy(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=Zg(m)?{documents:FL(l,m)}:{query:jL(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Qx(l,c.resumeToken);const p=ty(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(St.min())>0){f.readTime=Wf(l,c.snapshotVersion.toTimestamp());const p=ty(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,t);const s=zL(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=iy(this.serializer),n.removeTarget=t,this.Q_(n)}}class N9 extends lR{constructor(t,n,s,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=UL(t.writeResults,t.commitTime),s=Fi(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=iy(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>LL(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{}class O9 extends P9{constructor(t,n,s,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(t,ey(n,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pt(rt.UNKNOWN,l.toString())})}Yo(t,n,s,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(t,ey(n,s),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(rt.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class M9{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Cs(n),this.ua=!1):ht("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="RemoteStore";class V9{constructor(t,n,s,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{s.enqueueAndForget(async()=>{Ua(this)&&(ht(Pa,"Restarting streams for network reachability change."),await async function(m){const p=xt(m);p.da.add(4),await Rc(p),p.Va.set("Unknown"),p.da.delete(4),await Ad(p)}(this))})}),this.Va=new M9(s,a)}}async function Ad(e){if(Ua(e))for(const t of e.Aa)await t(!0)}async function Rc(e){for(const t of e.Aa)await t(!1)}function uR(e,t){const n=xt(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Iv(n)?Cv(n):dl(n).N_()&&Rv(n,t))}function xv(e,t){const n=xt(e),s=dl(n);n.Ea.delete(t),s.N_()&&cR(n,t),n.Ea.size===0&&(s.N_()?s.k_():Ua(n)&&n.Va.set("Unknown"))}function Rv(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}dl(e).Z_(t)}function cR(e,t){e.ma.Ke(t),dl(e).X_(t)}function Cv(e){e.ma=new IL({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),dl(e).start(),e.Va.ca()}function Iv(e){return Ua(e)&&!dl(e).O_()&&e.Ea.size>0}function Ua(e){return xt(e).da.size===0}function hR(e){e.ma=void 0}async function k9(e){e.Va.set("Online")}async function L9(e){e.Ea.forEach((t,n)=>{Rv(e,t)})}async function U9(e,t){hR(e),Iv(e)?(e.Va.Pa(t),Cv(e)):e.Va.set("Unknown")}async function F9(e,t,n){if(e.Va.set("Online"),t instanceof Xx&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ea.delete(f),a.ma.removeTarget(f))}(e,t)}catch(s){ht(Pa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Jf(e,s)}else if(t instanceof xf?e.ma.Xe(t):t instanceof $x?e.ma.ot(t):e.ma.nt(t),!n.isEqual(St.min()))try{const s=await aR(e.localStore);n.compareTo(s)>=0&&await function(l,c){const f=l.ma.It(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ea.get(p);y&&l.Ea.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.Ea.get(m);if(!y)return;l.Ea.set(m,y.withResumeToken(Je.EMPTY_BYTE_STRING,y.snapshotVersion)),cR(l,m);const _=new dr(y.target,m,p,y.sequenceNumber);Rv(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)}catch(s){ht(Pa,"Failed to raise snapshot:",s),await Jf(e,s)}}async function Jf(e,t,n){if(!fl(t))throw t;e.da.add(1),await Rc(e),e.Va.set("Offline"),n||(n=()=>aR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ht(Pa,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Ad(e)})}function fR(e,t){return t().catch(n=>Jf(e,n,t))}async function Sd(e){const t=xt(e),n=Sr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:hv;for(;j9(t);)try{const a=await E9(t.localStore,s);if(a===null){t.Ia.length===0&&n.k_();break}s=a.batchId,B9(t,a)}catch(a){await Jf(t,a)}dR(t)&&mR(t)}function j9(e){return Ua(e)&&e.Ia.length<10}function B9(e,t){e.Ia.push(t);const n=Sr(e);n.N_()&&n.ea&&n.ta(t.mutations)}function dR(e){return Ua(e)&&!Sr(e).O_()&&e.Ia.length>0}function mR(e){Sr(e).start()}async function z9(e){Sr(e).ia()}async function H9(e){const t=Sr(e);for(const n of e.Ia)t.ta(n.mutations)}async function q9(e,t,n){const s=e.Ia.shift(),a=_v.from(s,t,n);await fR(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Sd(e)}async function G9(e,t){t&&Sr(e).ea&&await async function(s,a){if(function(c){return RL(c)&&c!==rt.ABORTED}(a.code)){const l=s.Ia.shift();Sr(s).L_(),await fR(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Sd(s)}}(e,t),dR(e)&&mR(e)}async function Xb(e,t){const n=xt(e);n.asyncQueue.verifyOperationInProgress(),ht(Pa,"RemoteStore received new credentials");const s=Ua(n);n.da.add(3),await Rc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Ad(n)}async function K9(e,t){const n=xt(e);t?(n.da.delete(2),await Ad(n)):t||(n.da.add(2),await Rc(n),n.Va.set("Unknown"))}function dl(e){return e.fa||(e.fa=function(n,s,a){const l=xt(n);return l.oa(),new D9(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{e_:k9.bind(null,e),n_:L9.bind(null,e),i_:U9.bind(null,e),Y_:F9.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Iv(e)?Cv(e):e.Va.set("Unknown")):(await e.fa.stop(),hR(e))})),e.fa}function Sr(e){return e.ga||(e.ga=function(n,s,a){const l=xt(n);return l.oa(),new N9(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:z9.bind(null,e),i_:G9.bind(null,e),na:H9.bind(null,e),ra:q9.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Sd(e)):(await e.ga.stop(),e.Ia.length>0&&(ht(Pa,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t,n,s,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,a,l){const c=Date.now()+s,f=new Dv(t,n,c,a,l);return f.start(s),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nv(e,t){if(Cs("AsyncQueue",`${t}: ${e}`),fl(e))return new pt(rt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(t){return new Yo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Ou(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Yo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.pa=new ce(yt.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class el{constructor(t,n,s,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new el(t,n,Yo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class $9{constructor(){this.queries=Wb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=xt(n),l=a.queries;a.queries=Wb(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(s)})})(this,new pt(rt.ABORTED,"Firestore shutting down"))}}function Wb(){return new La(e=>Vx(e),vd)}async function pR(e,t){const n=xt(e);let s=3;const a=t.query;let l=n.queries.get(a);l?!l.Da()&&t.va()&&(s=2):(l=new Y9,s=t.va()?0:1);try{switch(s){case 0:l.ba=await n.onListen(a,!0);break;case 1:l.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Nv(c,`Initialization of query '${Vo(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.Sa.push(t),t.Fa(n.onlineState),l.ba&&t.Ma(l.ba)&&Pv(n)}async function gR(e,t){const n=xt(e),s=t.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.va()?0:1:!l.Da()&&t.va()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function X9(e,t){const n=xt(e);let s=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Ma(a)&&(s=!0);c.ba=a}}s&&Pv(n)}function Q9(e,t,n){const s=xt(e),a=s.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(t)}function Pv(e){e.Ca.forEach(t=>{t.next()})}var ay,Zb;(Zb=ay||(ay={})).xa="default",Zb.Cache="cache";class yR{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new el(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==ay.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t){this.key=t}}class _R{constructor(t){this.key=t}}class W9{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.Za=kx(t),this.Xa=new Yo(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new Qb,a=n?n.Xa:this.Xa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,_)=>{const E=a.get(y),A=_d(this.query,_)?_:null,C=!!E&&this.mutatedKeys.has(E.key),M=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let O=!1;E&&A?E.data.isEqual(A.data)?C!==M&&(s.track({type:3,doc:A}),O=!0):this.ru(E,A)||(s.track({type:2,doc:A}),O=!0,(m&&this.Za(A,m)>0||p&&this.Za(A,p)<0)&&(f=!0)):!E&&A?(s.track({type:0,doc:A}),O=!0):E&&!A&&(s.track({type:1,doc:E}),O=!0,(m||p)&&(f=!0)),O&&(A?(c=c.add(A),l=M?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{Xa:c,nu:s,Cs:f,mutatedKeys:l}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,a){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const c=t.nu.wa();c.sort((y,_)=>function(A,C){const M=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:O})}};return M(A)-M(C)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(s),a=a!=null&&a;const f=n&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new el(this.query,t.Xa,l,c,t.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Qb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new _R(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new vR(s))}),n}au(t){this.Ha=t.$s,this.Ya=Vt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return el.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ov="SyncEngine";class Z9{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class J9{constructor(t){this.key=t,this.cu=!1}}class tU{constructor(t,n,s,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new La(f=>Vx(f),vd),this.Pu=new Map,this.Tu=new Set,this.Iu=new ce(yt.comparator),this.Eu=new Map,this.du=new bv,this.Au={},this.Ru=new Map,this.Vu=tl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function eU(e,t,n=!0){const s=SR(e);let a;const l=s.hu.get(t);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await TR(s,t,n,!0),a}async function nU(e,t){const n=SR(e);await TR(n,t,!0,!1)}async function TR(e,t,n,s){const a=await b9(e.localStore,Ui(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await iU(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&uR(e.remoteStore,a),f}async function iU(e,t,n,s,a){e.fu=(_,E,A)=>async function(M,O,B,H){let q=O.view.tu(B);q.Cs&&(q=await qb(M.localStore,O.query,!1).then(({documents:V})=>O.view.tu(V,q)));const it=H&&H.targetChanges.get(O.targetId),J=H&&H.targetMismatches.get(O.targetId)!=null,ct=O.view.applyChanges(q,M.isPrimaryClient,it,J);return tw(M,O.targetId,ct.ou),ct.snapshot}(e,_,E,A);const l=await qb(e.localStore,t,!0),c=new W9(t,l.$s),f=c.tu(l.documents),m=xc.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);tw(e,n,p.ou);const y=new Z9(t,n,c);return e.hu.set(t,y),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),p.snapshot}async function sU(e,t,n){const s=xt(e),a=s.hu.get(t),l=s.Pu.get(a.targetId);if(l.length>1)return s.Pu.set(a.targetId,l.filter(c=>!vd(c,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await sy(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&xv(s.remoteStore,a.targetId),oy(s,a.targetId)}).catch(hl)):(oy(s,a.targetId),await sy(s.localStore,a.targetId,!0))}async function rU(e,t){const n=xt(e),s=n.hu.get(t),a=n.Pu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xv(n.remoteStore,s.targetId))}async function aU(e,t,n){const s=dU(e);try{const a=await function(c,f){const m=xt(c),p=Ce.now(),y=f.reduce((A,C)=>A.add(C.key),Vt());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",A=>{let C=Is(),M=Vt();return m.Bs.getEntries(A,y).next(O=>{C=O,C.forEach((B,H)=>{H.isValidDocument()||(M=M.add(B))})}).next(()=>m.localDocuments.getOverlayedDocuments(A,C)).next(O=>{_=O;const B=[];for(const H of f){const q=bL(H,_.get(H.key).overlayedDocument);q!=null&&B.push(new Pr(H.key,q,Cx(q.value.mapValue),ei.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,B,f)}).next(O=>{E=O;const B=O.applyToLocalDocumentSet(_,M);return m.documentOverlayCache.saveOverlays(A,O.batchId,B)})}).then(()=>({batchId:E.batchId,changes:Ux(_)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Au[c.currentUser.toKey()];p||(p=new ce(It)),p=p.insert(f,m),c.Au[c.currentUser.toKey()]=p}(s,a.batchId,n),await Cc(s,a.changes),await Sd(s.remoteStore)}catch(a){const l=Nv(a,"Failed to persist write");n.reject(l)}}async function ER(e,t){const n=xt(e);try{const s=await _9(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Eu.get(l);c&&(qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?qt(c.cu,14607):a.removedDocuments.size>0&&(qt(c.cu,42227),c.cu=!1))}),await Cc(n,s,t)}catch(s){await hl(s)}}function Jb(e,t,n){const s=xt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.hu.forEach((l,c)=>{const f=c.view.Fa(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=xt(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const E of _.Sa)E.Fa(f)&&(p=!0)}),p&&Pv(m)}(s.eventManager,t),a.length&&s.lu.Y_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function oU(e,t,n){const s=xt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const a=s.Eu.get(t),l=a&&a.key;if(l){let c=new ce(yt.comparator);c=c.insert(l,on.newNoDocument(l,St.min()));const f=Vt().add(l),m=new bd(St.min(),new Map,new ce(It),c,f);await ER(s,m),s.Iu=s.Iu.remove(l),s.Eu.delete(t),Mv(s)}else await sy(s.localStore,t,!1).then(()=>oy(s,t,n)).catch(hl)}async function lU(e,t){const n=xt(e),s=t.batch.batchId;try{const a=await v9(n.localStore,t);wR(n,s,null),bR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cc(n,a)}catch(a){await hl(a)}}async function uU(e,t,n){const s=xt(e);try{const a=await function(c,f){const m=xt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(qt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(s.localStore,t);wR(s,t,n),bR(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Cc(s,a)}catch(a){await hl(a)}}function bR(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function wR(e,t,n){const s=xt(e);let a=s.Au[s.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),s.Au[s.currentUser.toKey()]=a}}function oy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Pu.get(t))e.hu.delete(s),n&&e.lu.gu(s,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(s=>{e.du.containsKey(s)||AR(e,s)})}function AR(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(xv(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Mv(e))}function tw(e,t,n){for(const s of n)s instanceof vR?(e.du.addReference(s.key,t),cU(e,s)):s instanceof _R?(ht(Ov,"Document no longer in limbo: "+s.key),e.du.removeReference(s.key,t),e.du.containsKey(s.key)||AR(e,s.key)):Et(19791,{pu:s})}function cU(e,t){const n=t.key,s=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(s)||(ht(Ov,"New document in limbo: "+n),e.Tu.add(s),Mv(e))}function Mv(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new yt(re.fromString(t)),s=e.Vu.next();e.Eu.set(s,new J9(n)),e.Iu=e.Iu.insert(n,s),uR(e.remoteStore,new dr(Ui(gv(n.path)),s,"TargetPurposeLimboResolution",md.le))}}async function Cc(e,t,n){const s=xt(e),a=[],l=[],c=[];s.hu.isEmpty()||(s.hu.forEach((f,m)=>{c.push(s.fu(m,t,n).then(p=>{var y;if((p||n)&&s.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Av.Rs(m.targetId,p);l.push(_)}}))}),await Promise.all(c),s.lu.Y_(a),await async function(m,p){const y=xt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>nt.forEach(p,E=>nt.forEach(E.ds,A=>y.persistence.referenceDelegate.addReference(_,E.targetId,A)).next(()=>nt.forEach(E.As,A=>y.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))}catch(_){if(!fl(_))throw _;ht(Sv,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=y.xs.get(E),C=A.snapshotVersion,M=A.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(E,M)}}}(s.localStore,l))}async function hU(e,t){const n=xt(e);if(!n.currentUser.isEqual(t)){ht(Ov,"User change. New user:",t.toKey());const s=await rR(n.localStore,t);n.currentUser=t,function(l,c){l.Ru.forEach(f=>{f.forEach(m=>{m.reject(new pt(rt.CANCELLED,c))})}),l.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Cc(n,s.ks)}}function fU(e,t){const n=xt(e),s=n.Eu.get(t);if(s&&s.cu)return Vt().add(s.key);{let a=Vt();const l=n.Pu.get(t);if(!l)return a;for(const c of l){const f=n.hu.get(c);a=a.unionWith(f.view.eu)}return a}}function SR(e){const t=xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ER.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oU.bind(null,t),t.lu.Y_=X9.bind(null,t.eventManager),t.lu.gu=Q9.bind(null,t.eventManager),t}function dU(e){const t=xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uU.bind(null,t),t}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return y9(this.persistence,new m9,t.initialUser,this.serializer)}Su(t){return new sR(wv.fi,this.serializer)}bu(t){return new A9}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class mU extends td{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){qt(this.persistence.referenceDelegate instanceof Zf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new JL(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new sR(s=>Zf.fi(s,n),this.serializer)}}class ly{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Jb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hU.bind(null,this.syncEngine),await K9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new $9}()}createDatastore(t){const n=wd(t.databaseInfo.databaseId),s=function(l){return new I9(l)}(t.databaseInfo);return function(l,c,f,m){return new O9(l,c,f,m)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,a,l,c,f){return new V9(s,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,n=>Jb(this.syncEngine,n,0),function(){return Yb.C()?new Yb:new S9}())}createSyncEngine(t,n){return function(a,l,c,f,m,p,y){const _=new tU(a,l,c,f,m,p);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=xt(a);ht(Pa,"RemoteStore shutting down."),l.da.add(5),await Rc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ly.provider={build:()=>new ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Cs("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class pU{constructor(t,n,s,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=vx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{ht(xr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ht(xr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Nv(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function fg(e,t){e.asyncQueue.verifyOperationInProgress(),ht(xr,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async a=>{s.isEqual(a)||(await rR(t.localStore,a),s=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ew(e,t){e.asyncQueue.verifyOperationInProgress();const n=await gU(e);ht(xr,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>Xb(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,a)=>Xb(t.remoteStore,a)),e._onlineComponents=t}async function gU(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht(xr,"Using user provided OfflineComponentProvider");try{await fg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await fg(e,new td)}}else ht(xr,"Using default OfflineComponentProvider"),await fg(e,new mU(void 0));return e._offlineComponents}async function RR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht(xr,"Using user provided OnlineComponentProvider"),await ew(e,e._uninitializedComponentsProvider._online)):(ht(xr,"Using default OnlineComponentProvider"),await ew(e,new ly))),e._onlineComponents}function yU(e){return RR(e).then(t=>t.syncEngine)}async function CR(e){const t=await RR(e),n=t.eventManager;return n.onListen=eU.bind(null,t.syncEngine),n.onUnlisten=sU.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nU.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rU.bind(null,t.syncEngine),n}function vU(e,t,n={}){const s=new bs;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new xR({next:E=>{y.xu(),c.enqueueAndForget(()=>gR(l,_));const A=E.docs.has(f);!A&&E.fromCache?p.reject(new pt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&m&&m.source==="server"?p.reject(new pt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new yR(gv(f.path),y,{includeMetadataChanges:!0,Qa:!0});return pR(l,_)}(await CR(e),e.asyncQueue,t,n,s)),s.promise}function _U(e,t,n={}){const s=new bs;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new xR({next:E=>{y.xu(),c.enqueueAndForget(()=>gR(l,_)),E.fromCache&&m.source==="server"?p.reject(new pt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new yR(f,y,{includeMetadataChanges:!0,Qa:!0});return pR(l,_)}(await CR(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(e,t,n){if(!n)throw new pt(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function TU(e,t,n,s){if(t===!0&&s===!0)throw new pt(rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function iw(e){if(!yt.isDocumentKey(e))throw new pt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function sw(e){if(yt.isDocumentKey(e))throw new pt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Vv(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et(12329,{type:typeof e})}function hi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vv(e);throw new pt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firestore.googleapis.com",rw=!0;class aw{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NR,this.ssl=rw}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:rw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=iR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WL)throw new pt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IR((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xd{constructor(t,n,s,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new R6;switch(s.type){case"firstParty":return new N6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=nw.get(n);s&&(ht("ComponentProvider","Removing Datastore"),nw.delete(n),s.terminate())}(this),Promise.resolve()}}function EU(e,t,n,s={}){var a;e=hi(e,xd);const l=Cr(t),c=e._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:e._getEmulatorOptions()}),m=`${t}:${n}`;l&&(Qy(`https://${m}`),Wy("Firestore",!0)),c.host!==NR&&c.host!==m&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:s});if(!Ra(p,f)&&(e._setSettings(p),s.mockUserToken)){let y,_;if(typeof s.mockUserToken=="string")y=s.mockUserToken,_=an.MOCK_USER;else{y=ES(s.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new pt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new an(E)}e._authCredentials=new C6(new gx(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Rd(this.firestore,t,this._query)}}class An{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new An(this.firestore,t,this._key)}}class yr extends Rd{constructor(t,n,s){super(t,n,gv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new An(this.firestore,null,new yt(t))}withConverter(t){return new yr(this.firestore,t,this._path)}}function hc(e,t,...n){if(e=pe(e),DR("collection","path",t),e instanceof xd){const s=re.fromString(t,...n);return sw(s),new yr(e,null,s)}{if(!(e instanceof An||e instanceof yr))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(re.fromString(t,...n));return sw(s),new yr(e.firestore,null,s)}}function Ds(e,t,...n){if(e=pe(e),arguments.length===1&&(t=vx.newId()),DR("doc","path",t),e instanceof xd){const s=re.fromString(t,...n);return iw(s),new An(e,null,new yt(s))}{if(!(e instanceof An||e instanceof yr))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(re.fromString(t,...n));return iw(s),new An(e.firestore,e instanceof yr?e.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="AsyncQueue";class lw{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new oR(this,"async_queue_retry"),this.rc=()=>{const s=hg();s&&ht(ow,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new bs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!fl(t))throw t;ht(ow,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Cs("INTERNAL UNHANDLED ERROR: ",uw(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const a=Dv.createAndSchedule(this,t,n,s,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Et(47125,{cc:uw(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function uw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Fa extends xd{constructor(t,n,s,a){super(t,n,s,a),this.type="firestore",this._queue=new lw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lw(t),this._firestoreClient=void 0,await t}}}function bU(e,t){const n=typeof e=="object"?e:tv(),s=typeof e=="string"?e:Gf,a=cd(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=vS("firestore");l&&EU(a,...l)}return a}function kv(e){if(e._terminated)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wU(e),e._firestoreClient}function wU(e){var t,n,s;const a=e._freezeSettings(),l=function(f,m,p,y){return new K6(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,IR(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new pU(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new nl(Je.fromBase64String(t))}catch(n){throw new pt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new nl(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=/^__.*__$/;class SU{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Pr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(t,this.data,n,this.fieldTransforms)}}class PR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Pr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function OR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ic:e})}}class jv{constructor(t,n,s,a,l,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new jv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.dc({path:s,Rc:!1});return a.Vc(t),a}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.dc({path:s,Rc:!1});return a.Ec(),a}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return ed(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(OR(this.Ic)&&AU.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class xU{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||wd(t)}bc(t,n,s,a=!1){return new jv({Ic:t,methodName:n,wc:s,path:Ze.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bv(e){const t=e._freezeSettings(),n=wd(e._databaseId);return new xU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function MR(e,t,n,s,a,l={}){const c=e.bc(l.merge||l.mergeFields?2:0,t,n,a);zv("Data must be an object, but it was:",c,s);const f=VR(s,c);let m,p;if(l.merge)m=new kn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=uy(t,_,n);if(!c.contains(E))throw new pt(rt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);LR(y,E)||y.push(E)}m=new kn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new SU(new bn(f),m,p)}class Id extends Lv{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Id}}function RU(e,t,n,s){const a=e.bc(1,t,n);zv("Data must be an object, but it was:",a,s);const l=[],c=bn.empty();Nr(s,(m,p)=>{const y=Hv(t,m,n);p=pe(p);const _=a.mc(y);if(p instanceof Id)l.push(y);else{const E=Dd(p,_);E!=null&&(l.push(y),c.set(y,E))}});const f=new kn(l);return new PR(c,f,a.fieldTransforms)}function CU(e,t,n,s,a,l){const c=e.bc(1,t,n),f=[uy(t,s,n)],m=[a];if(l.length%2!=0)throw new pt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(uy(t,l[E])),m.push(l[E+1]);const p=[],y=bn.empty();for(let E=f.length-1;E>=0;--E)if(!LR(p,f[E])){const A=f[E];let C=m[E];C=pe(C);const M=c.mc(A);if(C instanceof Id)p.push(A);else{const O=Dd(C,M);O!=null&&(p.push(A),y.set(A,O))}}const _=new kn(p);return new PR(y,_,c.fieldTransforms)}function Dd(e,t){if(kR(e=pe(e)))return zv("Unsupported field value:",t,e),VR(e,t);if(e instanceof Lv)return function(s,a){if(!OR(a.Ic))throw a.gc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const f of s){let m=Dd(f,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(s,a){if((s=pe(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gL(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ce.fromDate(s);return{timestampValue:Wf(a.serializer,l)}}if(s instanceof Ce){const l=new Ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wf(a.serializer,l)}}if(s instanceof Uv)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof nl)return{bytesValue:Qx(a.serializer,s._byteString)};if(s instanceof An){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ev(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Fv)return function(c,f){return{mapValue:{fields:{[xx]:{stringValue:Rx},[Kf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.gc("VectorValues must only contain numeric values.");return yv(f.serializer,p)})}}}}}}(s,a);throw a.gc(`Unsupported field value: ${Vv(s)}`)}(e,t)}function VR(e,t){const n={};return Tx(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nr(e,(s,a)=>{const l=Dd(a,t.Ac(s));l!=null&&(n[s]=l)}),{mapValue:{fields:n}}}function kR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ce||e instanceof Uv||e instanceof nl||e instanceof An||e instanceof Lv||e instanceof Fv)}function zv(e,t,n){if(!kR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Vv(n);throw s==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+s)}}function uy(e,t,n){if((t=pe(t))instanceof Cd)return t._internalPath;if(typeof t=="string")return Hv(e,t);throw ed("Field path arguments must be of type string or ",e,!1,void 0,n)}const IU=new RegExp("[~\\*/\\[\\]]");function Hv(e,t,n){if(t.search(IU)>=0)throw ed(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Cd(...t.split("."))._internalPath}catch{throw ed(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ed(e,t,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new pt(rt.INVALID_ARGUMENT,f+e+m)}function LR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,n,s,a,l){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(FR("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DU extends UR{data(){return super.data()}}function FR(e,t){return typeof t=="string"?Hv(e,t):t instanceof Cd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new pt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PU{convertValue(t,n="none"){switch(Ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Nr(t,(a,l)=>{s[a]=this.convertValue(l,n)}),s}convertVectorValue(t){var n,s,a;const l=(a=(s=(n=t.fields)===null||n===void 0?void 0:n[Kf].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>be(c.doubleValue));return new Fv(l)}convertGeoPoint(t){return new Uv(be(t.latitude),be(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=gd(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ac(t));default:return null}}convertTimestamp(t){const n=br(t);return new Ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=re.fromString(t);qt(nR(s),9688,{name:t});const a=new oc(s.get(1),s.get(3)),l=new yt(s.popFirst(5));return a.isEqual(n)||Cs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class BR extends UR{constructor(t,n,s,a,l,c){super(t,n,s,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(FR("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Rf extends BR{data(t={}){return super.data(t)}}class OU{constructor(t,n,s,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Vu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Rf(this._firestore,this._userDataWriter,s.key,s,new Vu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Rf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Vu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Rf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Vu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:MU(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(e){e=hi(e,An);const t=hi(e.firestore,Fa);return vU(kv(t),e._key).then(n=>LU(t,e,n))}class zR extends PU{constructor(t){super(),this.firestore=t}convertBytes(t){return new nl(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new An(this.firestore,null,n)}}function qv(e){e=hi(e,Rd);const t=hi(e.firestore,Fa),n=kv(t),s=new zR(t);return NU(e._query),_U(n,e._query).then(a=>new OU(t,s,e,a))}function HR(e,t,n){e=hi(e,An);const s=hi(e.firestore,Fa),a=jR(e.converter,t,n);return Pd(s,[MR(Bv(s),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,ei.none())])}function VU(e,t,n,...s){e=hi(e,An);const a=hi(e.firestore,Fa),l=Bv(a);let c;return c=typeof(t=pe(t))=="string"||t instanceof Cd?CU(l,"updateDoc",e._key,t,n,s):RU(l,"updateDoc",e._key,t),Pd(a,[c.toMutation(e._key,ei.exists(!0))])}function kU(e){return Pd(hi(e.firestore,Fa),[new vv(e._key,ei.none())])}function qR(e,t){const n=hi(e.firestore,Fa),s=Ds(e),a=jR(e.converter,t);return Pd(n,[MR(Bv(e.firestore),"addDoc",s._key,a,e.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function Pd(e,t){return function(s,a){const l=new bs;return s.asyncQueue.enqueueAndForget(async()=>aU(await yU(s),a,l)),l.promise}(kv(e),t)}function LU(e,t,n){const s=n.docs.get(t._key),a=new zR(e);return new BR(e,a,t._key,s,new Vu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){cl=a})(Va),Ca(new Tr("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),f=new Fa(new I6(s.getProvider("auth-internal")),new P6(c,s.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Vi(mb,pb,t),Vi(mb,pb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebasestorage.googleapis.com",KR="storageBucket",UU=2*60*1e3,FU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye extends Gi{constructor(t,n,s=0){super(dg(t),`Firebase Storage: ${n} (${dg(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ye.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return dg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ge;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ge||(ge={}));function dg(e){return"storage/"+e}function Gv(){const e="An unknown error occurred, please check the error payload for server response.";return new ye(ge.UNKNOWN,e)}function jU(e){return new ye(ge.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function BU(e){return new ye(ge.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zU(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ye(ge.UNAUTHENTICATED,e)}function HU(){return new ye(ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qU(e){return new ye(ge.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function GU(){return new ye(ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KU(){return new ye(ge.CANCELED,"User canceled the upload/download.")}function YU(e){return new ye(ge.INVALID_URL,"Invalid URL '"+e+"'.")}function $U(e){return new ye(ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function XU(){return new ye(ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KR+"' property when initializing the app?")}function QU(){return new ye(ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function WU(){return new ye(ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZU(e){return new ye(ge.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cy(e){return new ye(ge.INVALID_ARGUMENT,e)}function YR(){return new ye(ge.APP_DELETED,"The Firebase app was deleted.")}function JU(e){return new ye(ge.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yu(e,t){return new ye(ge.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Cu(e){throw new ye(ge.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=Ln.makeFromUrl(t,n)}catch{return new Ln(t,"")}if(s.path==="")return s;throw $U(t)}static makeFromUrl(t,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(it){it.path.charAt(it.path.length-1)==="/"&&(it.path_=it.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(it){it.path_=decodeURIComponent(it.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),C={bucket:1,path:3},M=n===GR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",B=new RegExp(`^https?://${M}/${a}/${O}`,"i"),q=[{regex:f,indices:m,postModify:l},{regex:A,indices:C,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let it=0;it<q.length;it++){const J=q[it],ct=J.regex.exec(t);if(ct){const V=ct[J.indices.bucket];let R=ct[J.indices.path];R||(R=""),s=new Ln(V,R),J.postModify(s);break}}if(s==null)throw YU(t);return s}}class t5{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(e,t,n){let s=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...O){p||(p=!0,t.apply(null,O))}function _(O){a=setTimeout(()=>{a=null,e(A,m())},O)}function E(){l&&clearTimeout(l)}function A(O,...B){if(p){E();return}if(O){E(),y.call(null,O,...B);return}if(m()||c){E(),y.call(null,O,...B);return}s<64&&(s*=2);let q;f===1?(f=2,q=0):q=(s+Math.random())*1e3,_(q)}let C=!1;function M(O){C||(C=!0,E(),!p&&(a!==null?(O||(f=2),clearTimeout(a),_(0)):O||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,M(!0)},n),M}function n5(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(e){return e!==void 0}function s5(e){return typeof e=="object"&&!Array.isArray(e)}function Kv(e){return typeof e=="string"||e instanceof String}function cw(e){return Yv()&&e instanceof Blob}function Yv(){return typeof Blob<"u"}function hw(e,t,n,s){if(s<t)throw cy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw cy(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${e}`}function $R(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const a=t(s)+"="+t(e[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var xa;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(xa||(xa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(t,n,s,a,l,c,f,m,p,y,_,E=!0,A=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const t=(s,a)=>{if(a){s(!1,new cf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===xa.NO_ERROR,m=l.getStatus();if(!f||r5(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===xa.ABORT;s(!1,new cf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new cf(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());i5(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=Gv();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?YR():KU();c(m)}else{const m=GU();c(m)}};this.canceled_?n(!1,new cf(!1,null,!0)):this.backoffId_=e5(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&n5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cf{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function o5(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function l5(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function u5(e,t){t&&(e["X-Firebase-GMPID"]=t)}function c5(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function h5(e,t,n,s,a,l,c=!0,f=!1){const m=$R(e.urlParams),p=e.url+m,y=Object.assign({},e.headers);return u5(y,t),o5(y,n),l5(y,l),c5(y,s),new a5(p,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function d5(...e){const t=f5();if(t!==void 0){const n=new t;for(let s=0;s<e.length;s++)n.append(e[s]);return n.getBlob()}else{if(Yv())return new Blob(e);throw new ye(ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m5(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(e){if(typeof atob>"u")throw ZU("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class mg{constructor(t,n){this.data=t,this.contentType=n||null}}function g5(e,t){switch(e){case Ni.RAW:return new mg(XR(t));case Ni.BASE64:case Ni.BASE64URL:return new mg(QR(e,t));case Ni.DATA_URL:return new mg(v5(t),_5(t))}throw Gv()}function XR(e){const t=[];for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const l=s,c=e.charCodeAt(++n);s=65536|(l&1023)<<10|c&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function y5(e){let t;try{t=decodeURIComponent(e)}catch{throw Yu(Ni.DATA_URL,"Malformed data URL.")}return XR(t)}function QR(e,t){switch(e){case Ni.BASE64:{const a=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(a||l)throw Yu(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ni.BASE64URL:{const a=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(a||l)throw Yu(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=p5(t)}catch(a){throw a.message.includes("polyfill")?a:Yu(e,"Invalid character found")}const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}class WR{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Yu(Ni.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=T5(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function v5(e){const t=new WR(e);return t.base64?QR(Ni.BASE64,t.rest):y5(t.rest)}function _5(e){return new WR(e).contentType}function T5(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,n){let s=0,a="";cw(t)?(this.data_=t,s=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,n){if(cw(this.data_)){const s=this.data_,a=m5(s,t,n);return a===null?null:new fr(a)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new fr(s,!0)}}static getBlob(...t){if(Yv()){const n=t.map(s=>s instanceof fr?s.data_:s);return new fr(d5.apply(null,n))}else{const n=t.map(c=>Kv(c)?g5(Ni.RAW,c).data:c.data_);let s=0;n.forEach(c=>{s+=c.byteLength});const a=new Uint8Array(s);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new fr(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(e){let t;try{t=JSON.parse(e)}catch{return null}return s5(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function b5(e,t){const n=t.split("/").filter(s=>s.length>0).join("/");return e.length===0?n:e+"/"+n}function JR(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(e,t){return t}class pn{constructor(t,n,s,a){this.server=t,this.local=n||t,this.writable=!!s,this.xform=a||w5}}let hf=null;function A5(e){return!Kv(e)||e.length<2?e:JR(e)}function t2(){if(hf)return hf;const e=[];e.push(new pn("bucket")),e.push(new pn("generation")),e.push(new pn("metageneration")),e.push(new pn("name","fullPath",!0));function t(l,c){return A5(c)}const n=new pn("name");n.xform=t,e.push(n);function s(l,c){return c!==void 0?Number(c):c}const a=new pn("size");return a.xform=s,e.push(a),e.push(new pn("timeCreated")),e.push(new pn("updated")),e.push(new pn("md5Hash",null,!0)),e.push(new pn("cacheControl",null,!0)),e.push(new pn("contentDisposition",null,!0)),e.push(new pn("contentEncoding",null,!0)),e.push(new pn("contentLanguage",null,!0)),e.push(new pn("contentType",null,!0)),e.push(new pn("metadata","customMetadata",!0)),hf=e,hf}function S5(e,t){function n(){const s=e.bucket,a=e.fullPath,l=new Ln(s,a);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:n})}function x5(e,t,n){const s={};s.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];s[c.local]=c.xform(s,t[c.server])}return S5(s,e),s}function e2(e,t,n){const s=ZR(t);return s===null?null:x5(e,s,n)}function R5(e,t,n,s){const a=ZR(t);if(a===null||!Kv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=e.bucket,_=e.fullPath,E="/b/"+c(y)+"/o/"+c(_),A=Od(E,n,s),C=$R({alt:"media",token:p});return A+C})[0]}function C5(e,t){const n={},s=t.length;for(let a=0;a<s;a++){const l=t[a];l.writable&&(n[l.server]=e[l.local])}return JSON.stringify(n)}class $v{constructor(t,n,s,a){this.url=t,this.method=n,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(e){if(!e)throw Gv()}function I5(e,t){function n(s,a){const l=e2(e,a,t);return n2(l!==null),l}return n}function D5(e,t){function n(s,a){const l=e2(e,a,t);return n2(l!==null),R5(l,a,e.host,e._protocol)}return n}function i2(e){function t(n,s){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=HU():a=zU():n.getStatus()===402?a=BU(e.bucket):n.getStatus()===403?a=qU(e.path):a=s,a.status=n.getStatus(),a.serverResponse=s.serverResponse,a}return t}function s2(e){const t=i2(e);function n(s,a){let l=t(s,a);return s.getStatus()===404&&(l=jU(e.path)),l.serverResponse=a.serverResponse,l}return n}function N5(e,t,n){const s=t.fullServerUrl(),a=Od(s,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,f=new $v(a,l,D5(e,n),c);return f.errorHandler=s2(t),f}function P5(e,t){const n=t.fullServerUrl(),s=Od(n,e.host,e._protocol),a="DELETE",l=e.maxOperationRetryTime;function c(m,p){}const f=new $v(s,a,c,l);return f.successCodes=[200,204],f.errorHandler=s2(t),f}function O5(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function M5(e,t,n){const s=Object.assign({},n);return s.fullPath=e.path,s.size=t.size(),s.contentType||(s.contentType=O5(null,t)),s}function V5(e,t,n,s,a){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let q="";for(let it=0;it<2;it++)q=q+Math.random().toString().slice(2);return q}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const p=M5(t,s,a),y=C5(p,n),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+m+"--",A=fr.getBlob(_,s,E);if(A===null)throw QU();const C={name:p.fullPath},M=Od(l,e.host,e._protocol),O="POST",B=e.maxUploadRetryTime,H=new $v(M,O,I5(e,n),B);return H.urlParams=C,H.headers=c,H.body=A.uploadData(),H.errorHandler=i2(t),H}class k5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xa.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xa.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xa.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,a,l){if(this.sent_)throw Cu("cannot .send() more than once");if(Cr(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class L5 extends k5{initXhr(){this.xhr_.responseType="text"}}function Xv(){return new L5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,n){this._service=t,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Oa(t,n)}get root(){const t=new Ln(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JR(this._location.path)}get storage(){return this._service}get parent(){const t=E5(this._location.path);if(t===null)return null;const n=new Ln(this._location.bucket,t);return new Oa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw JU(t)}}function U5(e,t,n){e._throwIfRoot("uploadBytes");const s=V5(e.storage,e._location,t2(),new fr(t,!0),n);return e.storage.makeRequestWithTokens(s,Xv).then(a=>({metadata:a,ref:e}))}function F5(e){e._throwIfRoot("getDownloadURL");const t=N5(e.storage,e._location,t2());return e.storage.makeRequestWithTokens(t,Xv).then(n=>{if(n===null)throw WU();return n})}function j5(e){e._throwIfRoot("deleteObject");const t=P5(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Xv)}function B5(e,t){const n=b5(e._location.path,t),s=new Ln(e._location.bucket,n);return new Oa(e.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(e){return/^[A-Za-z]+:\/\//.test(e)}function H5(e,t){return new Oa(e,t)}function r2(e,t){if(e instanceof Qv){const n=e;if(n._bucket==null)throw XU();const s=new Oa(n,n._bucket);return t!=null?r2(s,t):s}else return t!==void 0?B5(e,t):e}function q5(e,t){if(t&&z5(t)){if(e instanceof Qv)return H5(e,t);throw cy("To use ref(service, url), the first argument must be a Storage instance.")}else return r2(e,t)}function fw(e,t){const n=t==null?void 0:t[KR];return n==null?null:Ln.makeFromBucketSpec(n,e)}function G5(e,t,n,s={}){e.host=`${t}:${n}`;const a=Cr(t);a&&(Qy(`https://${e.host}/b`),Wy("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(e._overrideAuthToken=typeof l=="string"?l:ES(l,e.app.options.projectId))}class Qv{constructor(t,n,s,a,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=GR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UU,this._maxUploadRetryTime=FU,this._requests=new Set,a!=null?this._bucket=Ln.makeFromBucketSpec(a,this._host):this._bucket=fw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,t):this._bucket=fw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){hw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){hw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Oa(this,t)}_makeRequest(t,n,s,a,l=!0){if(this._deleted)return new t5(YR());{const c=h5(t,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,a).getPromise()}}const dw="@firebase/storage",mw="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="storage";function pw(e,t,n){return e=pe(e),U5(e,t,n)}function hy(e){return e=pe(e),F5(e)}function K5(e){return e=pe(e),j5(e)}function Cf(e,t){return e=pe(e),q5(e,t)}function Y5(e=tv(),t){e=pe(e);const s=cd(e,a2).getImmediate({identifier:t}),a=vS("storage");return a&&$5(s,...a),s}function $5(e,t,n,s={}){G5(e,t,n,s)}function X5(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Qv(n,s,a,t,Va)}function Q5(){Ca(new Tr(a2,X5,"PUBLIC").setMultipleInstances(!0)),Vi(dw,mw,""),Vi(dw,mw,"esm2017")}Q5();const W5={apiKey:"AIzaSyDapPb3KBmCN0Yl8pNd1MWccCpyYDbgrpE",authDomain:"pawthway-fb57d.firebaseapp.com",projectId:"pawthway-fb57d",storageBucket:"pawthway-fb57d.firebasestorage.app",messagingSenderId:"75676576591",appId:"1:75676576591:web:3b0f958cb738974244b33a"},Wv=AS(W5),Un=bU(Wv),If=Y5(Wv),ln=S6(Wv);function o2(){const[e,t]=U.useState(!1),[n,s]=U.useState(null),[a,l]=U.useState(!1),c=rl();U.useEffect(()=>{const m=WS(ln,async p=>{if(s(p),p){const y=Ds(Un,"users",p.uid),_=await Nd(y);if(_.exists()){const E=_.data().role;l(E==="admin")}}else l(!1)});return()=>m()},[]);const f=async()=>{await ZS(ln),c("/login")};return x.jsxs(We.header,{initial:{y:-80,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"fixed z-20 w-full bg-black px-6 sm:px-10 py-4 sm:py-5 shadow-lg",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx(gn,{to:"/",className:"text-[#FF7F11] font-extrabold text-2xl sm:text-3xl",children:"PAWTHWAY"}),x.jsx("button",{className:"sm:hidden text-[#FF7F11] focus:outline-none",onClick:()=>t(!e),children:e?x.jsx(DM,{size:28}):x.jsx(TM,{size:28})}),x.jsxs("nav",{className:"hidden sm:flex space-x-6 items-center",children:[x.jsx(gn,{to:"/Adopt",className:"text-[#FF7F11] font-semibold text-lg hover:underline transition transform hover:scale-110",children:"Adopt"}),x.jsx(gn,{to:"/About",className:"text-[#FF7F11] font-semibold text-lg hover:underline transition transform hover:scale-110",children:"About"}),x.jsx(gn,{to:"/Contact",className:"text-[#FF7F11] font-semibold text-lg hover:underline transition transform hover:scale-110",children:"Contact"}),n&&a&&x.jsx(gn,{to:"/admin-dashboard",className:"text-[#FF7F11] font-semibold text-lg hover:underline transition transform hover:scale-110",children:"Dashboard"}),n?x.jsx("button",{onClick:f,className:"ml-4 px-4 py-2 bg-[#FF1B1C] text-white text-base font-semibold rounded-full hover:bg-[#e60000] transition transform hover:scale-105 cursor-pointer",children:"Logout"}):x.jsx(gn,{to:"/Login",className:"ml-4 px-4 py-2 bg-[#FF7F11] text-black font-semibold rounded-full hover:bg-[#FF1B1C] hover:text-white transition transform hover:scale-105",children:"Sign In"})]})]}),e&&x.jsxs("nav",{className:"sm:hidden mt-4 flex flex-col space-y-4 text-center",children:[x.jsx(gn,{to:"/Adopt",onClick:()=>t(!1),className:"text-[#FF7F11] font-semibold text-lg hover:underline",children:"Adopt"}),x.jsx(gn,{to:"/About",onClick:()=>t(!1),className:"text-[#FF7F11] font-semibold text-lg hover:underline",children:"About"}),x.jsx(gn,{to:"/Contact",onClick:()=>t(!1),className:"text-[#FF7F11] font-semibold text-lg hover:underline",children:"Contact"}),n&&a&&x.jsx(gn,{to:"/admin-dashboard",onClick:()=>t(!1),className:"text-[#FF7F11] font-semibold text-lg hover:underline",children:"Dashboard"}),n?x.jsx("button",{onClick:()=>{f(),t(!1)},className:"inline-block mx-auto px-4 py-2 bg-[#FF1B1C] text-white font-semibold rounded-full hover:bg-[#e60000] transition cursor-pointer",children:"Logout"}):x.jsx(gn,{to:"/Login",onClick:()=>t(!1),className:"inline-block mx-auto px-4 py-2 bg-[#FF7F11] text-black font-semibold rounded-full hover:bg-[#FF1B1C] hover:text-white transition",children:"Sign In"})]})]})}var l2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gw=wa.createContext&&wa.createContext(l2),Z5=["attr","size","title"];function J5(e,t){if(e==null)return{};var n=tF(e,t),s,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)s=l[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function tF(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},nd.apply(this,arguments)}function yw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(n),!0).forEach(function(s){eF(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yw(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function eF(e,t,n){return t=nF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nF(e){var t=iF(e,"string");return typeof t=="symbol"?t:t+""}function iF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u2(e){return e&&e.map((t,n)=>wa.createElement(t.tag,id({key:n},t.attr),u2(t.child)))}function Md(e){return t=>wa.createElement(sF,nd({attr:id({},e.attr)},t),u2(e.child))}function sF(e){var t=n=>{var{attr:s,size:a,title:l}=e,c=J5(e,Z5),f=a||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),wa.createElement("svg",nd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:m,style:id(id({color:e.color||n.color},n.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&wa.createElement("title",null,l),e.children)};return gw!==void 0?wa.createElement(gw.Consumer,null,n=>t(n)):t(l2)}function rF(e){return Md({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function aF(e){return Md({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function oF(e){return Md({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function lF(e){return Md({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function ml(){return x.jsxs(We.footer,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-[#000000] text-[#FFFFFC] py-10 px-6 md:px-16 mt-auto",children:[x.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-10",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl font-bold text-[#FF7F11] mb-4",children:"Pawthway "}),x.jsx("p",{className:"text-[#BEB7A4]",children:"Connecting loving homes with pets in need. Adopt, foster, or support  every paw matters."})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-[#FF1B1C] mb-4",children:"Quick Links"}),x.jsxs("ul",{className:"space-y-2 text-[#FFFFFC]",children:[x.jsx("li",{children:x.jsx("a",{href:"/pages/Adopt",className:"hover:text-[#FF7F11] transition",children:"Adopt"})}),x.jsx("li",{children:x.jsx("a",{href:"#about",className:"hover:text-[#FF7F11] transition",children:"About Us"})}),x.jsx("li",{children:x.jsx("a",{href:"#contact",className:"hover:text-[#FF7F11] transition",children:"Contact"})}),x.jsx("li",{children:x.jsx("a",{href:"#faq",className:"hover:text-[#FF7F11] transition",children:"FAQ"})})]})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-[#FF1B1C] mb-4",children:"Stay Connected"}),x.jsxs("div",{className:"flex space-x-4 mb-4",children:[x.jsx("a",{href:"#",className:"text-[#FFFFFC] hover:text-[#FF7F11]",children:x.jsx(rF,{})}),x.jsx("a",{href:"#",className:"text-[#FFFFFC] hover:text-[#FF7F11]",children:x.jsx(aF,{})}),x.jsx("a",{href:"#",className:"text-[#FFFFFC] hover:text-[#FF7F11]",children:x.jsx(oF,{})}),x.jsx("a",{href:"#",className:"text-[#FFFFFC] hover:text-[#FF7F11]",children:x.jsx(lF,{})})]}),x.jsx("p",{className:"text-[#BEB7A4] text-sm",children:"Email: pawthwaysupport@gmail.com"})]})]}),x.jsxs("div",{className:"mt-10 text-center text-sm text-[#BEB7A4] border-t border-[#BEB7A4] pt-4",children:[" ",new Date().getFullYear()," PawPal. All rights reserved."]})]})}const uF=[{name:"Buddy",type:"Dog",age:"2 years",image:"https://placedog.net/400/300?id=1"},{name:"Whiskers",type:"Cat",age:"1 year",image:"https://placekitten.com/400/300"},{name:"Coco",type:"Rabbit",age:"6 months",image:"https://placebear.com/400/300"}];function cF(){return x.jsxs("div",{className:"min-h-screen bg-[#FFFFFC] text-[#000000] font-sans flex flex-col scroll-smooth",children:[x.jsxs(We.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"flex flex-col items-center justify-center px-4 md:px-8 pb-10 pt-10",children:[x.jsx("div",{className:"relative w-full h-[60vh] sm:h-[70vh] md:h-[80vh] bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1450778869180-41d0601e046e?q=80&w=1972&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"},children:x.jsxs(We.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 bg-[#FFFFFC] p-6 sm:p-8 md:p-12 rounded-xl shadow-2xl text-center max-w-xl md:max-w-2xl",children:[x.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-[#FF1B1C] mb-4",children:"Open Your Heart to a New Friend"}),x.jsx("p",{className:"text-[#BEB7A4] text-base sm:text-lg mb-6",children:"Give a shelter animal a second chance at life. Be a part of their story."}),x.jsx(gn,{to:"/Adopt",className:"inline-block bg-[#FF7F11] text-[#FFFFFC] px-6 py-3 rounded-full font-bold text-base sm:text-lg hover:bg-[#e56e0e] transition duration-300",children:"Explore Adoptions"})]})}),x.jsxs("div",{className:"w-full max-w-3xl text-center mt-10",children:[x.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#FF1B1C] mb-4",children:"Find Your New Best Friend"}),x.jsx("p",{className:"text-[#BEB7A4] text-base sm:text-lg mb-8",children:"Search from thousands of adoptable pets in your area."}),x.jsx(We.input,{whileFocus:{scale:1.03},type:"text",placeholder:"Search by breed, location...",className:"w-full px-4 py-3 sm:px-6 sm:py-4 rounded-full border-2 border-[#FF7F11] text-black focus:outline-none focus:ring-4 focus:ring-[#FF7F11]"})]})]}),x.jsx(We.section,{id:"adopt",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},className:"w-full bg-[#BEB7A4] px-4 sm:px-6 md:px-20 py-14",children:x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsx("h3",{className:"text-2xl font-semibold text-black mb-10 text-center",children:"Featured Pets"}),x.jsx("div",{className:"flex flex-wrap justify-center gap-6 sm:gap-10",children:uF.map((e,t)=>x.jsxs(We.div,{whileHover:{scale:1.05},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:t*.2},viewport:{once:!0},className:"bg-[#FFFFFC] rounded-lg shadow-md w-full sm:w-64 md:w-72 overflow-hidden",children:[x.jsx("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover"}),x.jsxs("div",{className:"p-4",children:[x.jsx("h4",{className:"text-[#FF1B1C] font-bold text-xl mb-1",children:e.name}),x.jsxs("p",{className:"text-black mb-4",children:[e.type,"  ",e.age]}),x.jsx("button",{className:"w-full bg-[#FF7F11] text-white py-2 rounded-full font-semibold hover:bg-[#e56e0e] transition",children:"Adopt Me"})]})]},t))})]})}),x.jsxs(We.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"bg-beige py-16 relative overflow-hidden px-4",children:[x.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 sm:w-32 sm:h-32 bg-orange rounded-full opacity-20 transform -translate-x-1/2 -translate-y-1/2"}),x.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 sm:w-48 sm:h-48 bg-red rounded-full opacity-15 transform translate-x-1/3 translate-y-1/3"}),x.jsx("div",{className:"absolute top-1/4 right-1/4 w-10 h-10 sm:w-16 sm:h-16 bg-off-white rounded-md rotate-45 opacity-10"}),x.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-16 h-16 sm:w-24 sm:h-24 bg-black rounded-full opacity-5"}),x.jsxs("div",{className:"max-w-4xl mx-auto text-center relative",children:[x.jsxs("div",{className:"inline-flex items-center justify-center bg-off-white rounded-full shadow-md p-6 sm:p-8 mb-8",children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#FF7F11",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#FF7F11",className:"w-8 h-8 sm:w-10 sm:h-10 mr-4",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.413 5.34c-1.397-1.125-3.328-1.574-5.322-1.246C3.993 4.417 2.457 6.136 2.054 8.012c-.295 1.341-.01 2.946.887 4.197l2.873 4.103c.524.747 1.053 1.488 1.58 2.228.303.435.617.87.935 1.302.26.357.53.71.815 1.058.423.518.874.98 1.346 1.428.188.17.377.34.567.51a.75.75 0 001.06 0c.19-.17.379-.34.567-.51.472-.448.923-.91 1.346-1.428.285-.348.555-.701.815-1.058.318-.432.632-.867.935-1.302.527-.74 1.056-1.481 1.58-2.228l2.873-4.103c.897-1.251 1.182-2.856.887-4.197-.403-1.876-1.939-3.595-3.937-4.156-1.994-.328-3.925.121-5.322 1.246a3.793 3.793 0 00-2.316-1.895z"})}),x.jsxs("div",{className:"text-left",children:[x.jsx("h2",{className:"text-xl font-semibold text-orange",children:"Adopt Love"}),x.jsx("p",{className:"text-sm text-beige-dark",children:"Find your new best friend!"})]})]}),x.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-black mb-6",children:"Give a Fur-ever Home Today!"}),x.jsx("p",{className:"text-base sm:text-lg text-beige-dark mb-8 max-w-xl mx-auto",children:"Every pet deserves a loving family. Explore our wonderful animals waiting for their chance at happiness and make a difference in a life."}),x.jsx("button",{className:"bg-red text-off-white font-bold py-2 sm:py-3 px-6 sm:px-8 rounded-md hover:bg-orange transition-colors duration-300",children:"Browse Adoptable Pets"}),x.jsx("p",{className:"mt-10 text-lg sm:text-xl font-semibold text-orange",children:"#AdoptDontShop"})]})]}),x.jsx("div",{children:x.jsx(ml,{})})]})}const hF=({cityFilter:e})=>{const[t,n]=U.useState([]),[s,a]=U.useState(null),l=rl();U.useEffect(()=>{const m=async()=>{const y=hc(Un,"pets"),_=await qv(y),E=await Promise.all(_.docs.map(async A=>{const C=A.data(),M=await Promise.all((C.imageUrls||[]).map(async O=>{try{const B=Cf(If,O);return await hy(B)}catch{return null}}));return{id:A.id,...C,imageUrls:M.filter(Boolean)}}));n(E)},p=ln.onAuthStateChanged(y=>{a(y)});return m(),()=>p()},[]);const c=m=>{l(`/pet/${m}`)},f=e?t.filter(m=>{var p;return((p=m.city)==null?void 0:p.toLowerCase())===e.toLowerCase()}):t;return x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 p-6 bg-[#FFFFFC]",children:f.map(m=>{var p;return x.jsxs("div",{className:"max-w-xs w-full h-[23rem] bg-white border border-[#BEB7A4] rounded-xl shadow hover:shadow-lg transition duration-300 flex flex-col",children:[x.jsx("div",{className:"w-full h-48 bg-[#F1F1F1]",children:x.jsx("img",{src:((p=m.imageUrls)==null?void 0:p[0])||"https://via.placeholder.com/150",alt:m.name,className:"object-cover w-full h-full rounded-t-xl"})}),x.jsxs("div",{className:"px-4 py-3 flex-1",children:[x.jsx("h3",{className:"text-[#000000] text-lg font-bold truncate",children:m.name}),x.jsxs("p",{className:"text-[#000000] text-sm",children:["Breed: ",m.breed||"Unknown"]}),x.jsxs("p",{className:"text-[#000000] text-sm",children:[" ",m.city||"Unknown City"]})]}),x.jsx("div",{className:"px-4 pb-4",children:x.jsx("button",{onClick:()=>c(m.id),className:"w-full px-4 py-2 rounded bg-[#FF7F11] hover:bg-[#FF1B1C] text-white font-semibold transition-all duration-200 cursor-pointer",children:"Adopt"})})]},m.id)})})},fF=({pets:e,onFilterChange:t})=>{const[n,s]=U.useState(""),[a,l]=U.useState(""),[c,f]=U.useState(""),[m,p]=U.useState([]);return U.useEffect(()=>{t({city:n,type:a,breed:c})},[n,a,c]),U.useEffect(()=>{const y=e.filter(E=>a?E.type===a:!0).map(E=>E.breed),_=[...new Set(y)];p(_)},[a,e]),x.jsxs("div",{className:"flex flex-wrap gap-4 justify-center items-center bg-[#FFFFFC] px-4 py-4 mb-6 rounded-xl shadow border border-[#BEB7A4] max-w-4xl mx-auto",children:[x.jsxs("select",{value:n,onChange:y=>s(y.target.value),className:"px-4 py-2 text-[#000000] bg-white border border-[#BEB7A4] rounded-md shadow-sm focus:ring-2 focus:ring-[#FF7F11] focus:outline-none",children:[x.jsx("option",{value:"",children:"All Cities"}),[...new Set(e.map(y=>y.location))].map(y=>x.jsx("option",{value:y,children:y},y))]}),x.jsxs("select",{value:a,onChange:y=>{l(y.target.value),f("")},className:"px-4 py-2 text-[#000000] bg-white border border-[#BEB7A4] rounded-md shadow-sm focus:ring-2 focus:ring-[#FF7F11] focus:outline-none",children:[x.jsx("option",{value:"",children:"All Types"}),[...new Set(e.map(y=>y.type))].map(y=>x.jsx("option",{value:y,children:y},y))]}),x.jsxs("select",{value:c,onChange:y=>f(y.target.value),className:"px-4 py-2 text-[#000000] bg-white border border-[#BEB7A4] rounded-md shadow-sm focus:ring-2 focus:ring-[#FF7F11] focus:outline-none",children:[x.jsx("option",{value:"",children:"All Breeds"}),m.map(y=>x.jsx("option",{value:y,children:y},y))]})]})};function dF(){const[e,t]=U.useState([]),[n,s]=U.useState({});U.useEffect(()=>{(async()=>{const f=(await qv(hc(Un,"pets"))).docs.map(m=>({id:m.id,...m.data()}));t(f)})()},[]);const a=e.filter(l=>(!n.city||l.location===n.city)&&(!n.type||l.type===n.type)&&(!n.breed||l.breed===n.breed));return x.jsxs("div",{children:[x.jsxs("div",{className:"min-h-screen bg-gray-50 py-30 px-6",children:[x.jsx("h1",{className:"text-3xl font-bold text-center mb-6 text-[#FF7F11]",children:"Available Pets"}),x.jsx(fF,{pets:e,onFilterChange:s}),x.jsx(hF,{pets:a})]}),x.jsx(ml,{})]})}function mF(){return x.jsxs("div",{children:[x.jsx("div",{}),x.jsx("div",{className:"min-h-screen bg-[#FFFFFC] text-[#000000] px-6 py-30",children:x.jsxs("div",{className:"max-w-5xl mx-auto",children:[x.jsx(We.h1,{className:"text-5xl font-extrabold mb-8 border-b-4 border-[#FF7F11] inline-block",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8},children:"About Us"}),x.jsx(We.p,{className:"text-lg leading-relaxed mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},children:"Welcome to our Pet Adoption Platform!  We connect animals with loving families and help shelters manage pets in a smarter, simpler way."}),x.jsxs(We.div,{className:"grid md:grid-cols-2 gap-8 mt-10",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},children:[x.jsxs(We.div,{whileHover:{scale:1.05},className:"bg-[#FF7F11] p-6 rounded-xl shadow-lg text-white transition duration-300 cursor-pointer",children:[x.jsx("h2",{className:"text-2xl font-semibold mb-2",children:" For Adopters"}),x.jsx("p",{children:"Discover pets looking for a new home, learn their stories, and apply for adoptionall in one place."})]}),x.jsxs(We.div,{whileHover:{scale:1.05},className:"bg-[#FF1B1C] p-6 rounded-xl shadow-lg text-white transition duration-300 cursor-pointer",children:[x.jsx("h2",{className:"text-2xl font-semibold mb-2",children:" For Shelters"}),x.jsx("p",{children:"Create listings, update pet info, and manage applications through an easy-to-use dashboard."})]})]}),x.jsxs(We.div,{className:"bg-[#BEB7A4] p-6 mt-12 rounded-xl shadow-lg",initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{delay:.4,duration:.7},viewport:{once:!0},children:[x.jsx("h2",{className:"text-3xl font-bold text-[#000000] mb-4",children:"Why Choose Us?"}),x.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-lg",children:[x.jsx("li",{children:"Fast and responsive platform"}),x.jsx("li",{children:"Built with love for pets and shelters"}),x.jsx("li",{children:"Modern UI and real-time updates"})]})]})]})}),x.jsx("div",{children:x.jsx(ml,{})})]})}function pF(){const[e,t]=U.useState({name:"",email:"",phone:"",subject:"",message:""}),[n,s]=U.useState(""),[a,l]=U.useState(""),c=m=>{t({...e,[m.target.name]:m.target.value})},f=async m=>{m.preventDefault();try{await qR(hc(Un,"contacts"),{...e,createdAt:Ce.now()}),s("Message sent successfully!"),t({name:"",email:"",phone:"",subject:"",message:""}),setTimeout(()=>s(""),4e3)}catch(p){l("Failed to send message. Try again."),console.error("Error adding contact: ",p),setTimeout(()=>l(""),4e3)}};return x.jsxs("div",{className:"bg-[#FFFFFC] min-h-screen flex flex-col justify-between",children:[x.jsx(o2,{}),x.jsxs(We.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col items-center text-center px-6 pt-30",children:[x.jsx("h1",{className:"text-4xl font-bold text-[#000000] mb-2",children:"Contact Us"}),x.jsx("p",{className:"text-[#BEB7A4] max-w-xl",children:"We'd love to hear from you! Whether you're looking to adopt or have a question, drop us a message."}),x.jsx(We.form,{onSubmit:f,whileHover:{scale:1.01},className:"bg-white shadow-lg rounded-2xl p-8 mt-8 w-full max-w-xl border border-[#BEB7A4]",children:x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsx("input",{name:"name",value:e.name,onChange:c,type:"text",placeholder:"Your Name",className:"p-3 border border-[#BEB7A4] rounded-lg placeholder-[#BEB7A4] text-[#000000] focus:ring-2 focus:ring-[#FF7F11]",required:!0}),x.jsx("input",{name:"email",value:e.email,onChange:c,type:"email",placeholder:"Your Email",className:"p-3 border border-[#BEB7A4] rounded-lg placeholder-[#BEB7A4] text-[#000000] focus:ring-2 focus:ring-[#FF7F11]",required:!0}),x.jsx("input",{name:"phone",value:e.phone,onChange:c,type:"tel",placeholder:"+91 9876543210",pattern:"^\\+?[0-9\\s\\-]{10,15}$",title:"Enter a valid phone number starting with + and country code",className:"p-3 border border-[#BEB7A4] rounded-lg placeholder-[#BEB7A4] text-[#000000] focus:ring-2 focus:ring-[#FF7F11]",required:!0}),x.jsxs("select",{name:"subject",value:e.subject,onChange:c,className:"p-3 border border-[#BEB7A4] rounded-lg text-[#000000] focus:ring-2 focus:ring-[#FF7F11]",required:!0,children:[x.jsx("option",{value:"",children:"Choose Subject"}),x.jsx("option",{children:"Adoption Inquiry"}),x.jsx("option",{children:"Shelter Partnership"}),x.jsx("option",{children:"Feedback"}),x.jsx("option",{children:"Other"})]}),x.jsx("textarea",{name:"message",value:e.message,onChange:c,rows:"4",placeholder:"Your Message",className:"p-3 border border-[#BEB7A4] rounded-lg placeholder-[#BEB7A4] text-[#000000] focus:ring-2 focus:ring-[#FF7F11]",required:!0}),x.jsx(We.button,{whileHover:{scale:1.05},whileTap:{scale:.98},type:"submit",className:"bg-[#FF7F11] text-white font-bold py-3 rounded-lg hover:bg-[#FF1B1C] transition-all duration-200 cursor-pointer",children:"Send Message"}),n&&x.jsx("p",{className:"text-green-600 mt-2",children:n}),a&&x.jsx("p",{className:"text-red-600 mt-2",children:a})]})}),x.jsxs("div",{className:"mt-10 mb-10 text-[#000000]",children:[x.jsx("p",{className:"mb-2",children:"Are you a shelter or NGO?"}),x.jsx(gn,{to:"/register-shelter",className:"text-[#FF1B1C] hover:underline hover:text-[#FF7F11] transition-colors",children:"Register your shelter with us"})]})]}),x.jsx(ml,{})]})}function gF(){const[e,t]=U.useState(""),[n,s]=U.useState(""),[a,l]=U.useState(!1),[c,f]=U.useState(""),[m,p]=U.useState(!1),y=rl(),_=async E=>{E.preventDefault(),l(!0),f("");try{if(!e||!n)throw new Error("Please enter both email and password.");if(!e.includes("@")||!e.includes("."))throw new Error("Please enter a valid email address.");if(n.length<6)throw new Error("Password must be at least 6 characters long.");let A;try{A=await f3(ln,e,n),console.log("Login successful!")}catch(M){if(M.code==="auth/user-not-found"||M.code==="auth/wrong-password"||M.code==="auth/invalid-credential"){console.log("Login failed or user not found. Attempting to register...");try{A=await h3(ln,e,n),console.log("User registered successfully!"),await HR(Ds(Un,"users",A.user.uid),{email:A.user.email,role:"user"}),console.log("New user data saved to Firestore.")}catch(O){O.code==="auth/email-already-in-use"?f("This email is already registered. Please try logging in with the correct password."):O.code==="auth/weak-password"?f("Password is too weak. Please choose a stronger password (at least 6 characters)."):f(O.message||"An error occurred during registration."),console.error("Signup Error:",O),l(!1);return}}else{f(M.message||"An unexpected error occurred during login."),console.error("Login Error:",M),l(!1);return}}t(""),s("");const C=A.user;if(C){const M=Ds(Un,"users",C.uid),O=await Nd(M);O.exists()&&O.data().role==="admin"?y("/admin-dashboard"):y("/adopt")}else f("Authentication successful, but user object is missing."),console.error("User object is null after authentication.")}catch(A){console.error("Overall Authentication Error:",A.message),f(A.message||"An unexpected error occurred. Please try again.")}finally{l(!1)}};return x.jsxs("div",{children:[" ",x.jsx("div",{className:"min-h-screen bg-[#FFFFFC] flex items-center justify-center px-4",children:x.jsxs("div",{className:"flex flex-col md:flex-row w-full max-w-5xl bg-white shadow-xl rounded-xl overflow-hidden",children:[x.jsx("div",{className:"hidden md:block md:w-1/2 bg-cover bg-center",style:{backgroundImage:'url("https://images.unsplash.com/photo-1558788353-f76d92427f16")'}}),x.jsx("div",{className:"w-full md:w-1/2 bg-[#FFFFFC] text-[#000000] flex items-center justify-center overflow-y-auto",children:x.jsxs("div",{className:"w-full p-6 sm:p-10 flex flex-col justify-center min-h-full",children:[x.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-[#FF7F11]",children:"Welcome Back "}),c&&x.jsx("div",{className:"bg-[#FF1B1C] text-[#FFFFFC] text-sm p-3 rounded mb-4 text-center",children:c}),x.jsxs("form",{onSubmit:_,className:"space-y-6 w-full",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),x.jsx("input",{type:"email",required:!0,value:e,onChange:E=>t(E.target.value),className:"w-full p-3 border border-[#BEB7A4] rounded bg-[#FFFFFC] text-[#000000] focus:outline-none focus:ring-1 focus:ring-[#FF7F11]",placeholder:"you@example.com",disabled:a})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:m?"text":"password",required:!0,value:n,onChange:E=>s(E.target.value),className:"w-full p-3 border border-[#BEB7A4] rounded bg-[#FFFFFC] text-[#000000] focus:outline-none focus:ring-1 focus:ring-[#FF7F11] pr-12",placeholder:"Your secure password",disabled:a}),x.jsx("button",{type:"button",onClick:()=>p(E=>!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-[#FF7F11] hover:text-[#FF1B1C] font-semibold disabled:opacity-50",disabled:a,children:m?"Hide":"Show"})]})]}),x.jsx("button",{type:"submit",disabled:a,className:"w-full bg-[#FF7F11] hover:bg-[#FF1B1C] text-white py-3 font-semibold rounded transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:a?"Processing...":"Login / Register"}),x.jsxs("p",{className:"text-center text-sm text-[#000000]",children:["Dont have an account?"," ",x.jsx("span",{className:"text-[#FF1B1C] font-semibold",children:"Sign up happens automatically"})]})]})]})})]})}),x.jsx(ml,{})]})}const yF=()=>{var s;const{id:e}=bI(),[t,n]=U.useState(null);return U.useEffect(()=>{(async()=>{const l=Ds(Un,"pets",e),c=await Nd(l);c.exists()&&n(c.data())})()},[e]),t?x.jsxs("div",{children:[x.jsx("div",{className:"p-30 bg-[#FFFFFC] text-[#000000]",children:x.jsxs("div",{className:"w-[100%] mx-auto bg-white rounded-lg shadow-md border border-[#BEB7A4] p-6",children:[x.jsx("img",{src:(s=t.imageUrls)==null?void 0:s[0],alt:t.name,className:"w-full h-64 object-cover rounded-lg mb-4"}),x.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),x.jsxs("p",{className:"text-lg mb-1",children:[x.jsx("strong",{children:"Breed:"})," ",t.breed]}),x.jsxs("p",{className:"text-lg mb-1",children:[x.jsx("strong",{children:"Age:"})," ",t.age]}),x.jsx("p",{className:"text-md text-gray-700 mb-4",children:t.description}),x.jsx("button",{className:"bg-[#FF7F11] hover:bg-[#FF1B1C] text-white px-6 py-2 rounded-md text-sm font-semibold transition cursor-pointer",children:"Adopt Now"})]})}),x.jsx("div",{children:x.jsx(ml,{})})]}):x.jsx("p",{className:"p-4 text-[#000000]",children:"Loading..."})};function c2(){const[e,t]=U.useState(""),[n,s]=U.useState(""),[a,l]=U.useState(""),[c,f]=U.useState(""),[m,p]=U.useState(""),[y,_]=U.useState(""),[E,A]=U.useState(!0),[C,M]=U.useState(!0),O=rl();U.useEffect(()=>{(async()=>{if(!ln.currentUser){O("/login");return}M(!0);try{const q=Ds(Un,"shelters",ln.currentUser.uid),it=await Nd(q);if(it.exists()){const J=it.data();t(J.shelterName||""),s(J.location||""),l(J.contactEmail||""),f(J.contactPhone||""),p(J.website||""),_(J.description||""),A(!1)}else A(!0)}catch(q){console.error("Error fetching shelter info:",q),alert("Failed to load shelter information.")}finally{M(!1)}})()},[ln.currentUser,O]);const B=async H=>{if(H.preventDefault(),!ln.currentUser){alert("You must be logged in to save shelter information."),O("/login");return}try{const q=Ds(Un,"shelters",ln.currentUser.uid),it={shelterName:e,location:n,contactEmail:a,contactPhone:c,website:m,description:y,lastUpdated:new Date,ownerUid:ln.currentUser.uid};await HR(q,it,{merge:!0}),alert("Shelter information saved successfully!"),A(!1)}catch(q){console.error("Error saving shelter info:",q),alert("Error saving shelter information: "+q.message)}};return C?x.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-64px)] text-lg text-gray-700",children:"Loading shelter information..."}):x.jsx("div",{className:"min-h-[calc(100vh-64px)] bg-[#FFFFFC] flex items-center justify-center py-8 px-4 sm:px-6 lg:px-8 overflow-hidden",children:x.jsxs("div",{className:"max-w-5xl w-full bg-white p-8 sm:p-10 md:p-12 rounded-xl shadow-2xl space-y-8 border border-gray-100",children:[x.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-[#FF7F11] text-center mb-8",children:E?"Add Your Shelter Information":"Edit Shelter Information"}),x.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[x.jsxs("div",{className:"md:col-span-1",children:[" ",x.jsxs("label",{htmlFor:"shelterName",className:"block text-lg font-semibold text-gray-800 mb-2",children:["Shelter Name ",x.jsx("span",{className:"text-[#FF1B1C]",children:"*"})]}),x.jsx("input",{type:"text",id:"shelterName",value:e,onChange:H=>t(H.target.value),placeholder:"Enter your shelter's name",className:"w-full p-3 border border-[#BEB7A4] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black placeholder-gray-500 transition duration-200",required:!0})]}),x.jsxs("div",{className:"md:col-span-1",children:[x.jsxs("label",{htmlFor:"location",className:"block text-lg font-semibold text-gray-800 mb-2",children:["Location (City, State/Province, Country) ",x.jsx("span",{className:"text-[#FF1B1C]",children:"*"})]}),x.jsx("input",{type:"text",id:"location",value:n,onChange:H=>s(H.target.value),placeholder:"e.g., Nagpur, Maharashtra, India",className:"w-full p-3 border border-[#BEB7A4] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black placeholder-gray-500 transition duration-200",required:!0})]}),x.jsxs("div",{className:"md:col-span-1",children:[x.jsxs("label",{htmlFor:"contactEmail",className:"block text-lg font-semibold text-gray-800 mb-2",children:["Contact Email ",x.jsx("span",{className:"text-[#FF1B1C]",children:"*"})]}),x.jsx("input",{type:"email",id:"contactEmail",value:a,onChange:H=>l(H.target.value),placeholder:"shelter@example.com",className:"w-full p-3 border border-[#BEB7A4] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black placeholder-gray-500 transition duration-200",required:!0})]}),x.jsxs("div",{className:"md:col-span-1",children:[x.jsx("label",{htmlFor:"contactPhone",className:"block text-lg font-semibold text-gray-800 mb-2",children:"Contact Phone Number"}),x.jsx("input",{type:"tel",id:"contactPhone",value:c,onChange:H=>f(H.target.value),placeholder:"+91 1234567890",className:"w-full p-3 border border-[#BEB7A4] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black placeholder-gray-500 transition duration-200"})]}),x.jsxs("div",{className:"md:col-span-2",children:[" ",x.jsx("label",{htmlFor:"website",className:"block text-lg font-semibold text-gray-800 mb-2",children:"Website URL"}),x.jsx("input",{type:"url",id:"website",value:m,onChange:H=>p(H.target.value),placeholder:"https://www.yourshelter.org",className:"w-full p-3 border border-[#BEB7A4] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black placeholder-gray-500 transition duration-200"})]}),x.jsxs("div",{className:"md:col-span-2",children:[" ",x.jsxs("label",{htmlFor:"description",className:"block text-lg font-semibold text-gray-800 mb-2",children:["Shelter Description ",x.jsx("span",{className:"text-[#FF1B1C]",children:"*"})]}),x.jsx("textarea",{id:"description",rows:"6",value:y,onChange:H=>_(H.target.value),placeholder:"Tell us about your shelter's mission, values, and what makes it special. (e.g., number of animals housed, specific rescue efforts, community involvement).",className:"w-full p-3 border border-[#BEB7A4] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black placeholder-gray-500 transition duration-200 resize-y",required:!0})]}),x.jsx("button",{type:"submit",className:"md:col-span-2 w-full bg-[#FF7F11] hover:bg-[#FF1B1C] text-white px-6 py-3 rounded-lg shadow-lg hover:shadow-xl transition duration-300 font-bold text-lg transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#FF7F11] focus:ring-offset-2 cursor-pointer",children:E?"Save Shelter Information":"Update Shelter Information"})]})]})})}const $e=[];for(let e=0;e<256;++e)$e.push((e+256).toString(16).slice(1));function vF(e,t=0){return($e[e[t+0]]+$e[e[t+1]]+$e[e[t+2]]+$e[e[t+3]]+"-"+$e[e[t+4]]+$e[e[t+5]]+"-"+$e[e[t+6]]+$e[e[t+7]]+"-"+$e[e[t+8]]+$e[e[t+9]]+"-"+$e[e[t+10]]+$e[e[t+11]]+$e[e[t+12]]+$e[e[t+13]]+$e[e[t+14]]+$e[e[t+15]]).toLowerCase()}let pg;const _F=new Uint8Array(16);function TF(){if(!pg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pg=crypto.getRandomValues.bind(crypto)}return pg(_F)}const EF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vw={randomUUID:EF};function _w(e,t,n){var a;if(vw.randomUUID&&!e)return vw.randomUUID();e=e||{};const s=e.random??((a=e.rng)==null?void 0:a.call(e))??TF();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,vF(s)}function bF(){const[e,t]=U.useState("dashboard"),[n,s]=U.useState([]),[a,l]=U.useState(""),[c,f]=U.useState("Cat"),[m,p]=U.useState(""),[y,_]=U.useState(""),[E,A]=U.useState([]),[C,M]=U.useState(null),O=rl(),[B,H]=U.useState("");U.useEffect(()=>{const D=async()=>{const k=ln.currentUser;if(k)try{const ne=(await qv(hc(Un,"pets"))).docs.map($t=>({id:$t.id,...$t.data()})).filter($t=>$t.shelterId===k.uid);A(ne)}catch(j){alert("Failed to load pets: "+j.message)}};["edit","delete","applications"].includes(e)&&D()},[e]);const q=()=>{s([]),l(""),H(""),f("Cat"),p(""),_(""),M(null)},it=async()=>{await ZS(ln),O("/login")},J=async()=>{var k;if(n.length===0||!a||!B||!m||!y)return alert("Fill all fields and select at least one image");const D=[];for(const j of n){const N=Cf(If,`pets/${_w()}-${j.name}`);await pw(N,j);const ne=await hy(N);D.push(ne)}await qR(hc(Un,"pets"),{name:a,description:B,type:c,breed:m,personality:y,imageUrls:D,shelterId:((k=ln.currentUser)==null?void 0:k.uid)||null,createdAt:new Date}),alert("Pet added"),q()},ct=async(D,k)=>{if(await kU(Ds(Un,"pets",D)),Array.isArray(k))for(const j of k){const N=decodeURIComponent(new URL(j).pathname.split("/o/")[1]);await K5(Cf(If,N))}alert("Deleted"),A(j=>j.filter(N=>N.id!==D))},V=D=>{var k;if(D.shelterId!==((k=ln.currentUser)==null?void 0:k.uid))return alert("You are not authorized to edit this pet.");M(D),l(D.name),H(D.description),p(D.breed),f(D.type),_(D.personality),s([])},R=async()=>{if(!C)return;let D=C.imageUrls||[];if(n.length>0){D=[];for(const k of n){const j=Cf(If,`pets/${_w()}-${k.name}`);await pw(j,k);const N=await hy(j);D.push(N)}}await VU(Ds(Un,"pets",C.id),{name:a,description:B,type:c,breed:m,personality:y,imageUrls:D}),alert("Pet updated"),q(),t("edit")};return x.jsxs("div",{className:"flex min-h-screen bg-[#FFFFFC]",children:[x.jsxs("aside",{className:"w-64 bg-[#000000] text-white p-6 space-y-6",children:[x.jsxs("div",{className:"text-2xl font-bold flex items-center space-x-3",children:[x.jsx("span",{className:"text-3xl",children:""}),x.jsx("span",{children:"Pawthway"})]}),x.jsxs("nav",{className:"flex flex-col space-y-4",children:[x.jsx(ya,{icon:mM,label:"Dashboard",onClick:()=>t("dashboard"),active:e==="dashboard"}),x.jsx(ya,{icon:fM,label:"Adoptions",onClick:()=>t("applications"),active:e==="applications"}),x.jsx(ya,{icon:vM,label:"Messages",onClick:()=>t("messages"),active:e==="messages"}),x.jsx(ya,{icon:CM,label:"Users",onClick:()=>t("users"),active:e==="users"}),x.jsx(ya,{icon:bM,label:"Settings",onClick:()=>t("settings"),active:e==="settings"}),x.jsx(ya,{icon:k1,label:"Shelter Info",onClick:()=>t("shelter-info"),active:e==="shelter-info"}),x.jsx(ya,{icon:gM,label:"Logout",onClick:it,active:!1,danger:!0})]})]}),x.jsxs("main",{className:"flex-1 p-30",children:[x.jsx("h1",{className:"text-3xl font-bold text-[#000000] mb-8",children:"Admin Dashboard"}),e==="dashboard"&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx(Oo,{icon:oM,title:"Add a New Pet",onClick:()=>t("add")}),x.jsx(Oo,{icon:AM,title:"Edit Pet",onClick:()=>t("edit")}),x.jsx(Oo,{icon:xM,title:"Remove Pet",onClick:()=>t("delete")}),x.jsx(Oo,{icon:k1,title:"View Applications",onClick:()=>t("applications")}),x.jsx(Oo,{icon:cM,title:"Manage Categories",onClick:()=>alert("Coming soon")}),x.jsx(Oo,{icon:rM,title:"Generate Reports",onClick:()=>alert("Coming soon")})]}),e==="add"&&I("Add New Pet",J),e==="edit"&&!C&&x.jsxs("div",{className:"space-y-4",children:[x.jsx("h2",{className:"text-xl font-semibold text-[#000000]",children:"Select Pet to Edit"}),E.map(D=>x.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded shadow",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-[#000000]",children:D.name}),x.jsxs("p",{className:"text-sm text-[#000000]",children:[D.type," - ",D.breed]})]}),x.jsx("button",{onClick:()=>V(D),className:"bg-[#FF7F11] text-white px-3 py-1 rounded cursor-pointer",children:"Edit"})]},D.id))]}),e==="edit"&&C&&I("Edit Pet",R),e==="delete"&&x.jsxs("div",{className:"space-y-4",children:[x.jsx("h2",{className:"text-xl font-semibold text-[#000000]",children:"Remove Pets"}),E.map(D=>x.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded shadow",children:[x.jsxs("div",{children:[x.jsx("p",{className:"font-bold text-[#000000]",children:D.name}),x.jsxs("p",{className:"text-sm text-[#000000]",children:[D.type," - ",D.breed]})]}),x.jsx("button",{onClick:()=>ct(D.id,D.imageUrls),className:"bg-[#FF1B1C] text-white px-3 py-1 rounded cursor-pointer",children:"Delete"})]},D.id))]}),e==="shelter-info"&&x.jsx("div",{className:"space-y-4",children:x.jsx(c2,{})})]})]});function I(D,k){return x.jsxs("div",{className:"space-y-4 text-[#000000]",children:[x.jsx("h2",{className:"text-xl font-semibold",children:D}),x.jsxs("label",{className:"block text-[#000000] font-medium",children:["Pet Images ",C?"(leave empty to keep existing)":"(multiple allowed)"]}),x.jsx("input",{type:"file",multiple:!0,onChange:j=>s(Array.from(j.target.files)),className:"cursor-pointer"}),x.jsx("label",{className:"block text-[#000000] font-medium",children:"Pet Name"}),x.jsx("input",{className:"block border border-[#BEB7A4] p-2 w-full text-[#000000] placeholder-[#BEB7A4]",value:a,onChange:j=>l(j.target.value),placeholder:"e.g., Simba"}),x.jsx("label",{className:"block text-[#000000] font-medium",children:"Description"}),x.jsx("textarea",{className:"block border border-[#BEB7A4] p-2 w-full text-[#000000] placeholder-[#BEB7A4]",value:B,onChange:j=>H(j.target.value),placeholder:"Brief description"}),x.jsx("label",{className:"block text-[#000000] font-medium",children:"Breed"}),x.jsx("input",{className:"block border border-[#BEB7A4] p-2 w-full text-[#000000] placeholder-[#BEB7A4]",value:m,onChange:j=>p(j.target.value),placeholder:"e.g., Labrador"}),x.jsx("label",{className:"block text-[#000000] font-medium",children:"Personality"}),x.jsx("textarea",{className:"block border border-[#BEB7A4] p-2 w-full text-[#000000] placeholder-[#BEB7A4]",value:y,onChange:j=>_(j.target.value),placeholder:"e.g., Friendly, playful"}),x.jsx("button",{className:"bg-[#FF7F11] hover:bg-[#FF1B1C] text-white px-4 py-2 rounded cursor-pointer",onClick:k,children:C?"Update":"Add"}),C&&x.jsx("button",{className:"ml-4 px-4 py-2 rounded bg-gray-300 text-black",onClick:q,children:"Cancel"})]})}}function Oo({icon:e,title:t,onClick:n}){return x.jsxs("div",{onClick:n,className:"flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow hover:shadow-md transition cursor-pointer group",children:[x.jsx("div",{className:"p-4 rounded-full mb-4",children:x.jsx(e,{size:32,className:"text-[#FF7F11] group-hover:text-[#FF1B1C] transition"})}),x.jsx("h2",{className:"text-lg font-semibold text-[#1F2937] text-center",children:t})]})}function ya({icon:e,label:t,onClick:n,active:s,danger:a}){return x.jsxs("button",{onClick:n,className:`flex items-center space-x-3 px-3 py-2 rounded transition group cursor-pointer ${s?"bg-[#1A1A1A] text-[#FF7F11]":a?"hover:bg-[#1A1A1A] text-[#FF1B1C]":"hover:bg-[#1A1A1A]"}`,children:[x.jsx(e,{size:20,className:`transition ${s||a?"text-[#FF7F11] group-hover:text-[#FF1B1C]":"text-white group-hover:text-[#FF1B1C]"}`}),x.jsx("span",{children:t})]})}function wF({pet:e}){return x.jsxs("form",{className:"mt-6 bg-[#FFFFFC] p-6 border border-[#BEB7A4] rounded-lg shadow",children:[x.jsxs("h2",{className:"text-2xl font-bold text-[#FF1B1C] mb-4",children:["Apply to adopt ",e.name]}),x.jsx("input",{type:"text",placeholder:"Your Name",required:!0,className:"w-full mb-4 p-3 border border-[#BEB7A4] rounded"}),x.jsx("input",{type:"email",placeholder:"Email Address",required:!0,className:"w-full mb-4 p-3 border border-[#BEB7A4] rounded"}),x.jsx("textarea",{placeholder:"Why do you want to adopt?",required:!0,className:"w-full mb-4 p-3 border border-[#BEB7A4] rounded",rows:"4"}),x.jsx("button",{type:"submit",className:"bg-[#FF7F11] text-[#FFFFFC] px-6 py-3 rounded hover:bg-[#FF1B1C] transition",children:"Submit Application"})]})}function AF(){const[e,t]=U.useState(0);return x.jsx(x.Fragment,{children:x.jsxs(oD,{children:[x.jsx(o2,{}),x.jsxs(LI,{children:[x.jsx(Ii,{path:"/",element:x.jsx(cF,{})}),x.jsx(Ii,{path:"/adopt",element:x.jsx(dF,{})}),x.jsx(Ii,{path:"/about",element:x.jsx(mF,{})}),x.jsx(Ii,{path:"/contact",element:x.jsx(pF,{})}),x.jsx(Ii,{path:"/login",element:x.jsx(gF,{})}),x.jsx(Ii,{path:"/pet/:id",element:x.jsx(yF,{})}),x.jsx(Ii,{path:"/admin-dashboard",element:x.jsx(bF,{})}),x.jsx(Ii,{path:"/shelter-info",element:x.jsx(c2,{})}),x.jsx(Ii,{path:"/adoption-form",element:x.jsx(wF,{})})]})]})})}const SF=U.createContext(),xF=({children:e})=>{const[t,n]=U.useState(null);return U.useEffect(()=>{const s=WS(ln,a=>{n(a)});return()=>s()},[]),x.jsx(SF.Provider,{value:{currentUser:t},children:e})};GC.createRoot(document.getElementById("root")).render(x.jsx(xF,{children:x.jsx(AF,{})}));
