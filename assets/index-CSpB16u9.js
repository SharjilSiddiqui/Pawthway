(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function I2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dp={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function D2(){if(rE)return Tu;rE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Tu.Fragment=t,Tu.jsx=n,Tu.jsxs=n,Tu}var sE;function N2(){return sE||(sE=1,Dp.exports=D2()),Dp.exports}var R=N2(),Np={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function P2(){if(aE)return xt;aE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,V={};function O(L,rt,ut){this.props=L,this.context=rt,this.refs=V,this.updater=ut||S}O.prototype.isReactComponent={},O.prototype.setState=function(L,rt){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,rt,"setState")},O.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function j(){}j.prototype=O.prototype;function z(L,rt,ut){this.props=L,this.context=rt,this.refs=V,this.updater=ut||S}var q=z.prototype=new j;q.constructor=z,C(q,O.prototype),q.isPureReactComponent=!0;var it=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},ct=Object.prototype.hasOwnProperty;function M(L,rt,ut,ot,gt,Dt){return ut=Dt.ref,{$$typeof:e,type:L,key:rt,ref:ut!==void 0?ut:null,props:Dt}}function x(L,rt){return M(L.type,rt,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function k(L){var rt={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ut){return rt[ut]})}var D=/\/+/g;function B(L,rt){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):rt.toString(36)}function N(){}function Jt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(rt){L.status==="pending"&&(L.status="fulfilled",L.value=rt)},function(rt){L.status==="pending"&&(L.status="rejected",L.reason=rt)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ne(L,rt,ut,ot,gt){var Dt=typeof L;(Dt==="undefined"||Dt==="boolean")&&(L=null);var At=!1;if(L===null)At=!0;else switch(Dt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(L.$$typeof){case e:case t:At=!0;break;case y:return At=L._init,ne(At(L._payload),rt,ut,ot,gt)}}if(At)return gt=gt(L),At=ot===""?"."+B(L,0):ot,it(gt)?(ut="",At!=null&&(ut=At.replace(D,"$&/")+"/"),ne(gt,rt,ut,"",function(hi){return hi})):gt!=null&&(I(gt)&&(gt=x(gt,ut+(gt.key==null||L&&L.key===gt.key?"":(""+gt.key).replace(D,"$&/")+"/")+At)),rt.push(gt)),1;At=0;var ke=ot===""?".":ot+":";if(it(L))for(var te=0;te<L.length;te++)ot=L[te],Dt=ke+B(ot,te),At+=ne(ot,rt,ut,Dt,gt);else if(te=E(L),typeof te=="function")for(L=te.call(L),te=0;!(ot=L.next()).done;)ot=ot.value,Dt=ke+B(ot,te++),At+=ne(ot,rt,ut,Dt,gt);else if(Dt==="object"){if(typeof L.then=="function")return ne(Jt(L),rt,ut,ot,gt);throw rt=String(L),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return At}function Z(L,rt,ut){if(L==null)return L;var ot=[],gt=0;return ne(L,ot,"","",function(Dt){return rt.call(ut,Dt,gt++)}),ot}function at(L){if(L._status===-1){var rt=L._result;rt=rt(),rt.then(function(ut){(L._status===0||L._status===-1)&&(L._status=1,L._result=ut)},function(ut){(L._status===0||L._status===-1)&&(L._status=2,L._result=ut)}),L._status===-1&&(L._status=0,L._result=rt)}if(L._status===1)return L._result.default;throw L._result}var ft=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function kt(){}return xt.Children={map:Z,forEach:function(L,rt,ut){Z(L,function(){rt.apply(this,arguments)},ut)},count:function(L){var rt=0;return Z(L,function(){rt++}),rt},toArray:function(L){return Z(L,function(rt){return rt})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},xt.Component=O,xt.Fragment=n,xt.Profiler=a,xt.PureComponent=z,xt.StrictMode=r,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,xt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return W.H.useMemoCache(L)}},xt.cache=function(L){return function(){return L.apply(null,arguments)}},xt.cloneElement=function(L,rt,ut){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ot=C({},L.props),gt=L.key,Dt=void 0;if(rt!=null)for(At in rt.ref!==void 0&&(Dt=void 0),rt.key!==void 0&&(gt=""+rt.key),rt)!ct.call(rt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&rt.ref===void 0||(ot[At]=rt[At]);var At=arguments.length-2;if(At===1)ot.children=ut;else if(1<At){for(var ke=Array(At),te=0;te<At;te++)ke[te]=arguments[te+2];ot.children=ke}return M(L.type,gt,void 0,void 0,Dt,ot)},xt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},xt.createElement=function(L,rt,ut){var ot,gt={},Dt=null;if(rt!=null)for(ot in rt.key!==void 0&&(Dt=""+rt.key),rt)ct.call(rt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(gt[ot]=rt[ot]);var At=arguments.length-2;if(At===1)gt.children=ut;else if(1<At){for(var ke=Array(At),te=0;te<At;te++)ke[te]=arguments[te+2];gt.children=ke}if(L&&L.defaultProps)for(ot in At=L.defaultProps,At)gt[ot]===void 0&&(gt[ot]=At[ot]);return M(L,Dt,void 0,void 0,null,gt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(L){return{$$typeof:f,render:L}},xt.isValidElement=I,xt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:at}},xt.memo=function(L,rt){return{$$typeof:p,type:L,compare:rt===void 0?null:rt}},xt.startTransition=function(L){var rt=W.T,ut={};W.T=ut;try{var ot=L(),gt=W.S;gt!==null&&gt(ut,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(kt,ft)}catch(Dt){ft(Dt)}finally{W.T=rt}},xt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},xt.use=function(L){return W.H.use(L)},xt.useActionState=function(L,rt,ut){return W.H.useActionState(L,rt,ut)},xt.useCallback=function(L,rt){return W.H.useCallback(L,rt)},xt.useContext=function(L){return W.H.useContext(L)},xt.useDebugValue=function(){},xt.useDeferredValue=function(L,rt){return W.H.useDeferredValue(L,rt)},xt.useEffect=function(L,rt,ut){var ot=W.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(L,rt)},xt.useId=function(){return W.H.useId()},xt.useImperativeHandle=function(L,rt,ut){return W.H.useImperativeHandle(L,rt,ut)},xt.useInsertionEffect=function(L,rt){return W.H.useInsertionEffect(L,rt)},xt.useLayoutEffect=function(L,rt){return W.H.useLayoutEffect(L,rt)},xt.useMemo=function(L,rt){return W.H.useMemo(L,rt)},xt.useOptimistic=function(L,rt){return W.H.useOptimistic(L,rt)},xt.useReducer=function(L,rt,ut){return W.H.useReducer(L,rt,ut)},xt.useRef=function(L){return W.H.useRef(L)},xt.useState=function(L){return W.H.useState(L)},xt.useSyncExternalStore=function(L,rt,ut){return W.H.useSyncExternalStore(L,rt,ut)},xt.useTransition=function(){return W.H.useTransition()},xt.version="19.1.0",xt}var oE;function uy(){return oE||(oE=1,Np.exports=P2()),Np.exports}var F=uy();const ba=I2(F);var Pp={exports:{}},Eu={},Op={exports:{}},Vp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lE;function O2(){return lE||(lE=1,function(e){function t(Z,at){var ft=Z.length;Z.push(at);t:for(;0<ft;){var kt=ft-1>>>1,L=Z[kt];if(0<a(L,at))Z[kt]=at,Z[ft]=L,ft=kt;else break t}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var at=Z[0],ft=Z.pop();if(ft!==at){Z[0]=ft;t:for(var kt=0,L=Z.length,rt=L>>>1;kt<rt;){var ut=2*(kt+1)-1,ot=Z[ut],gt=ut+1,Dt=Z[gt];if(0>a(ot,ft))gt<L&&0>a(Dt,ot)?(Z[kt]=Dt,Z[gt]=ft,kt=gt):(Z[kt]=ot,Z[ut]=ft,kt=ut);else if(gt<L&&0>a(Dt,ft))Z[kt]=Dt,Z[gt]=ft,kt=gt;else break t}}return at}function a(Z,at){var ft=Z.sortIndex-at.sortIndex;return ft!==0?ft:Z.id-at.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,E=3,S=!1,C=!1,V=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function it(Z){for(var at=n(p);at!==null;){if(at.callback===null)r(p);else if(at.startTime<=Z)r(p),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(p)}}function W(Z){if(V=!1,it(Z),!C)if(n(m)!==null)C=!0,ct||(ct=!0,B());else{var at=n(p);at!==null&&ne(W,at.startTime-Z)}}var ct=!1,M=-1,x=5,I=-1;function k(){return O?!0:!(e.unstable_now()-I<x)}function D(){if(O=!1,ct){var Z=e.unstable_now();I=Z;var at=!0;try{t:{C=!1,V&&(V=!1,z(M),M=-1),S=!0;var ft=E;try{e:{for(it(Z),_=n(m);_!==null&&!(_.expirationTime>Z&&k());){var kt=_.callback;if(typeof kt=="function"){_.callback=null,E=_.priorityLevel;var L=kt(_.expirationTime<=Z);if(Z=e.unstable_now(),typeof L=="function"){_.callback=L,it(Z),at=!0;break e}_===n(m)&&r(m),it(Z)}else r(m);_=n(m)}if(_!==null)at=!0;else{var rt=n(p);rt!==null&&ne(W,rt.startTime-Z),at=!1}}break t}finally{_=null,E=ft,S=!1}at=void 0}}finally{at?B():ct=!1}}}var B;if(typeof q=="function")B=function(){q(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Jt=N.port2;N.port1.onmessage=D,B=function(){Jt.postMessage(null)}}else B=function(){j(D,0)};function ne(Z,at){M=j(function(){Z(e.unstable_now())},at)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var at=3;break;default:at=E}var ft=E;E=at;try{return Z()}finally{E=ft}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(Z,at){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ft=E;E=Z;try{return at()}finally{E=ft}},e.unstable_scheduleCallback=function(Z,at,ft){var kt=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?kt+ft:kt):ft=kt,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ft+L,Z={id:y++,callback:at,priorityLevel:Z,startTime:ft,expirationTime:L,sortIndex:-1},ft>kt?(Z.sortIndex=ft,t(p,Z),n(m)===null&&Z===n(p)&&(V?(z(M),M=-1):V=!0,ne(W,ft-kt))):(Z.sortIndex=L,t(m,Z),C||S||(C=!0,ct||(ct=!0,B()))),Z},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(Z){var at=E;return function(){var ft=E;E=at;try{return Z.apply(this,arguments)}finally{E=ft}}}}(Vp)),Vp}var uE;function V2(){return uE||(uE=1,Op.exports=O2()),Op.exports}var Mp={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function M2(){if(cE)return en;cE=1;var e=uy();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},en.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},en.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},en.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},en.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},en.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},en.requestFormReset=function(m){r.d.r(m)},en.unstable_batchedUpdates=function(m,p){return m(p)},en.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.1.0",en}var hE;function k2(){if(hE)return Mp.exports;hE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mp.exports=M2(),Mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function L2(){if(fE)return Eu;fE=1;var e=V2(),t=uy(),n=k2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,w=d.child;w;){if(w===o){b=!0,o=d,u=g;break}if(w===u){b=!0,u=d,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,u=d;break}if(w===u){b=!0,u=g,o=d;break}w=w.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),q=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function Jt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case O:return"Profiler";case V:return"StrictMode";case W:return"Suspense";case ct:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case q:return(i.displayName||"Context")+".Provider";case z:return(i._context.displayName||"Context")+".Consumer";case it:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return s=i.displayName||null,s!==null?s:Jt(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return Jt(i(s))}catch{}}return null}var ne=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},kt=[],L=-1;function rt(i){return{current:i}}function ut(i){0>L||(i.current=kt[L],kt[L]=null,L--)}function ot(i,s){L++,kt[L]=i.current,i.current=s}var gt=rt(null),Dt=rt(null),At=rt(null),ke=rt(null);function te(i,s){switch(ot(At,s),ot(Dt,i),ot(gt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?PT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=PT(s),i=OT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(gt),ot(gt,i)}function hi(){ut(gt),ut(Dt),ut(At)}function Dr(i){i.memoizedState!==null&&ot(ke,i);var s=gt.current,o=OT(s,i.type);s!==o&&(ot(Dt,i),ot(gt,o))}function qi(i){Dt.current===i&&(ut(gt),ut(Dt)),ke.current===i&&(ut(ke),pu._currentValue=ft)}var Os=Object.prototype.hasOwnProperty,Vs=e.unstable_scheduleCallback,Ms=e.unstable_cancelCallback,fl=e.unstable_shouldYield,Rc=e.unstable_requestPaint,Ln=e.unstable_now,Dd=e.unstable_getCurrentPriorityLevel,dl=e.unstable_ImmediatePriority,ja=e.unstable_UserBlockingPriority,ks=e.unstable_NormalPriority,Nd=e.unstable_LowPriority,Ba=e.unstable_IdlePriority,ml=e.log,xc=e.unstable_setDisableYieldValue,he=null,Gt=null;function Sn(i){if(typeof ml=="function"&&xc(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(he,i)}catch{}}var Je=Math.clz32?Math.clz32:Ls,Cc=Math.log,Pd=Math.LN2;function Ls(i){return i>>>=0,i===0?32:31-(Cc(i)/Pd|0)|0}var Us=256,Fs=4194304;function ti(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function za(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var w=u&134217727;return w!==0?(u=w&~g,u!==0?d=ti(u):(b&=w,b!==0?d=ti(b):o||(o=w&~i,o!==0&&(d=ti(o))))):(w=u&~g,w!==0?d=ti(w):b!==0?d=ti(b):o||(o=u&~i,o!==0&&(d=ti(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function js(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function pl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(){var i=Us;return Us<<=1,(Us&4194048)===0&&(Us=256),i}function yl(){var i=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),i}function Gi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Ki(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vl(i,s,o,u,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,P=i.expirationTimes,Y=i.hiddenUpdates;for(o=b&~o;0<o;){var J=31-Je(o),et=1<<J;w[J]=0,P[J]=-1;var $=Y[J];if($!==null)for(Y[J]=null,J=0;J<$.length;J++){var X=$[J];X!==null&&(X.lane&=-536870913)}o&=~et}u!==0&&fi(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function fi(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Je(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function _l(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Je(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function Nr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ha(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Pr(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:ZT(i.type))}function Ic(i,s){var o=at.p;try{return at.p=i,s()}finally{at.p=o}}var ie=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ie,we="__reactProps$"+ie,Un="__reactContainer$"+ie,Tl="__reactEvents$"+ie,Od="__reactListeners$"+ie,Or="__reactHandles$"+ie,Dc="__reactResources$"+ie,Bs="__reactMarker$"+ie;function Vr(i){delete i[Ce],delete i[we],delete i[Tl],delete i[Od],delete i[Or]}function Yi(i){var s=i[Ce];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Un]||o[Ce]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=LT(i);i!==null;){if(o=i[Ce])return o;i=LT(i)}return s}i=o,o=i.parentNode}return null}function di(i){if(i=i[Ce]||i[Un]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function mi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function un(i){var s=i[Dc];return s||(s=i[Dc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ve(i){i[Bs]=!0}var El=new Set,qa={};function ei(i,s){$i(i,s),$i(i+"Capture",s)}function $i(i,s){for(qa[i]=s,i=0;i<s.length;i++)El.add(s[i])}var Nc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pc={},zs={};function Oc(i){return Os.call(zs,i)?!0:Os.call(Pc,i)?!1:Nc.test(i)?zs[i]=!0:(Pc[i]=!0,!1)}function Mr(i,s,o){if(Oc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function pi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function He(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Hs,Vc;function Xi(i){if(Hs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Hs=s&&s[1]||"",Vc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hs+i+Vc}var Ga=!1;function Ka(i,s){if(!i||Ga)return"";Ga=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(X){var $=X}Reflect.construct(i,[],et)}else{try{et.call()}catch(X){$=X}i.call(et.prototype)}}else{try{throw Error()}catch(X){$=X}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var P=b.split(`
`),Y=w.split(`
`);for(d=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;if(u===P.length||d===Y.length)for(u=P.length-1,d=Y.length-1;1<=u&&0<=d&&P[u]!==Y[d];)d--;for(;1<=u&&0<=d;u--,d--)if(P[u]!==Y[d]){if(u!==1||d!==1)do if(u--,d--,0>d||P[u]!==Y[d]){var J=`
`+P[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=d);break}}}finally{Ga=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Xi(o):""}function bl(i){switch(i.tag){case 26:case 27:case 5:return Xi(i.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Ka(i.type,!1);case 11:return Ka(i.type.render,!1);case 1:return Ka(i.type,!0);case 31:return Xi("Activity");default:return""}}function Ya(i){try{var s="";do s+=bl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function cn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function wl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vd(i){var s=wl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function $a(i){i._valueTracker||(i._valueTracker=Vd(i))}function Al(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=wl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function qs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Md=/[\n"\\]/g;function Ae(i){return i.replace(Md,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Rn(i,s,o,u,d,g,b,w){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+cn(s)):i.value!==""+cn(s)&&(i.value=""+cn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?kr(i,b,cn(s)):o!=null?kr(i,b,cn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+cn(w):i.removeAttribute("name")}function Gs(i,s,o,u,d,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+cn(o):"",s=s!=null?""+cn(s):o,w||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=w?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function kr(i,s,o){s==="number"&&qs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Qi(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+cn(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function $t(i,s,o){if(s!=null&&(s=""+cn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+cn(o):""}function Ks(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ne(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=cn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Fn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Ys.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Sl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Mc(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Mc(i,g,s[g])}function Rl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ld=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(i){return Ld.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wi=null;function jn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zi=null,Ji=null;function xl(i){var s=di(i);if(s&&(i=s.stateNode)){var o=i[we]||null;t:switch(i=s.stateNode,s.type){case"input":if(Rn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ae(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[we]||null;if(!d)throw Error(r(90));Rn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Al(u)}break t;case"textarea":$t(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Qi(i,!!o.multiple,s,!1)}}}var gi=!1;function kc(i,s,o){if(gi)return i(s,o);gi=!0;try{var u=i(s);return u}finally{if(gi=!1,(Zi!==null||Ji!==null)&&(Ih(),Zi&&(s=Zi,i=Ji,Ji=Zi=null,xl(s),i)))for(s=0;s<i.length;s++)xl(i[s])}}function $s(i,s){var o=i.stateNode;if(o===null)return null;var u=o[we]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(ni)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Bn=!1}var yi=null,Lr=null,tr=null;function Cl(){if(tr)return tr;var i,s=Lr,o=s.length,u,d="value"in yi?yi.value:yi.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var b=o-i;for(u=1;u<=b&&s[o-u]===d[g-u];u++);return tr=d.slice(i,1<u?1-u:void 0)}function vi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function _i(){return!0}function Il(){return!1}function Le(i){function s(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_i:Il,this.isPropagationStopped=Il,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),s}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Le(Ht),Qs=y({},Ht,{view:0,detail:0}),Lc=Le(Qs),Wa,Za,Ti,Ws=y({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(Wa=i.screenX-Ti.screenX,Za=i.screenY-Ti.screenY):Za=Wa=0,Ti=i),Wa)},movementY:function(i){return"movementY"in i?i.movementY:Za}}),zn=Le(Ws),Uc=y({},Ws,{dataTransfer:0}),Ud=Le(Uc),Zs=y({},Qs,{relatedTarget:0}),Ja=Le(Zs),Dl=y({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),to=Le(Dl),Fc=y({},Ht,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),eo=Le(Fc),Fd=y({},Ht,{data:0}),Nl=Le(Fd),Js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Bc[i])?!!s[i]:!1}function ta(){return Pl}var zc=y({},Qs,{key:function(i){if(i.key){var s=Js[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=vi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?jc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(i){return i.type==="keypress"?vi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),no=Le(zc),Hc=y({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=Le(Hc),er=y({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),qc=Le(er),Gc=y({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kc=Le(Gc),Yc=y({},Ws,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),io=Le(Yc),hn=y({},Ht,{newState:0,oldState:0}),$c=Le(hn),Xc=[9,13,27,32],Ei=ni&&"CompositionEvent"in window,h=null;ni&&"documentMode"in document&&(h=document.documentMode);var v=ni&&"TextEvent"in window&&!h,T=ni&&(!Ei||h&&8<h&&11>=h),A=" ",G=!1;function Q(i,s){switch(i){case"keyup":return Xc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lt=!1;function Ie(i,s){switch(i){case"compositionend":return lt(s);case"keypress":return s.which!==32?null:(G=!0,A);case"textInput":return i=s.data,i===A&&G?null:i;default:return null}}function Ut(i,s){if(Lt)return i==="compositionend"||!Ei&&Q(i,s)?(i=Cl(),tr=Lr=yi=null,Lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ue[i.type]:s==="textarea"}function nr(i,s,o,u){Zi?Ji?Ji.push(u):Ji=[u]:Zi=u,s=Mh(s,"onChange"),0<s.length&&(o=new Qa("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var qe=null,bi=null;function Vl(i){xT(i,0)}function Qc(i){var s=mi(i);if(Al(s))return i}function $v(i,s){if(i==="change")return s}var Xv=!1;if(ni){var jd;if(ni){var Bd="oninput"in document;if(!Bd){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),Bd=typeof Qv.oninput=="function"}jd=Bd}else jd=!1;Xv=jd&&(!document.documentMode||9<document.documentMode)}function Wv(){qe&&(qe.detachEvent("onpropertychange",Zv),bi=qe=null)}function Zv(i){if(i.propertyName==="value"&&Qc(bi)){var s=[];nr(s,bi,i,jn(i)),kc(Vl,s)}}function sC(i,s,o){i==="focusin"?(Wv(),qe=s,bi=o,qe.attachEvent("onpropertychange",Zv)):i==="focusout"&&Wv()}function aC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Qc(bi)}function oC(i,s){if(i==="click")return Qc(s)}function lC(i,s){if(i==="input"||i==="change")return Qc(s)}function uC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var xn=typeof Object.is=="function"?Object.is:uC;function Ml(i,s){if(xn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Os.call(s,d)||!xn(i[d],s[d]))return!1}return!0}function Jv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function t_(i,s){var o=Jv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Jv(o)}}function e_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?e_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function n_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=qs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=qs(i.document)}return s}function zd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var cC=ni&&"documentMode"in document&&11>=document.documentMode,ro=null,Hd=null,kl=null,qd=!1;function i_(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qd||ro==null||ro!==qs(u)||(u=ro,"selectionStart"in u&&zd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),kl&&Ml(kl,u)||(kl=u,u=Mh(Hd,"onSelect"),0<u.length&&(s=new Qa("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=ro)))}function ea(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var so={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},Gd={},r_={};ni&&(r_=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function na(i){if(Gd[i])return Gd[i];if(!so[i])return i;var s=so[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in r_)return Gd[i]=s[o];return i}var s_=na("animationend"),a_=na("animationiteration"),o_=na("animationstart"),hC=na("transitionrun"),fC=na("transitionstart"),dC=na("transitioncancel"),l_=na("transitionend"),u_=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function ii(i,s){u_.set(i,s),ei(s,[i])}var c_=new WeakMap;function Hn(i,s){if(typeof i=="object"&&i!==null){var o=c_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ya(s)},c_.set(i,s),s)}return{value:i,source:s,stack:Ya(s)}}var qn=[],ao=0,Yd=0;function Wc(){for(var i=ao,s=Yd=ao=0;s<i;){var o=qn[s];qn[s++]=null;var u=qn[s];qn[s++]=null;var d=qn[s];qn[s++]=null;var g=qn[s];if(qn[s++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&h_(o,d,g)}}function Zc(i,s,o,u){qn[ao++]=i,qn[ao++]=s,qn[ao++]=o,qn[ao++]=u,Yd|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function $d(i,s,o,u){return Zc(i,s,o,u),Jc(i)}function oo(i,s){return Zc(i,null,null,s),Jc(i)}function h_(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-Je(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function Jc(i){if(50<ou)throw ou=0,tp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var lo={};function mC(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(i,s,o,u){return new mC(i,s,o,u)}function Xd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ir(i,s){var o=i.alternate;return o===null?(o=Cn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function f_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function th(i,s,o,u,d,g){var b=0;if(u=i,typeof i=="function")Xd(i)&&(b=1);else if(typeof i=="string")b=g2(i,o,gt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=Cn(31,o,s,d),i.elementType=I,i.lanes=g,i;case C:return ia(o.children,d,g,s);case V:b=8,d|=24;break;case O:return i=Cn(12,o,s,d|2),i.elementType=O,i.lanes=g,i;case W:return i=Cn(13,o,s,d),i.elementType=W,i.lanes=g,i;case ct:return i=Cn(19,o,s,d),i.elementType=ct,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:case q:b=10;break t;case z:b=9;break t;case it:b=11;break t;case M:b=14;break t;case x:b=16,u=null;break t}b=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Cn(b,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function ia(i,s,o,u){return i=Cn(7,i,u,s),i.lanes=o,i}function Qd(i,s,o){return i=Cn(6,i,null,s),i.lanes=o,i}function Wd(i,s,o){return s=Cn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var uo=[],co=0,eh=null,nh=0,Gn=[],Kn=0,ra=null,rr=1,sr="";function sa(i,s){uo[co++]=nh,uo[co++]=eh,eh=i,nh=s}function d_(i,s,o){Gn[Kn++]=rr,Gn[Kn++]=sr,Gn[Kn++]=ra,ra=i;var u=rr;i=sr;var d=32-Je(u)-1;u&=~(1<<d),o+=1;var g=32-Je(s)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,rr=1<<32-Je(s)+d|o<<d|u,sr=g+i}else rr=1<<g|o<<d|u,sr=i}function Zd(i){i.return!==null&&(sa(i,1),d_(i,1,0))}function Jd(i){for(;i===eh;)eh=uo[--co],uo[co]=null,nh=uo[--co],uo[co]=null;for(;i===ra;)ra=Gn[--Kn],Gn[Kn]=null,sr=Gn[--Kn],Gn[Kn]=null,rr=Gn[--Kn],Gn[Kn]=null}var fn=null,fe=null,zt=!1,aa=null,wi=!1,tm=Error(r(519));function oa(i){var s=Error(r(418,""));throw Fl(Hn(s,i)),tm}function m_(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[Ce]=i,s[we]=u,o){case"dialog":Ot("cancel",s),Ot("close",s);break;case"iframe":case"object":case"embed":Ot("load",s);break;case"video":case"audio":for(o=0;o<uu.length;o++)Ot(uu[o],s);break;case"source":Ot("error",s);break;case"img":case"image":case"link":Ot("error",s),Ot("load",s);break;case"details":Ot("toggle",s);break;case"input":Ot("invalid",s),Gs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),$a(s);break;case"select":Ot("invalid",s);break;case"textarea":Ot("invalid",s),Ks(s,u.value,u.defaultValue,u.children),$a(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||NT(s.textContent,o)?(u.popover!=null&&(Ot("beforetoggle",s),Ot("toggle",s)),u.onScroll!=null&&Ot("scroll",s),u.onScrollEnd!=null&&Ot("scrollend",s),u.onClick!=null&&(s.onclick=kh),s=!0):s=!1,s||oa(i)}function p_(i){for(fn=i.return;fn;)switch(fn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:fn=fn.return}}function Ll(i){if(i!==fn)return!1;if(!zt)return p_(i),zt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||gp(i.type,i.memoizedProps)),o=!o),o&&fe&&oa(i),p_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){fe=si(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}fe=null}}else s===27?(s=fe,Jr(i.type)?(i=Tp,Tp=null,fe=i):fe=s):fe=fn?si(i.stateNode.nextSibling):null;return!0}function Ul(){fe=fn=null,zt=!1}function g_(){var i=aa;return i!==null&&(yn===null?yn=i:yn.push.apply(yn,i),aa=null),i}function Fl(i){aa===null?aa=[i]:aa.push(i)}var em=rt(null),la=null,ar=null;function Ur(i,s,o){ot(em,s._currentValue),s._currentValue=o}function or(i){i._currentValue=em.current,ut(em)}function nm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function im(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=d;for(var P=0;P<s.length;P++)if(w.context===s[P]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),nm(g.return,o,i),u||(b=null);break t}g=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),nm(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function jl(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var w=d.type;xn(d.pendingProps.value,b.value)||(i!==null?i.push(w):i=[w])}}else if(d===ke.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(pu):i=[pu])}d=d.return}i!==null&&im(s,i,o,u),s.flags|=262144}function ih(i){for(i=i.firstContext;i!==null;){if(!xn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ua(i){la=i,ar=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function tn(i){return y_(la,i)}function rh(i,s){return la===null&&ua(i),y_(i,s)}function y_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ar===null){if(i===null)throw Error(r(308));ar=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ar=ar.next=s;return o}var pC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},gC=e.unstable_scheduleCallback,yC=e.unstable_NormalPriority,Ne={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new pC,data:new Map,refCount:0}}function Bl(i){i.refCount--,i.refCount===0&&gC(yC,function(){i.controller.abort()})}var zl=null,sm=0,ho=0,fo=null;function vC(i,s){if(zl===null){var o=zl=[];sm=0,ho=op(),fo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return sm++,s.then(v_,v_),s}function v_(){if(--sm===0&&zl!==null){fo!==null&&(fo.status="fulfilled");var i=zl;zl=null,ho=0,fo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function _C(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var __=Z.S;Z.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&vC(i,s),__!==null&&__(i,s)};var ca=rt(null);function am(){var i=ca.current;return i!==null?i:ee.pooledCache}function sh(i,s){s===null?ot(ca,ca.current):ot(ca,s.pool)}function T_(){var i=am();return i===null?null:{parent:Ne._currentValue,pool:i}}var Hl=Error(r(460)),E_=Error(r(474)),ah=Error(r(542)),om={then:function(){}};function b_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function oh(){}function w_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(oh,oh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,S_(i),i;default:if(typeof s.status=="string")s.then(oh,oh);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,S_(i),i}throw ql=s,Hl}}var ql=null;function A_(){if(ql===null)throw Error(r(459));var i=ql;return ql=null,i}function S_(i){if(i===Hl||i===ah)throw Error(r(483))}var Fr=!1;function lm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function jr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Br(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Jc(i),h_(i,null,o),s}return Zc(i,u,s,o),Jc(i)}function Gl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,_l(i,o)}}function cm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var hm=!1;function Kl(){if(hm){var i=fo;if(i!==null)throw i}}function Yl(i,s,o,u){hm=!1;var d=i.updateQueue;Fr=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var P=w,Y=P.next;P.next=null,b===null?g=Y:b.next=Y,b=P;var J=i.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==b&&(w===null?J.firstBaseUpdate=Y:w.next=Y,J.lastBaseUpdate=P))}if(g!==null){var et=d.baseState;b=0,J=Y=P=null,w=g;do{var $=w.lane&-536870913,X=$!==w.lane;if(X?(Ft&$)===$:(u&$)===$){$!==0&&$===ho&&(hm=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var bt=i,vt=w;$=s;var Wt=o;switch(vt.tag){case 1:if(bt=vt.payload,typeof bt=="function"){et=bt.call(Wt,et,$);break t}et=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=vt.payload,$=typeof bt=="function"?bt.call(Wt,et,$):bt,$==null)break t;et=y({},et,$);break t;case 2:Fr=!0}}$=w.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=d.callbacks,X===null?d.callbacks=[$]:X.push($))}else X={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(Y=J=X,P=et):J=J.next=X,b|=$;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;X=w,w=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);J===null&&(P=et),d.baseState=P,d.firstBaseUpdate=Y,d.lastBaseUpdate=J,g===null&&(d.shared.lanes=0),Xr|=b,i.lanes=b,i.memoizedState=et}}function R_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function x_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)R_(o[i],s)}var mo=rt(null),lh=rt(0);function C_(i,s){i=mr,ot(lh,i),ot(mo,s),mr=i|s.baseLanes}function fm(){ot(lh,mr),ot(mo,mo.current)}function dm(){mr=lh.current,ut(mo),ut(lh)}var zr=0,Ct=null,Xt=null,Se=null,uh=!1,po=!1,ha=!1,ch=0,$l=0,go=null,TC=0;function _e(){throw Error(r(321))}function mm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!xn(i[o],s[o]))return!1;return!0}function pm(i,s,o,u,d,g){return zr=g,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?h0:f0,ha=!1,g=o(u,d),ha=!1,po&&(g=D_(s,o,u,d)),I_(i),g}function I_(i){Z.H=gh;var s=Xt!==null&&Xt.next!==null;if(zr=0,Se=Xt=Ct=null,uh=!1,$l=0,go=null,s)throw Error(r(300));i===null||Fe||(i=i.dependencies,i!==null&&ih(i)&&(Fe=!0))}function D_(i,s,o,u){Ct=i;var d=0;do{if(po&&(go=null),$l=0,po=!1,25<=d)throw Error(r(301));if(d+=1,Se=Xt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=xC,g=s(o,u)}while(po);return g}function EC(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?Xl(s):s,i=i.useState()[0],(Xt!==null?Xt.memoizedState:null)!==i&&(Ct.flags|=1024),s}function gm(){var i=ch!==0;return ch=0,i}function ym(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function vm(i){if(uh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}uh=!1}zr=0,Se=Xt=Ct=null,po=!1,$l=ch=0,go=null}function pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=i:Se=Se.next=i,Se}function Re(){if(Xt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var s=Se===null?Ct.memoizedState:Se.next;if(s!==null)Se=s,Xt=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?Ct.memoizedState=Se=i:Se=Se.next=i}return Se}function _m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(i){var s=$l;return $l+=1,go===null&&(go=[]),i=w_(go,i,s),s=Ct,(Se===null?s.memoizedState:Se.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?h0:f0),i}function hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xl(i);if(i.$$typeof===q)return tn(i)}throw Error(r(438,String(i)))}function Tm(i){var s=null,o=Ct.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=_m(),Ct.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=k;return s.index++,o}function lr(i,s){return typeof s=="function"?s(i):s}function fh(i){var s=Re();return Em(s,Xt,i)}function Em(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var w=b=null,P=null,Y=s,J=!1;do{var et=Y.lane&-536870913;if(et!==Y.lane?(Ft&et)===et:(zr&et)===et){var $=Y.revertLane;if($===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),et===ho&&(J=!0);else if((zr&$)===$){Y=Y.next,$===ho&&(J=!0);continue}else et={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(w=P=et,b=g):P=P.next=et,Ct.lanes|=$,Xr|=$;et=Y.action,ha&&o(g,et),g=Y.hasEagerState?Y.eagerState:o(g,et)}else $={lane:et,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(w=P=$,b=g):P=P.next=$,Ct.lanes|=et,Xr|=et;Y=Y.next}while(Y!==null&&Y!==s);if(P===null?b=g:P.next=w,!xn(g,i.memoizedState)&&(Fe=!0,J&&(o=fo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=P,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function bm(i){var s=Re(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);xn(g,s.memoizedState)||(Fe=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function N_(i,s,o){var u=Ct,d=Re(),g=zt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!xn((Xt||d).memoizedState,o);b&&(d.memoizedState=o,Fe=!0),d=d.queue;var w=V_.bind(null,u,d,i);if(Ql(2048,8,w,[i]),d.getSnapshot!==s||b||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,yo(9,dh(),O_.bind(null,u,d,o,s),null),ee===null)throw Error(r(349));g||(zr&124)!==0||P_(u,s,o)}return o}function P_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ct.updateQueue,s===null?(s=_m(),Ct.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function O_(i,s,o,u){s.value=o,s.getSnapshot=u,M_(s)&&k_(i)}function V_(i,s,o){return o(function(){M_(s)&&k_(i)})}function M_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!xn(i,o)}catch{return!0}}function k_(i){var s=oo(i,2);s!==null&&On(s,i,2)}function wm(i){var s=pn();if(typeof i=="function"){var o=i;if(i=o(),ha){Sn(!0);try{o()}finally{Sn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:i},s}function L_(i,s,o,u){return i.baseState=o,Em(i,Xt,typeof u=="function"?u:lr)}function bC(i,s,o,u,d){if(ph(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Z.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,U_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function U_(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=Z.T,b={};Z.T=b;try{var w=o(d,u),P=Z.S;P!==null&&P(b,w),F_(i,s,w)}catch(Y){Am(i,s,Y)}finally{Z.T=g}}else try{g=o(d,u),F_(i,s,g)}catch(Y){Am(i,s,Y)}}function F_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){j_(i,s,u)},function(u){return Am(i,s,u)}):j_(i,s,o)}function j_(i,s,o){s.status="fulfilled",s.value=o,B_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,U_(i,o)))}function Am(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,B_(s),s=s.next;while(s!==u)}i.action=null}function B_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function z_(i,s){return s}function H_(i,s){if(zt){var o=ee.formState;if(o!==null){t:{var u=Ct;if(zt){if(fe){e:{for(var d=fe,g=wi;d.nodeType!==8;){if(!g){d=null;break e}if(d=si(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){fe=si(d.nextSibling),u=d.data==="F!";break t}}oa(u)}u=!1}u&&(s=o[0])}}return o=pn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z_,lastRenderedState:s},o.queue=u,o=l0.bind(null,Ct,u),u.dispatch=o,u=wm(!1),g=Im.bind(null,Ct,!1,u.queue),u=pn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=bC.bind(null,Ct,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function q_(i){var s=Re();return G_(s,Xt,i)}function G_(i,s,o){if(s=Em(i,s,z_)[0],i=fh(lr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Xl(s)}catch(b){throw b===Hl?ah:b}else u=s;s=Re();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Ct.flags|=2048,yo(9,dh(),wC.bind(null,d,o),null)),[u,g,i]}function wC(i,s){i.action=s}function K_(i){var s=Re(),o=Xt;if(o!==null)return G_(s,o,i);Re(),s=s.memoizedState,o=Re();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function yo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=_m(),Ct.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function dh(){return{destroy:void 0,resource:void 0}}function Y_(){return Re().memoizedState}function mh(i,s,o,u){var d=pn();u=u===void 0?null:u,Ct.flags|=i,d.memoizedState=yo(1|s,dh(),o,u)}function Ql(i,s,o,u){var d=Re();u=u===void 0?null:u;var g=d.memoizedState.inst;Xt!==null&&u!==null&&mm(u,Xt.memoizedState.deps)?d.memoizedState=yo(s,g,o,u):(Ct.flags|=i,d.memoizedState=yo(1|s,g,o,u))}function $_(i,s){mh(8390656,8,i,s)}function X_(i,s){Ql(2048,8,i,s)}function Q_(i,s){return Ql(4,2,i,s)}function W_(i,s){return Ql(4,4,i,s)}function Z_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function J_(i,s,o){o=o!=null?o.concat([i]):null,Ql(4,4,Z_.bind(null,s,i),o)}function Sm(){}function t0(i,s){var o=Re();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&mm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function e0(i,s){var o=Re();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&mm(s,u[1]))return u[0];if(u=i(),ha){Sn(!0);try{i()}finally{Sn(!1)}}return o.memoizedState=[u,s],u}function Rm(i,s,o){return o===void 0||(zr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=rT(),Ct.lanes|=i,Xr|=i,o)}function n0(i,s,o,u){return xn(o,s)?o:mo.current!==null?(i=Rm(i,o,u),xn(i,s)||(Fe=!0),i):(zr&42)===0?(Fe=!0,i.memoizedState=o):(i=rT(),Ct.lanes|=i,Xr|=i,s)}function i0(i,s,o,u,d){var g=at.p;at.p=g!==0&&8>g?g:8;var b=Z.T,w={};Z.T=w,Im(i,!1,s,o);try{var P=d(),Y=Z.S;if(Y!==null&&Y(w,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var J=_C(P,u);Wl(i,s,J,Pn(i))}else Wl(i,s,u,Pn(i))}catch(et){Wl(i,s,{then:function(){},status:"rejected",reason:et},Pn())}finally{at.p=g,Z.T=b}}function AC(){}function xm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=r0(i).queue;i0(i,d,s,ft,o===null?AC:function(){return s0(i),o(u)})}function r0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:ft},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function s0(i){var s=r0(i).next.queue;Wl(i,s,{},Pn())}function Cm(){return tn(pu)}function a0(){return Re().memoizedState}function o0(){return Re().memoizedState}function SC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Pn();i=jr(o);var u=Br(s,i,o);u!==null&&(On(u,s,o),Gl(u,s,o)),s={cache:rm()},i.payload=s;return}s=s.return}}function RC(i,s,o){var u=Pn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ph(i)?u0(s,o):(o=$d(i,s,o,u),o!==null&&(On(o,i,u),c0(o,s,u)))}function l0(i,s,o){var u=Pn();Wl(i,s,o,u)}function Wl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ph(i))u0(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,w=g(b,o);if(d.hasEagerState=!0,d.eagerState=w,xn(w,b))return Zc(i,s,d,0),ee===null&&Wc(),!1}catch{}finally{}if(o=$d(i,s,d,u),o!==null)return On(o,i,u),c0(o,s,u),!0}return!1}function Im(i,s,o,u){if(u={lane:2,revertLane:op(),action:u,hasEagerState:!1,eagerState:null,next:null},ph(i)){if(s)throw Error(r(479))}else s=$d(i,o,u,2),s!==null&&On(s,i,2)}function ph(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function u0(i,s){po=uh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function c0(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,_l(i,o)}}var gh={readContext:tn,use:hh,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},h0={readContext:tn,use:hh,useCallback:function(i,s){return pn().memoizedState=[i,s===void 0?null:s],i},useContext:tn,useEffect:$_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,mh(4194308,4,Z_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return mh(4194308,4,i,s)},useInsertionEffect:function(i,s){mh(4,2,i,s)},useMemo:function(i,s){var o=pn();s=s===void 0?null:s;var u=i();if(ha){Sn(!0);try{i()}finally{Sn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=pn();if(o!==void 0){var d=o(s);if(ha){Sn(!0);try{o(s)}finally{Sn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=RC.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var s=pn();return i={current:i},s.memoizedState=i},useState:function(i){i=wm(i);var s=i.queue,o=l0.bind(null,Ct,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Sm,useDeferredValue:function(i,s){var o=pn();return Rm(o,i,s)},useTransition:function(){var i=wm(!1);return i=i0.bind(null,Ct,i.queue,!0,!1),pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ct,d=pn();if(zt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ee===null)throw Error(r(349));(Ft&124)!==0||P_(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,$_(V_.bind(null,u,g,i),[i]),u.flags|=2048,yo(9,dh(),O_.bind(null,u,g,o,s),null),o},useId:function(){var i=pn(),s=ee.identifierPrefix;if(zt){var o=sr,u=rr;o=(u&~(1<<32-Je(u)-1)).toString(32)+o,s=""+s+"R"+o,o=ch++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=TC++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Cm,useFormState:H_,useActionState:H_,useOptimistic:function(i){var s=pn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Im.bind(null,Ct,!0,o),o.dispatch=s,[i,s]},useMemoCache:Tm,useCacheRefresh:function(){return pn().memoizedState=SC.bind(null,Ct)}},f0={readContext:tn,use:hh,useCallback:t0,useContext:tn,useEffect:X_,useImperativeHandle:J_,useInsertionEffect:Q_,useLayoutEffect:W_,useMemo:e0,useReducer:fh,useRef:Y_,useState:function(){return fh(lr)},useDebugValue:Sm,useDeferredValue:function(i,s){var o=Re();return n0(o,Xt.memoizedState,i,s)},useTransition:function(){var i=fh(lr)[0],s=Re().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:N_,useId:a0,useHostTransitionStatus:Cm,useFormState:q_,useActionState:q_,useOptimistic:function(i,s){var o=Re();return L_(o,Xt,i,s)},useMemoCache:Tm,useCacheRefresh:o0},xC={readContext:tn,use:hh,useCallback:t0,useContext:tn,useEffect:X_,useImperativeHandle:J_,useInsertionEffect:Q_,useLayoutEffect:W_,useMemo:e0,useReducer:bm,useRef:Y_,useState:function(){return bm(lr)},useDebugValue:Sm,useDeferredValue:function(i,s){var o=Re();return Xt===null?Rm(o,i,s):n0(o,Xt.memoizedState,i,s)},useTransition:function(){var i=bm(lr)[0],s=Re().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:N_,useId:a0,useHostTransitionStatus:Cm,useFormState:K_,useActionState:K_,useOptimistic:function(i,s){var o=Re();return Xt!==null?L_(o,Xt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Tm,useCacheRefresh:o0},vo=null,Zl=0;function yh(i){var s=Zl;return Zl+=1,vo===null&&(vo=[]),w_(vo,i,s)}function Jl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function vh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function d0(i){var s=i._init;return s(i._payload)}function m0(i){function s(H,U){if(i){var K=H.deletions;K===null?(H.deletions=[U],H.flags|=16):K.push(U)}}function o(H,U){if(!i)return null;for(;U!==null;)s(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function d(H,U){return H=ir(H,U),H.index=0,H.sibling=null,H}function g(H,U,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<U?(H.flags|=67108866,U):K):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function b(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function w(H,U,K,tt){return U===null||U.tag!==6?(U=Qd(K,H.mode,tt),U.return=H,U):(U=d(U,K),U.return=H,U)}function P(H,U,K,tt){var dt=K.type;return dt===C?J(H,U,K.props.children,tt,K.key):U!==null&&(U.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===x&&d0(dt)===U.type)?(U=d(U,K.props),Jl(U,K),U.return=H,U):(U=th(K.type,K.key,K.props,null,H.mode,tt),Jl(U,K),U.return=H,U)}function Y(H,U,K,tt){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=Wd(K,H.mode,tt),U.return=H,U):(U=d(U,K.children||[]),U.return=H,U)}function J(H,U,K,tt,dt){return U===null||U.tag!==7?(U=ia(K,H.mode,tt,dt),U.return=H,U):(U=d(U,K),U.return=H,U)}function et(H,U,K){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Qd(""+U,H.mode,K),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return K=th(U.type,U.key,U.props,null,H.mode,K),Jl(K,U),K.return=H,K;case S:return U=Wd(U,H.mode,K),U.return=H,U;case x:var tt=U._init;return U=tt(U._payload),et(H,U,K)}if(ne(U)||B(U))return U=ia(U,H.mode,K,null),U.return=H,U;if(typeof U.then=="function")return et(H,yh(U),K);if(U.$$typeof===q)return et(H,rh(H,U),K);vh(H,U)}return null}function $(H,U,K,tt){var dt=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return dt!==null?null:w(H,U,""+K,tt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===dt?P(H,U,K,tt):null;case S:return K.key===dt?Y(H,U,K,tt):null;case x:return dt=K._init,K=dt(K._payload),$(H,U,K,tt)}if(ne(K)||B(K))return dt!==null?null:J(H,U,K,tt,null);if(typeof K.then=="function")return $(H,U,yh(K),tt);if(K.$$typeof===q)return $(H,U,rh(H,K),tt);vh(H,K)}return null}function X(H,U,K,tt,dt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return H=H.get(K)||null,w(U,H,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case E:return H=H.get(tt.key===null?K:tt.key)||null,P(U,H,tt,dt);case S:return H=H.get(tt.key===null?K:tt.key)||null,Y(U,H,tt,dt);case x:var Nt=tt._init;return tt=Nt(tt._payload),X(H,U,K,tt,dt)}if(ne(tt)||B(tt))return H=H.get(K)||null,J(U,H,tt,dt,null);if(typeof tt.then=="function")return X(H,U,K,yh(tt),dt);if(tt.$$typeof===q)return X(H,U,K,rh(U,tt),dt);vh(U,tt)}return null}function bt(H,U,K,tt){for(var dt=null,Nt=null,mt=U,_t=U=0,Be=null;mt!==null&&_t<K.length;_t++){mt.index>_t?(Be=mt,mt=null):Be=mt.sibling;var Bt=$(H,mt,K[_t],tt);if(Bt===null){mt===null&&(mt=Be);break}i&&mt&&Bt.alternate===null&&s(H,mt),U=g(Bt,U,_t),Nt===null?dt=Bt:Nt.sibling=Bt,Nt=Bt,mt=Be}if(_t===K.length)return o(H,mt),zt&&sa(H,_t),dt;if(mt===null){for(;_t<K.length;_t++)mt=et(H,K[_t],tt),mt!==null&&(U=g(mt,U,_t),Nt===null?dt=mt:Nt.sibling=mt,Nt=mt);return zt&&sa(H,_t),dt}for(mt=u(mt);_t<K.length;_t++)Be=X(mt,H,_t,K[_t],tt),Be!==null&&(i&&Be.alternate!==null&&mt.delete(Be.key===null?_t:Be.key),U=g(Be,U,_t),Nt===null?dt=Be:Nt.sibling=Be,Nt=Be);return i&&mt.forEach(function(rs){return s(H,rs)}),zt&&sa(H,_t),dt}function vt(H,U,K,tt){if(K==null)throw Error(r(151));for(var dt=null,Nt=null,mt=U,_t=U=0,Be=null,Bt=K.next();mt!==null&&!Bt.done;_t++,Bt=K.next()){mt.index>_t?(Be=mt,mt=null):Be=mt.sibling;var rs=$(H,mt,Bt.value,tt);if(rs===null){mt===null&&(mt=Be);break}i&&mt&&rs.alternate===null&&s(H,mt),U=g(rs,U,_t),Nt===null?dt=rs:Nt.sibling=rs,Nt=rs,mt=Be}if(Bt.done)return o(H,mt),zt&&sa(H,_t),dt;if(mt===null){for(;!Bt.done;_t++,Bt=K.next())Bt=et(H,Bt.value,tt),Bt!==null&&(U=g(Bt,U,_t),Nt===null?dt=Bt:Nt.sibling=Bt,Nt=Bt);return zt&&sa(H,_t),dt}for(mt=u(mt);!Bt.done;_t++,Bt=K.next())Bt=X(mt,H,_t,Bt.value,tt),Bt!==null&&(i&&Bt.alternate!==null&&mt.delete(Bt.key===null?_t:Bt.key),U=g(Bt,U,_t),Nt===null?dt=Bt:Nt.sibling=Bt,Nt=Bt);return i&&mt.forEach(function(C2){return s(H,C2)}),zt&&sa(H,_t),dt}function Wt(H,U,K,tt){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:t:{for(var dt=K.key;U!==null;){if(U.key===dt){if(dt=K.type,dt===C){if(U.tag===7){o(H,U.sibling),tt=d(U,K.props.children),tt.return=H,H=tt;break t}}else if(U.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===x&&d0(dt)===U.type){o(H,U.sibling),tt=d(U,K.props),Jl(tt,K),tt.return=H,H=tt;break t}o(H,U);break}else s(H,U);U=U.sibling}K.type===C?(tt=ia(K.props.children,H.mode,tt,K.key),tt.return=H,H=tt):(tt=th(K.type,K.key,K.props,null,H.mode,tt),Jl(tt,K),tt.return=H,H=tt)}return b(H);case S:t:{for(dt=K.key;U!==null;){if(U.key===dt)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){o(H,U.sibling),tt=d(U,K.children||[]),tt.return=H,H=tt;break t}else{o(H,U);break}else s(H,U);U=U.sibling}tt=Wd(K,H.mode,tt),tt.return=H,H=tt}return b(H);case x:return dt=K._init,K=dt(K._payload),Wt(H,U,K,tt)}if(ne(K))return bt(H,U,K,tt);if(B(K)){if(dt=B(K),typeof dt!="function")throw Error(r(150));return K=dt.call(K),vt(H,U,K,tt)}if(typeof K.then=="function")return Wt(H,U,yh(K),tt);if(K.$$typeof===q)return Wt(H,U,rh(H,K),tt);vh(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,U!==null&&U.tag===6?(o(H,U.sibling),tt=d(U,K),tt.return=H,H=tt):(o(H,U),tt=Qd(K,H.mode,tt),tt.return=H,H=tt),b(H)):o(H,U)}return function(H,U,K,tt){try{Zl=0;var dt=Wt(H,U,K,tt);return vo=null,dt}catch(mt){if(mt===Hl||mt===ah)throw mt;var Nt=Cn(29,mt,null,H.mode);return Nt.lanes=tt,Nt.return=H,Nt}finally{}}}var _o=m0(!0),p0=m0(!1),Yn=rt(null),Ai=null;function Hr(i){var s=i.alternate;ot(Pe,Pe.current&1),ot(Yn,i),Ai===null&&(s===null||mo.current!==null||s.memoizedState!==null)&&(Ai=i)}function g0(i){if(i.tag===22){if(ot(Pe,Pe.current),ot(Yn,i),Ai===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Ai=i)}}else qr()}function qr(){ot(Pe,Pe.current),ot(Yn,Yn.current)}function ur(i){ut(Yn),Ai===i&&(Ai=null),ut(Pe)}var Pe=rt(0);function _h(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||_p(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Dm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Nm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Pn(),d=jr(u);d.payload=s,o!=null&&(d.callback=o),s=Br(i,d,u),s!==null&&(On(s,i,u),Gl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Pn(),d=jr(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Br(i,d,u),s!==null&&(On(s,i,u),Gl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Pn(),u=jr(o);u.tag=2,s!=null&&(u.callback=s),s=Br(i,u,o),s!==null&&(On(s,i,o),Gl(s,i,o))}};function y0(i,s,o,u,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!Ml(o,u)||!Ml(d,g):!0}function v0(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Nm.enqueueReplaceState(s,s.state,null)}function fa(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function _0(i){Th(i)}function T0(i){console.error(i)}function E0(i){Th(i)}function Eh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function b0(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Pm(i,s,o){return o=jr(o),o.tag=3,o.payload={element:null},o.callback=function(){Eh(i,s)},o}function w0(i){return i=jr(i),i.tag=3,i}function A0(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){b0(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){b0(s,o,u),typeof d!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function CC(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&jl(s,o,d,!0),o=Yn.current,o!==null){switch(o.tag){case 13:return Ai===null?np():o.alternate===null&&de===0&&(de=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===om?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),rp(i,u,d)),!1;case 22:return o.flags|=65536,u===om?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),rp(i,u,d)),!1}throw Error(r(435,o.tag))}return rp(i,u,d),np(),!1}if(zt)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==tm&&(i=Error(r(422),{cause:u}),Fl(Hn(i,o)))):(u!==tm&&(s=Error(r(423),{cause:u}),Fl(Hn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Hn(u,o),d=Pm(i.stateNode,u,d),cm(i,d),de!==4&&(de=2)),!1;var g=Error(r(520),{cause:u});if(g=Hn(g,o),au===null?au=[g]:au.push(g),de!==4&&(de=2),s===null)return!0;u=Hn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Pm(o.stateNode,u,i),cm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qr===null||!Qr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=w0(d),A0(d,i,o,u),cm(o,d),!1}o=o.return}while(o!==null);return!1}var S0=Error(r(461)),Fe=!1;function Ge(i,s,o,u){s.child=i===null?p0(s,null,o,u):_o(s,i.child,o,u)}function R0(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var w in u)w!=="ref"&&(b[w]=u[w])}else b=u;return ua(s),u=pm(i,s,o,b,g,d),w=gm(),i!==null&&!Fe?(ym(i,s,d),cr(i,s,d)):(zt&&w&&Zd(s),s.flags|=1,Ge(i,s,u,d),s.child)}function x0(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Xd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,C0(i,s,g,u,d)):(i=th(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!jm(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ml,o(b,u)&&i.ref===s.ref)return cr(i,s,d)}return s.flags|=1,i=ir(g,u),i.ref=s.ref,i.return=s,s.child=i}function C0(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(Ml(g,u)&&i.ref===s.ref)if(Fe=!1,s.pendingProps=u=g,jm(i,d))(i.flags&131072)!==0&&(Fe=!0);else return s.lanes=i.lanes,cr(i,s,d)}return Om(i,s,o,u,d)}function I0(i,s,o){var u=s.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return D0(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&sh(s,g!==null?g.cachePool:null),g!==null?C_(s,g):fm(),g0(s);else return s.lanes=s.childLanes=536870912,D0(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(sh(s,g.cachePool),C_(s,g),qr(),s.memoizedState=null):(i!==null&&sh(s,null),fm(),qr());return Ge(i,s,d,o),s.child}function D0(i,s,o,u){var d=am();return d=d===null?null:{parent:Ne._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&sh(s,null),fm(),g0(s),i!==null&&jl(i,s,u,!0),null}function bh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Om(i,s,o,u,d){return ua(s),o=pm(i,s,o,u,void 0,d),u=gm(),i!==null&&!Fe?(ym(i,s,d),cr(i,s,d)):(zt&&u&&Zd(s),s.flags|=1,Ge(i,s,o,d),s.child)}function N0(i,s,o,u,d,g){return ua(s),s.updateQueue=null,o=D_(s,u,o,d),I_(i),u=gm(),i!==null&&!Fe?(ym(i,s,g),cr(i,s,g)):(zt&&u&&Zd(s),s.flags|=1,Ge(i,s,o,g),s.child)}function P0(i,s,o,u,d){if(ua(s),s.stateNode===null){var g=lo,b=o.contextType;typeof b=="object"&&b!==null&&(g=tn(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Nm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},lm(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?tn(b):lo,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Dm(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Nm.enqueueReplaceState(g,g.state,null),Yl(s,u,g,d),Kl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,P=fa(o,w);g.props=P;var Y=g.context,J=o.contextType;b=lo,typeof J=="object"&&J!==null&&(b=tn(J));var et=o.getDerivedStateFromProps;J=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Y!==b)&&v0(s,g,u,b),Fr=!1;var $=s.memoizedState;g.state=$,Yl(s,u,g,d),Kl(),Y=s.memoizedState,w||$!==Y||Fr?(typeof et=="function"&&(Dm(s,o,et,u),Y=s.memoizedState),(P=Fr||y0(s,o,P,u,$,Y,b))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),g.props=u,g.state=Y,g.context=b,u=P):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,um(i,s),b=s.memoizedProps,J=fa(o,b),g.props=J,et=s.pendingProps,$=g.context,Y=o.contextType,P=lo,typeof Y=="object"&&Y!==null&&(P=tn(Y)),w=o.getDerivedStateFromProps,(Y=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==et||$!==P)&&v0(s,g,u,P),Fr=!1,$=s.memoizedState,g.state=$,Yl(s,u,g,d),Kl();var X=s.memoizedState;b!==et||$!==X||Fr||i!==null&&i.dependencies!==null&&ih(i.dependencies)?(typeof w=="function"&&(Dm(s,o,w,u),X=s.memoizedState),(J=Fr||y0(s,o,J,u,$,X,P)||i!==null&&i.dependencies!==null&&ih(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,P)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=P,u=J):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&$===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,bh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=_o(s,i.child,null,d),s.child=_o(s,null,o,d)):Ge(i,s,o,d),s.memoizedState=g.state,i=s.child):i=cr(i,s,d),i}function O0(i,s,o,u){return Ul(),s.flags|=256,Ge(i,s,o,u),s.child}var Vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mm(i){return{baseLanes:i,cachePool:T_()}}function km(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=$n),i}function V0(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Pe.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(zt){if(d?Hr(s):qr(),zt){var w=fe,P;if(P=w){t:{for(P=w,w=wi;P.nodeType!==8;){if(!w){w=null;break t}if(P=si(P.nextSibling),P===null){w=null;break t}}w=P}w!==null?(s.memoizedState={dehydrated:w,treeContext:ra!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},P=Cn(18,null,null,0),P.stateNode=w,P.return=s,s.child=P,fn=s,fe=null,P=!0):P=!1}P||oa(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return _p(w)?s.lanes=32:s.lanes=536870912,null;ur(s)}return w=u.children,u=u.fallback,d?(qr(),d=s.mode,w=wh({mode:"hidden",children:w},d),u=ia(u,d,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,d=s.child,d.memoizedState=Mm(o),d.childLanes=km(i,b,o),s.memoizedState=Vm,u):(Hr(s),Lm(s,w))}if(P=i.memoizedState,P!==null&&(w=P.dehydrated,w!==null)){if(g)s.flags&256?(Hr(s),s.flags&=-257,s=Um(i,s,o)):s.memoizedState!==null?(qr(),s.child=i.child,s.flags|=128,s=null):(qr(),d=u.fallback,w=s.mode,u=wh({mode:"visible",children:u.children},w),d=ia(d,w,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,_o(s,i.child,null,o),u=s.child,u.memoizedState=Mm(o),u.childLanes=km(i,b,o),s.memoizedState=Vm,s=d);else if(Hr(s),_p(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Y=b.dgst;b=Y,u=Error(r(419)),u.stack="",u.digest=b,Fl({value:u,source:null,stack:null}),s=Um(i,s,o)}else if(Fe||jl(i,s,o,!1),b=(o&i.childLanes)!==0,Fe||b){if(b=ee,b!==null&&(u=o&-o,u=(u&42)!==0?1:Nr(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,oo(i,u),On(b,i,u),S0;w.data==="$?"||np(),s=Um(i,s,o)}else w.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=P.treeContext,fe=si(w.nextSibling),fn=s,zt=!0,aa=null,wi=!1,i!==null&&(Gn[Kn++]=rr,Gn[Kn++]=sr,Gn[Kn++]=ra,rr=i.id,sr=i.overflow,ra=s),s=Lm(s,u.children),s.flags|=4096);return s}return d?(qr(),d=u.fallback,w=s.mode,P=i.child,Y=P.sibling,u=ir(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,Y!==null?d=ir(Y,d):(d=ia(d,w,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,w=i.child.memoizedState,w===null?w=Mm(o):(P=w.cachePool,P!==null?(Y=Ne._currentValue,P=P.parent!==Y?{parent:Y,pool:Y}:P):P=T_(),w={baseLanes:w.baseLanes|o,cachePool:P}),d.memoizedState=w,d.childLanes=km(i,b,o),s.memoizedState=Vm,u):(Hr(s),o=i.child,i=o.sibling,o=ir(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function Lm(i,s){return s=wh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function wh(i,s){return i=Cn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Um(i,s,o){return _o(s,i.child,null,o),i=Lm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function M0(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),nm(i.return,s,o)}function Fm(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function k0(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Ge(i,s,u.children,o),u=Pe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&M0(i,o,s);else if(i.tag===19)M0(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ot(Pe,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&_h(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Fm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&_h(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Fm(s,!0,o,null,g);break;case"together":Fm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Xr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(jl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=ir(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=ir(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function jm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ih(i)))}function IC(i,s,o){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),Ur(s,Ne,i.memoizedState.cache),Ul();break;case 27:case 5:Dr(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:Ur(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Hr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?V0(i,s,o):(Hr(s),i=cr(i,s,o),i!==null?i.sibling:null);Hr(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(jl(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return k0(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ot(Pe,Pe.current),u)break;return null;case 22:case 23:return s.lanes=0,I0(i,s,o);case 24:Ur(s,Ne,i.memoizedState.cache)}return cr(i,s,o)}function L0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Fe=!0;else{if(!jm(i,o)&&(s.flags&128)===0)return Fe=!1,IC(i,s,o);Fe=(i.flags&131072)!==0}else Fe=!1,zt&&(s.flags&1048576)!==0&&d_(s,nh,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Xd(u)?(i=fa(u,i),s.tag=1,s=P0(null,s,u,i,o)):(s.tag=0,s=Om(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===it){s.tag=11,s=R0(null,s,u,i,o);break t}else if(d===M){s.tag=14,s=x0(null,s,u,i,o);break t}}throw s=Jt(u)||u,Error(r(306,s,""))}}return s;case 0:return Om(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=fa(u,s.pendingProps),P0(i,s,u,d,o);case 3:t:{if(te(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,um(i,s),Yl(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Ur(s,Ne,u),u!==g.cache&&im(s,[Ne],o,!0),Kl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=O0(i,s,u,o);break t}else if(u!==d){d=Hn(Error(r(424)),s),Fl(d),s=O0(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=si(i.firstChild),fn=s,zt=!0,aa=null,wi=!0,o=p0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ul(),u===d){s=cr(i,s,o);break t}Ge(i,s,u,o)}s=s.child}return s;case 26:return bh(i,s),i===null?(o=BT(s.type,null,s.pendingProps,null))?s.memoizedState=o:zt||(o=s.type,i=s.pendingProps,u=Lh(At.current).createElement(o),u[Ce]=s,u[we]=i,Ye(u,o,i),ve(u),s.stateNode=u):s.memoizedState=BT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Dr(s),i===null&&zt&&(u=s.stateNode=UT(s.type,s.pendingProps,At.current),fn=s,wi=!0,d=fe,Jr(s.type)?(Tp=d,fe=si(u.firstChild)):fe=d),Ge(i,s,s.pendingProps.children,o),bh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&zt&&((d=u=fe)&&(u=i2(u,s.type,s.pendingProps,wi),u!==null?(s.stateNode=u,fn=s,fe=si(u.firstChild),wi=!1,d=!0):d=!1),d||oa(s)),Dr(s),d=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,gp(d,g)?u=null:b!==null&&gp(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=pm(i,s,EC,null,null,o),pu._currentValue=d),bh(i,s),Ge(i,s,u,o),s.child;case 6:return i===null&&zt&&((i=o=fe)&&(o=r2(o,s.pendingProps,wi),o!==null?(s.stateNode=o,fn=s,fe=null,i=!0):i=!1),i||oa(s)),null;case 13:return V0(i,s,o);case 4:return te(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=_o(s,null,u,o):Ge(i,s,u,o),s.child;case 11:return R0(i,s,s.type,s.pendingProps,o);case 7:return Ge(i,s,s.pendingProps,o),s.child;case 8:return Ge(i,s,s.pendingProps.children,o),s.child;case 12:return Ge(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ur(s,s.type,u.value),Ge(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ua(s),d=tn(d),u=u(d),s.flags|=1,Ge(i,s,u,o),s.child;case 14:return x0(i,s,s.type,s.pendingProps,o);case 15:return C0(i,s,s.type,s.pendingProps,o);case 19:return k0(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=wh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=ir(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return I0(i,s,o);case 24:return ua(s),u=tn(Ne),i===null?(d=am(),d===null&&(d=ee,g=rm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},lm(s),Ur(s,Ne,d)):((i.lanes&o)!==0&&(um(i,s),Yl(s,null,null,o),Kl()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ur(s,Ne,u)):(u=g.cache,Ur(s,Ne,u),u!==d.cache&&im(s,[Ne],o,!0))),Ge(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function hr(i){i.flags|=4}function U0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!KT(s)){if(s=Yn.current,s!==null&&((Ft&4194048)===Ft?Ai!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||s!==Ai))throw ql=om,E_;i.flags|=8192}}function Ah(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?yl():536870912,i.lanes|=s,wo|=s)}function tu(i,s){if(!zt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ae(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function DC(i,s,o){var u=s.pendingProps;switch(Jd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(s),null;case 1:return ae(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),or(Ne),hi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ll(s)?hr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,g_())),ae(s),null;case 26:return o=s.memoizedState,i===null?(hr(s),o!==null?(ae(s),U0(s,o)):(ae(s),s.flags&=-16777217)):o?o!==i.memoizedState?(hr(s),ae(s),U0(s,o)):(ae(s),s.flags&=-16777217):(i.memoizedProps!==u&&hr(s),ae(s),s.flags&=-16777217),null;case 27:qi(s),o=At.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&hr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ae(s),null}i=gt.current,Ll(s)?m_(s):(i=UT(d,u,o),s.stateNode=i,hr(s))}return ae(s),null;case 5:if(qi(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&hr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ae(s),null}if(i=gt.current,Ll(s))m_(s);else{switch(d=Lh(At.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[Ce]=s,i[we]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;t:switch(Ye(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&hr(s)}}return ae(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&hr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=At.current,Ll(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=fn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[Ce]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||NT(i.nodeValue,o)),i||oa(s)}else i=Lh(i).createTextNode(u),i[Ce]=s,s.stateNode=i}return ae(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ll(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ce]=s}else Ul(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ae(s),d=!1}else d=g_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(ur(s),s):(ur(s),null)}if(ur(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Ah(s,s.updateQueue),ae(s),null;case 4:return hi(),i===null&&hp(s.stateNode.containerInfo),ae(s),null;case 10:return or(s.type),ae(s),null;case 19:if(ut(Pe),d=s.memoizedState,d===null)return ae(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)tu(d,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=_h(i),g!==null){for(s.flags|=128,tu(d,!1),i=g.updateQueue,s.updateQueue=i,Ah(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)f_(o,i),o=o.sibling;return ot(Pe,Pe.current&1|2),s.child}i=i.sibling}d.tail!==null&&Ln()>xh&&(s.flags|=128,u=!0,tu(d,!1),s.lanes=4194304)}else{if(!u)if(i=_h(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Ah(s,i),tu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!zt)return ae(s),null}else 2*Ln()-d.renderingStartTime>xh&&o!==536870912&&(s.flags|=128,u=!0,tu(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Ln(),s.sibling=null,i=Pe.current,ot(Pe,u?i&1|2:i&1),s):(ae(s),null);case 22:case 23:return ur(s),dm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(ae(s),s.subtreeFlags&6&&(s.flags|=8192)):ae(s),o=s.updateQueue,o!==null&&Ah(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ut(ca),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),or(Ne),ae(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function NC(i,s){switch(Jd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return or(Ne),hi(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return qi(s),null;case 13:if(ur(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ul()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ut(Pe),null;case 4:return hi(),null;case 10:return or(s.type),null;case 22:case 23:return ur(s),dm(),i!==null&&ut(ca),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return or(Ne),null;case 25:return null;default:return null}}function F0(i,s){switch(Jd(s),s.tag){case 3:or(Ne),hi();break;case 26:case 27:case 5:qi(s);break;case 4:hi();break;case 13:ur(s);break;case 19:ut(Pe);break;case 10:or(s.type);break;case 22:case 23:ur(s),dm(),i!==null&&ut(ca);break;case 24:or(Ne)}}function eu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(w){Zt(s,s.return,w)}}function Gr(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var b=u.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=s;var P=o,Y=w;try{Y()}catch(J){Zt(d,P,J)}}}u=u.next}while(u!==g)}}catch(J){Zt(s,s.return,J)}}function j0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{x_(s,o)}catch(u){Zt(i,i.return,u)}}}function B0(i,s,o){o.props=fa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,s,u)}}function nu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Zt(i,s,d)}}function Si(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Zt(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Zt(i,s,d)}else o.current=null}function z0(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Zt(i,i.return,d)}}function Bm(i,s,o){try{var u=i.stateNode;ZC(u,i.type,o,s),u[we]=s}catch(d){Zt(i,i.return,d)}}function H0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Jr(i.type)||i.tag===4}function zm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||H0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Jr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Hm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=kh));else if(u!==4&&(u===27&&Jr(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Hm(i,s,o),i=i.sibling;i!==null;)Hm(i,s,o),i=i.sibling}function Sh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Jr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Sh(i,s,o),i=i.sibling;i!==null;)Sh(i,s,o),i=i.sibling}function q0(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Ye(s,u,o),s[Ce]=i,s[we]=o}catch(g){Zt(i,i.return,g)}}var fr=!1,Te=!1,qm=!1,G0=typeof WeakSet=="function"?WeakSet:Set,je=null;function PC(i,s){if(i=i.containerInfo,mp=Hh,i=n_(i),zd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,w=-1,P=-1,Y=0,J=0,et=i,$=null;e:for(;;){for(var X;et!==o||d!==0&&et.nodeType!==3||(w=b+d),et!==g||u!==0&&et.nodeType!==3||(P=b+u),et.nodeType===3&&(b+=et.nodeValue.length),(X=et.firstChild)!==null;)$=et,et=X;for(;;){if(et===i)break e;if($===o&&++Y===d&&(w=b),$===g&&++J===u&&(P=b),(X=et.nextSibling)!==null)break;et=$,$=et.parentNode}et=X}o=w===-1||P===-1?null:{start:w,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:i,selectionRange:o},Hh=!1,je=s;je!==null;)if(s=je,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,je=i;else for(;je!==null;){switch(s=je,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var bt=fa(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(bt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Zt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)vp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,je=i;break}je=s.return}}function K0(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Kr(i,o),u&4&&eu(5,o);break;case 1:if(Kr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(b){Zt(o,o.return,b)}else{var d=fa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Zt(o,o.return,b)}}u&64&&j0(o),u&512&&nu(o,o.return);break;case 3:if(Kr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{x_(i,s)}catch(b){Zt(o,o.return,b)}}break;case 27:s===null&&u&4&&q0(o);case 26:case 5:Kr(i,o),s===null&&u&4&&z0(o),u&512&&nu(o,o.return);break;case 12:Kr(i,o);break;case 13:Kr(i,o),u&4&&X0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=BC.bind(null,o),s2(i,o))));break;case 22:if(u=o.memoizedState!==null||fr,!u){s=s!==null&&s.memoizedState!==null||Te,d=fr;var g=Te;fr=u,(Te=s)&&!g?Yr(i,o,(o.subtreeFlags&8772)!==0):Kr(i,o),fr=d,Te=g}break;case 30:break;default:Kr(i,o)}}function Y0(i){var s=i.alternate;s!==null&&(i.alternate=null,Y0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Vr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,gn=!1;function dr(i,s,o){for(o=o.child;o!==null;)$0(i,s,o),o=o.sibling}function $0(i,s,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(he,o)}catch{}switch(o.tag){case 26:Te||Si(o,s),dr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Te||Si(o,s);var u=re,d=gn;Jr(o.type)&&(re=o.stateNode,gn=!1),dr(i,s,o),hu(o.stateNode),re=u,gn=d;break;case 5:Te||Si(o,s);case 6:if(u=re,d=gn,re=null,dr(i,s,o),re=u,gn=d,re!==null)if(gn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(g){Zt(o,s,g)}else try{re.removeChild(o.stateNode)}catch(g){Zt(o,s,g)}break;case 18:re!==null&&(gn?(i=re,kT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),_u(i)):kT(re,o.stateNode));break;case 4:u=re,d=gn,re=o.stateNode.containerInfo,gn=!0,dr(i,s,o),re=u,gn=d;break;case 0:case 11:case 14:case 15:Te||Gr(2,o,s),Te||Gr(4,o,s),dr(i,s,o);break;case 1:Te||(Si(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&B0(o,s,u)),dr(i,s,o);break;case 21:dr(i,s,o);break;case 22:Te=(u=Te)||o.memoizedState!==null,dr(i,s,o),Te=u;break;default:dr(i,s,o)}}function X0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{_u(i)}catch(o){Zt(s,s.return,o)}}function OC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new G0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new G0),s;default:throw Error(r(435,i.tag))}}function Gm(i,s){var o=OC(i);s.forEach(function(u){var d=zC.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function In(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,b=s,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(Jr(w.type)){re=w.stateNode,gn=!1;break t}break;case 5:re=w.stateNode,gn=!1;break t;case 3:case 4:re=w.stateNode.containerInfo,gn=!0;break t}w=w.return}if(re===null)throw Error(r(160));$0(g,b,d),re=null,gn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Q0(s,i),s=s.sibling}var ri=null;function Q0(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:In(s,i),Dn(i),u&4&&(Gr(3,i,i.return),eu(3,i),Gr(5,i,i.return));break;case 1:In(s,i),Dn(i),u&512&&(Te||o===null||Si(o,o.return)),u&64&&fr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ri;if(In(s,i),Dn(i),u&512&&(Te||o===null||Si(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Bs]||g[Ce]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Ye(g,u,o),g[Ce]=i,ve(g),u=g;break t;case"link":var b=qT("link","href",d).get(u+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break e}}g=d.createElement(u),Ye(g,u,o),d.head.appendChild(g);break;case"meta":if(b=qT("meta","content",d).get(u+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break e}}g=d.createElement(u),Ye(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[Ce]=i,ve(g),u=g}i.stateNode=u}else GT(d,i.type,i.stateNode);else i.stateNode=HT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?GT(d,i.type,i.stateNode):HT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Bm(i,i.memoizedProps,o.memoizedProps)}break;case 27:In(s,i),Dn(i),u&512&&(Te||o===null||Si(o,o.return)),o!==null&&u&4&&Bm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(In(s,i),Dn(i),u&512&&(Te||o===null||Si(o,o.return)),i.flags&32){d=i.stateNode;try{Fn(d,"")}catch(X){Zt(i,i.return,X)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,Bm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(qm=!0);break;case 6:if(In(s,i),Dn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){Zt(i,i.return,X)}}break;case 3:if(jh=null,d=ri,ri=Uh(s.containerInfo),In(s,i),ri=d,Dn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{_u(s.containerInfo)}catch(X){Zt(i,i.return,X)}qm&&(qm=!1,W0(i));break;case 4:u=ri,ri=Uh(i.stateNode.containerInfo),In(s,i),Dn(i),ri=u;break;case 12:In(s,i),Dn(i);break;case 13:In(s,i),Dn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wm=Ln()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gm(i,u)));break;case 22:d=i.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,Y=fr,J=Te;if(fr=Y||d,Te=J||P,In(s,i),Te=J,fr=Y,Dn(i),u&8192)t:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||P||fr||Te||da(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){P=o=s;try{if(g=P.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=P.stateNode;var et=P.memoizedProps.style,$=et!=null&&et.hasOwnProperty("display")?et.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(X){Zt(P,P.return,X)}}}else if(s.tag===6){if(o===null){P=s;try{P.stateNode.nodeValue=d?"":P.memoizedProps}catch(X){Zt(P,P.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gm(i,o))));break;case 19:In(s,i),Dn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gm(i,u)));break;case 30:break;case 21:break;default:In(s,i),Dn(i)}}function Dn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(H0(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=zm(i);Sh(i,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(Fn(b,""),o.flags&=-33);var w=zm(i);Sh(i,w,b);break;case 3:case 4:var P=o.stateNode.containerInfo,Y=zm(i);Hm(i,Y,P);break;default:throw Error(r(161))}}catch(J){Zt(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function W0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;W0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Kr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)K0(i,s.alternate,s),s=s.sibling}function da(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Gr(4,s,s.return),da(s);break;case 1:Si(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&B0(s,s.return,o),da(s);break;case 27:hu(s.stateNode);case 26:case 5:Si(s,s.return),da(s);break;case 22:s.memoizedState===null&&da(s);break;case 30:da(s);break;default:da(s)}i=i.sibling}}function Yr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Yr(d,g,o),eu(4,g);break;case 1:if(Yr(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Y){Zt(u,u.return,Y)}if(u=g,d=u.updateQueue,d!==null){var w=u.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)R_(P[d],w)}catch(Y){Zt(u,u.return,Y)}}o&&b&64&&j0(g),nu(g,g.return);break;case 27:q0(g);case 26:case 5:Yr(d,g,o),o&&u===null&&b&4&&z0(g),nu(g,g.return);break;case 12:Yr(d,g,o);break;case 13:Yr(d,g,o),o&&b&4&&X0(d,g);break;case 22:g.memoizedState===null&&Yr(d,g,o),nu(g,g.return);break;case 30:break;default:Yr(d,g,o)}s=s.sibling}}function Km(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Bl(o))}function Ym(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bl(i))}function Ri(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Z0(i,s,o,u),s=s.sibling}function Z0(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ri(i,s,o,u),d&2048&&eu(9,s);break;case 1:Ri(i,s,o,u);break;case 3:Ri(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Bl(i)));break;case 12:if(d&2048){Ri(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){Zt(s,s.return,P)}}else Ri(i,s,o,u);break;case 13:Ri(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Ri(i,s,o,u):iu(i,s):g._visibility&2?Ri(i,s,o,u):(g._visibility|=2,To(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Km(b,s);break;case 24:Ri(i,s,o,u),d&2048&&Ym(s.alternate,s);break;default:Ri(i,s,o,u)}}function To(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,w=o,P=u,Y=b.flags;switch(b.tag){case 0:case 11:case 15:To(g,b,w,P,d),eu(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?To(g,b,w,P,d):iu(g,b):(J._visibility|=2,To(g,b,w,P,d)),d&&Y&2048&&Km(b.alternate,b);break;case 24:To(g,b,w,P,d),d&&Y&2048&&Ym(b.alternate,b);break;default:To(g,b,w,P,d)}s=s.sibling}}function iu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:iu(o,u),d&2048&&Km(u.alternate,u);break;case 24:iu(o,u),d&2048&&Ym(u.alternate,u);break;default:iu(o,u)}s=s.sibling}}var ru=8192;function Eo(i){if(i.subtreeFlags&ru)for(i=i.child;i!==null;)J0(i),i=i.sibling}function J0(i){switch(i.tag){case 26:Eo(i),i.flags&ru&&i.memoizedState!==null&&v2(ri,i.memoizedState,i.memoizedProps);break;case 5:Eo(i);break;case 3:case 4:var s=ri;ri=Uh(i.stateNode.containerInfo),Eo(i),ri=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=ru,ru=16777216,Eo(i),ru=s):Eo(i));break;default:Eo(i)}}function tT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function su(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];je=u,nT(u,i)}tT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)eT(i),i=i.sibling}function eT(i){switch(i.tag){case 0:case 11:case 15:su(i),i.flags&2048&&Gr(9,i,i.return);break;case 3:su(i);break;case 12:su(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Rh(i)):su(i);break;default:su(i)}}function Rh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];je=u,nT(u,i)}tT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Gr(8,s,s.return),Rh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Rh(s));break;default:Rh(s)}i=i.sibling}}function nT(i,s){for(;je!==null;){var o=je;switch(o.tag){case 0:case 11:case 15:Gr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,je=u;else t:for(o=i;je!==null;){u=je;var d=u.sibling,g=u.return;if(Y0(u),u===o){je=null;break t}if(d!==null){d.return=g,je=d;break t}je=g}}}var VC={getCacheForType:function(i){var s=tn(Ne),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},MC=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ee=null,Pt=null,Ft=0,Yt=0,Nn=null,$r=!1,bo=!1,$m=!1,mr=0,de=0,Xr=0,ma=0,Xm=0,$n=0,wo=0,au=null,yn=null,Qm=!1,Wm=0,xh=1/0,Ch=null,Qr=null,Ke=0,Wr=null,Ao=null,So=0,Zm=0,Jm=null,iT=null,ou=0,tp=null;function Pn(){if((Kt&2)!==0&&Ft!==0)return Ft&-Ft;if(Z.T!==null){var i=ho;return i!==0?i:op()}return Pr()}function rT(){$n===0&&($n=(Ft&536870912)===0||zt?gl():536870912);var i=Yn.current;return i!==null&&(i.flags|=32),$n}function On(i,s,o){(i===ee&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(Ro(i,0),Zr(i,Ft,$n,!1)),Ki(i,o),((Kt&2)===0||i!==ee)&&(i===ee&&((Kt&2)===0&&(ma|=o),de===4&&Zr(i,Ft,$n,!1)),xi(i))}function sT(i,s,o){if((Kt&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||js(i,s),d=u?UC(i,s):ip(i,s,!0),g=u;do{if(d===0){bo&&!u&&Zr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!kC(o)){d=ip(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var w=i;d=au;var P=w.current.memoizedState.isDehydrated;if(P&&(Ro(w,b).flags|=256),b=ip(w,b,!1),b!==2){if($m&&!P){w.errorRecoveryDisabledLanes|=g,ma|=g,d=4;break t}g=yn,yn=d,g!==null&&(yn===null?yn=g:yn.push.apply(yn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){Ro(i,0),Zr(i,s,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Zr(u,s,$n,!$r);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Wm+300-Ln(),10<d)){if(Zr(u,s,$n,!$r),za(u,0,!0)!==0)break t;u.timeoutHandle=VT(aT.bind(null,u,o,yn,Ch,Qm,s,$n,ma,wo,$r,g,2,-0,0),d);break t}aT(u,o,yn,Ch,Qm,s,$n,ma,wo,$r,g,0,-0,0)}}break}while(!0);xi(i)}function aT(i,s,o,u,d,g,b,w,P,Y,J,et,$,X){if(i.timeoutHandle=-1,et=s.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(mu={stylesheets:null,count:0,unsuspend:y2},J0(s),et=_2(),et!==null)){i.cancelPendingCommit=et(dT.bind(null,i,s,g,o,u,d,b,w,P,J,1,$,X)),Zr(i,g,b,!Y);return}dT(i,s,g,o,u,d,b,w,P)}function kC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!xn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zr(i,s,o,u){s&=~Xm,s&=~ma,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-Je(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&fi(i,o,s)}function Ih(){return(Kt&6)===0?(lu(0),!1):!0}function ep(){if(Pt!==null){if(Yt===0)var i=Pt.return;else i=Pt,ar=la=null,vm(i),vo=null,Zl=0,i=Pt;for(;i!==null;)F0(i.alternate,i),i=i.return;Pt=null}}function Ro(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,t2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ep(),ee=i,Pt=o=ir(i.current,null),Ft=s,Yt=0,Nn=null,$r=!1,bo=js(i,s),$m=!1,wo=$n=Xm=ma=Xr=de=0,yn=au=null,Qm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Je(u),g=1<<d;s|=i[d],u&=~g}return mr=s,Wc(),o}function oT(i,s){Ct=null,Z.H=gh,s===Hl||s===ah?(s=A_(),Yt=3):s===E_?(s=A_(),Yt=4):Yt=s===S0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nn=s,Pt===null&&(de=1,Eh(i,Hn(s,i.current)))}function lT(){var i=Z.H;return Z.H=gh,i===null?gh:i}function uT(){var i=Z.A;return Z.A=VC,i}function np(){de=4,$r||(Ft&4194048)!==Ft&&Yn.current!==null||(bo=!0),(Xr&134217727)===0&&(ma&134217727)===0||ee===null||Zr(ee,Ft,$n,!1)}function ip(i,s,o){var u=Kt;Kt|=2;var d=lT(),g=uT();(ee!==i||Ft!==s)&&(Ch=null,Ro(i,s)),s=!1;var b=de;t:do try{if(Yt!==0&&Pt!==null){var w=Pt,P=Nn;switch(Yt){case 8:ep(),b=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var Y=Yt;if(Yt=0,Nn=null,xo(i,w,P,Y),o&&bo){b=0;break t}break;default:Y=Yt,Yt=0,Nn=null,xo(i,w,P,Y)}}LC(),b=de;break}catch(J){oT(i,J)}while(!0);return s&&i.shellSuspendCounter++,ar=la=null,Kt=u,Z.H=d,Z.A=g,Pt===null&&(ee=null,Ft=0,Wc()),b}function LC(){for(;Pt!==null;)cT(Pt)}function UC(i,s){var o=Kt;Kt|=2;var u=lT(),d=uT();ee!==i||Ft!==s?(Ch=null,xh=Ln()+500,Ro(i,s)):bo=js(i,s);t:do try{if(Yt!==0&&Pt!==null){s=Pt;var g=Nn;e:switch(Yt){case 1:Yt=0,Nn=null,xo(i,s,g,1);break;case 2:case 9:if(b_(g)){Yt=0,Nn=null,hT(s);break}s=function(){Yt!==2&&Yt!==9||ee!==i||(Yt=7),xi(i)},g.then(s,s);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:b_(g)?(Yt=0,Nn=null,hT(s)):(Yt=0,Nn=null,xo(i,s,g,7));break;case 5:var b=null;switch(Pt.tag){case 26:b=Pt.memoizedState;case 5:case 27:var w=Pt;if(!b||KT(b)){Yt=0,Nn=null;var P=w.sibling;if(P!==null)Pt=P;else{var Y=w.return;Y!==null?(Pt=Y,Dh(Y)):Pt=null}break e}}Yt=0,Nn=null,xo(i,s,g,5);break;case 6:Yt=0,Nn=null,xo(i,s,g,6);break;case 8:ep(),de=6;break t;default:throw Error(r(462))}}FC();break}catch(J){oT(i,J)}while(!0);return ar=la=null,Z.H=u,Z.A=d,Kt=o,Pt!==null?0:(ee=null,Ft=0,Wc(),de)}function FC(){for(;Pt!==null&&!fl();)cT(Pt)}function cT(i){var s=L0(i.alternate,i,mr);i.memoizedProps=i.pendingProps,s===null?Dh(i):Pt=s}function hT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=N0(o,s,s.pendingProps,s.type,void 0,Ft);break;case 11:s=N0(o,s,s.pendingProps,s.type.render,s.ref,Ft);break;case 5:vm(s);default:F0(o,s),s=Pt=f_(s,mr),s=L0(o,s,mr)}i.memoizedProps=i.pendingProps,s===null?Dh(i):Pt=s}function xo(i,s,o,u){ar=la=null,vm(s),vo=null,Zl=0;var d=s.return;try{if(CC(i,d,s,o,Ft)){de=1,Eh(i,Hn(o,i.current)),Pt=null;return}}catch(g){if(d!==null)throw Pt=d,g;de=1,Eh(i,Hn(o,i.current)),Pt=null;return}s.flags&32768?(zt||u===1?i=!0:bo||(Ft&536870912)!==0?i=!1:($r=i=!0,(u===2||u===9||u===3||u===6)&&(u=Yn.current,u!==null&&u.tag===13&&(u.flags|=16384))),fT(s,i)):Dh(s)}function Dh(i){var s=i;do{if((s.flags&32768)!==0){fT(s,$r);return}i=s.return;var o=DC(s.alternate,s,mr);if(o!==null){Pt=o;return}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=i}while(s!==null);de===0&&(de=5)}function fT(i,s){do{var o=NC(i.alternate,i);if(o!==null){o.flags&=32767,Pt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=o}while(i!==null);de=6,Pt=null}function dT(i,s,o,u,d,g,b,w,P){i.cancelPendingCommit=null;do Nh();while(Ke!==0);if((Kt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Yd,vl(i,o,g,b,w,P),i===ee&&(Pt=ee=null,Ft=0),Ao=s,Wr=i,So=o,Zm=g,Jm=d,iT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,HC(ks,function(){return vT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=at.p,at.p=2,b=Kt,Kt|=4;try{PC(i,s,o)}finally{Kt=b,at.p=d,Z.T=u}}Ke=1,mT(),pT(),gT()}}function mT(){if(Ke===1){Ke=0;var i=Wr,s=Ao,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=at.p;at.p=2;var d=Kt;Kt|=4;try{Q0(s,i);var g=pp,b=n_(i.containerInfo),w=g.focusedElem,P=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&e_(w.ownerDocument.documentElement,w)){if(P!==null&&zd(w)){var Y=P.start,J=P.end;if(J===void 0&&(J=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(J,w.value.length);else{var et=w.ownerDocument||document,$=et&&et.defaultView||window;if($.getSelection){var X=$.getSelection(),bt=w.textContent.length,vt=Math.min(P.start,bt),Wt=P.end===void 0?vt:Math.min(P.end,bt);!X.extend&&vt>Wt&&(b=Wt,Wt=vt,vt=b);var H=t_(w,vt),U=t_(w,Wt);if(H&&U&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var K=et.createRange();K.setStart(H.node,H.offset),X.removeAllRanges(),vt>Wt?(X.addRange(K),X.extend(U.node,U.offset)):(K.setEnd(U.node,U.offset),X.addRange(K))}}}}for(et=[],X=w;X=X.parentNode;)X.nodeType===1&&et.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<et.length;w++){var tt=et[w];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Hh=!!mp,pp=mp=null}finally{Kt=d,at.p=u,Z.T=o}}i.current=s,Ke=2}}function pT(){if(Ke===2){Ke=0;var i=Wr,s=Ao,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=at.p;at.p=2;var d=Kt;Kt|=4;try{K0(i,s.alternate,s)}finally{Kt=d,at.p=u,Z.T=o}}Ke=3}}function gT(){if(Ke===4||Ke===3){Ke=0,Rc();var i=Wr,s=Ao,o=So,u=iT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ke=5:(Ke=0,Ao=Wr=null,yT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Qr=null),Ha(o),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(he,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,d=at.p,at.p=2,Z.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var w=u[b];g(w.value,{componentStack:w.stack})}}finally{Z.T=s,at.p=d}}(So&3)!==0&&Nh(),xi(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===tp?ou++:(ou=0,tp=i):ou=0,lu(0)}}function yT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Bl(s)))}function Nh(i){return mT(),pT(),gT(),vT()}function vT(){if(Ke!==5)return!1;var i=Wr,s=Zm;Zm=0;var o=Ha(So),u=Z.T,d=at.p;try{at.p=32>o?32:o,Z.T=null,o=Jm,Jm=null;var g=Wr,b=So;if(Ke=0,Ao=Wr=null,So=0,(Kt&6)!==0)throw Error(r(331));var w=Kt;if(Kt|=4,eT(g.current),Z0(g,g.current,b,o),Kt=w,lu(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(he,g)}catch{}return!0}finally{at.p=d,Z.T=u,yT(i,s)}}function _T(i,s,o){s=Hn(o,s),s=Pm(i.stateNode,s,2),i=Br(i,s,2),i!==null&&(Ki(i,2),xi(i))}function Zt(i,s,o){if(i.tag===3)_T(i,i,o);else for(;s!==null;){if(s.tag===3){_T(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qr===null||!Qr.has(u))){i=Hn(o,i),o=w0(2),u=Br(s,o,2),u!==null&&(A0(o,u,s,i),Ki(u,2),xi(u));break}}s=s.return}}function rp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new MC;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||($m=!0,d.add(o),i=jC.bind(null,i,s,o),s.then(i,i))}function jC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ee===i&&(Ft&o)===o&&(de===4||de===3&&(Ft&62914560)===Ft&&300>Ln()-Wm?(Kt&2)===0&&Ro(i,0):Xm|=o,wo===Ft&&(wo=0)),xi(i)}function TT(i,s){s===0&&(s=yl()),i=oo(i,s),i!==null&&(Ki(i,s),xi(i))}function BC(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),TT(i,o)}function zC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),TT(i,o)}function HC(i,s){return Vs(i,s)}var Ph=null,Co=null,sp=!1,Oh=!1,ap=!1,pa=0;function xi(i){i!==Co&&i.next===null&&(Co===null?Ph=Co=i:Co=Co.next=i),Oh=!0,sp||(sp=!0,GC())}function lu(i,s){if(!ap&&Oh){ap=!0;do for(var o=!1,u=Ph;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,w=u.pingedLanes;g=(1<<31-Je(42|i)+1)-1,g&=d&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,AT(u,g))}else g=Ft,g=za(u,u===ee?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||js(u,g)||(o=!0,AT(u,g));u=u.next}while(o);ap=!1}}function qC(){ET()}function ET(){Oh=sp=!1;var i=0;pa!==0&&(JC()&&(i=pa),pa=0);for(var s=Ln(),o=null,u=Ph;u!==null;){var d=u.next,g=bT(u,s);g===0?(u.next=null,o===null?Ph=d:o.next=d,d===null&&(Co=o)):(o=u,(i!==0||(g&3)!==0)&&(Oh=!0)),u=d}lu(i)}function bT(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Je(g),w=1<<b,P=d[b];P===-1?((w&o)===0||(w&u)!==0)&&(d[b]=pl(w,s)):P<=s&&(i.expiredLanes|=w),g&=~w}if(s=ee,o=Ft,o=za(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ms(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||js(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Ms(u),Ha(o)){case 2:case 8:o=ja;break;case 32:o=ks;break;case 268435456:o=Ba;break;default:o=ks}return u=wT.bind(null,i),o=Vs(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Ms(u),i.callbackPriority=2,i.callbackNode=null,2}function wT(i,s){if(Ke!==0&&Ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Nh()&&i.callbackNode!==o)return null;var u=Ft;return u=za(i,i===ee?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(sT(i,u,s),bT(i,Ln()),i.callbackNode!=null&&i.callbackNode===o?wT.bind(null,i):null)}function AT(i,s){if(Nh())return null;sT(i,s,!0)}function GC(){e2(function(){(Kt&6)!==0?Vs(dl,qC):ET()})}function op(){return pa===0&&(pa=gl()),pa}function ST(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Xa(""+i)}function RT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function KC(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=ST((d[we]||null).action),b=u.submitter;b&&(s=(s=b[we]||null)?ST(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var w=new Qa("action","action",null,u,d);i.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pa!==0){var P=b?RT(d,b):new FormData(d);xm(o,{pending:!0,data:P,method:d.method,action:g},null,P)}}else typeof g=="function"&&(w.preventDefault(),P=b?RT(d,b):new FormData(d),xm(o,{pending:!0,data:P,method:d.method,action:g},g,P))},currentTarget:d}]})}}for(var lp=0;lp<Kd.length;lp++){var up=Kd[lp],YC=up.toLowerCase(),$C=up[0].toUpperCase()+up.slice(1);ii(YC,"on"+$C)}ii(s_,"onAnimationEnd"),ii(a_,"onAnimationIteration"),ii(o_,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(hC,"onTransitionRun"),ii(fC,"onTransitionStart"),ii(dC,"onTransitionCancel"),ii(l_,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uu));function xT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var w=u[b],P=w.instance,Y=w.currentTarget;if(w=w.listener,P!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=Y;try{g(d)}catch(J){Th(J)}d.currentTarget=null,g=P}else for(b=0;b<u.length;b++){if(w=u[b],P=w.instance,Y=w.currentTarget,w=w.listener,P!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=Y;try{g(d)}catch(J){Th(J)}d.currentTarget=null,g=P}}}}function Ot(i,s){var o=s[Tl];o===void 0&&(o=s[Tl]=new Set);var u=i+"__bubble";o.has(u)||(CT(s,i,2,!1),o.add(u))}function cp(i,s,o){var u=0;s&&(u|=4),CT(o,i,u,s)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function hp(i){if(!i[Vh]){i[Vh]=!0,El.forEach(function(o){o!=="selectionchange"&&(XC.has(o)||cp(o,!1,i),cp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Vh]||(s[Vh]=!0,cp("selectionchange",!1,s))}}function CT(i,s,o,u){switch(ZT(s)){case 2:var d=b2;break;case 8:d=w2;break;default:d=Sp}o=d.bind(null,s,o,i),d=void 0,!Bn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function fp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var w=u.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=u.return;b!==null;){var P=b.tag;if((P===3||P===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=Yi(w),b===null)return;if(P=b.tag,P===5||P===6||P===26||P===27){u=g=b;continue t}w=w.parentNode}}u=u.return}kc(function(){var Y=g,J=jn(o),et=[];t:{var $=u_.get(i);if($!==void 0){var X=Qa,bt=i;switch(i){case"keypress":if(vi(o)===0)break t;case"keydown":case"keyup":X=no;break;case"focusin":bt="focus",X=Ja;break;case"focusout":bt="blur",X=Ja;break;case"beforeblur":case"afterblur":X=Ja;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=qc;break;case s_:case a_:case o_:X=to;break;case l_:X=Kc;break;case"scroll":case"scrollend":X=Lc;break;case"wheel":X=io;break;case"copy":case"cut":case"paste":X=eo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ol;break;case"toggle":case"beforetoggle":X=$c}var vt=(s&4)!==0,Wt=!vt&&(i==="scroll"||i==="scrollend"),H=vt?$!==null?$+"Capture":null:$;vt=[];for(var U=Y,K;U!==null;){var tt=U;if(K=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||K===null||H===null||(tt=$s(U,H),tt!=null&&vt.push(cu(U,tt,K))),Wt)break;U=U.return}0<vt.length&&($=new X($,bt,null,o,J),et.push({event:$,listeners:vt}))}}if((s&7)===0){t:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&o!==Wi&&(bt=o.relatedTarget||o.fromElement)&&(Yi(bt)||bt[Un]))break t;if((X||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,X?(bt=o.relatedTarget||o.toElement,X=Y,bt=bt?Yi(bt):null,bt!==null&&(Wt=l(bt),vt=bt.tag,bt!==Wt||vt!==5&&vt!==27&&vt!==6)&&(bt=null)):(X=null,bt=Y),X!==bt)){if(vt=zn,tt="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Ol,tt="onPointerLeave",H="onPointerEnter",U="pointer"),Wt=X==null?$:mi(X),K=bt==null?$:mi(bt),$=new vt(tt,U+"leave",X,o,J),$.target=Wt,$.relatedTarget=K,tt=null,Yi(J)===Y&&(vt=new vt(H,U+"enter",bt,o,J),vt.target=K,vt.relatedTarget=Wt,tt=vt),Wt=tt,X&&bt)e:{for(vt=X,H=bt,U=0,K=vt;K;K=Io(K))U++;for(K=0,tt=H;tt;tt=Io(tt))K++;for(;0<U-K;)vt=Io(vt),U--;for(;0<K-U;)H=Io(H),K--;for(;U--;){if(vt===H||H!==null&&vt===H.alternate)break e;vt=Io(vt),H=Io(H)}vt=null}else vt=null;X!==null&&IT(et,$,X,vt,!1),bt!==null&&Wt!==null&&IT(et,Wt,bt,vt,!0)}}t:{if($=Y?mi(Y):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var dt=$v;else if(De($))if(Xv)dt=lC;else{dt=aC;var Nt=sC}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&Rl(Y.elementType)&&(dt=$v):dt=oC;if(dt&&(dt=dt(i,Y))){nr(et,dt,o,J);break t}Nt&&Nt(i,$,Y),i==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&kr($,"number",$.value)}switch(Nt=Y?mi(Y):window,i){case"focusin":(De(Nt)||Nt.contentEditable==="true")&&(ro=Nt,Hd=Y,kl=null);break;case"focusout":kl=Hd=ro=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,i_(et,o,J);break;case"selectionchange":if(cC)break;case"keydown":case"keyup":i_(et,o,J)}var mt;if(Ei)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?Q(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(T&&o.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(mt=Cl()):(yi=J,Lr="value"in yi?yi.value:yi.textContent,Lt=!0)),Nt=Mh(Y,_t),0<Nt.length&&(_t=new Nl(_t,i,null,o,J),et.push({event:_t,listeners:Nt}),mt?_t.data=mt:(mt=lt(o),mt!==null&&(_t.data=mt)))),(mt=v?Ie(i,o):Ut(i,o))&&(_t=Mh(Y,"onBeforeInput"),0<_t.length&&(Nt=new Nl("onBeforeInput","beforeinput",null,o,J),et.push({event:Nt,listeners:_t}),Nt.data=mt)),KC(et,i,Y,o,J)}xT(et,s)})}function cu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Mh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=$s(i,o),d!=null&&u.unshift(cu(i,d,g)),d=$s(i,s),d!=null&&u.push(cu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function Io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function IT(i,s,o,u,d){for(var g=s._reactName,b=[];o!==null&&o!==u;){var w=o,P=w.alternate,Y=w.stateNode;if(w=w.tag,P!==null&&P===u)break;w!==5&&w!==26&&w!==27||Y===null||(P=Y,d?(Y=$s(o,g),Y!=null&&b.unshift(cu(o,Y,P))):d||(Y=$s(o,g),Y!=null&&b.push(cu(o,Y,P)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var QC=/\r\n?/g,WC=/\u0000|\uFFFD/g;function DT(i){return(typeof i=="string"?i:""+i).replace(QC,`
`).replace(WC,"")}function NT(i,s){return s=DT(s),DT(i)===s}function kh(){}function Qt(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Fn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Fn(i,""+u);break;case"className":pi(i,"class",u);break;case"tabIndex":pi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(i,o,u);break;case"style":Sl(i,u,g);break;case"data":if(s!=="object"){pi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Qt(i,s,"name",d.name,d,null),Qt(i,s,"formEncType",d.formEncType,d,null),Qt(i,s,"formMethod",d.formMethod,d,null),Qt(i,s,"formTarget",d.formTarget,d,null)):(Qt(i,s,"encType",d.encType,d,null),Qt(i,s,"method",d.method,d,null),Qt(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Xa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=kh);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Xa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),Mr(i,"popover",u);break;case"xlinkActuate":He(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":He(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":He(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":He(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":He(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":He(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":He(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":He(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":He(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Mr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kd.get(o)||o,Mr(i,o,u))}}function dp(i,s,o,u,d,g){switch(o){case"style":Sl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Fn(i,u):(typeof u=="number"||typeof u=="bigint")&&Fn(i,""+u);break;case"onScroll":u!=null&&Ot("scroll",i);break;case"onScrollEnd":u!=null&&Ot("scrollend",i);break;case"onClick":u!=null&&(i.onclick=kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qa.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[we]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Mr(i,o,u)}}}function Ye(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qt(i,s,g,b,o,null)}}d&&Qt(i,s,"srcSet",o.srcSet,o,null),u&&Qt(i,s,"src",o.src,o,null);return;case"input":Ot("invalid",i);var w=g=b=d=null,P=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":d=J;break;case"type":b=J;break;case"checked":P=J;break;case"defaultChecked":Y=J;break;case"value":g=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:Qt(i,s,u,J,o,null)}}Gs(i,g,w,P,Y,b,d,!1),$a(i);return;case"select":Ot("invalid",i),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":u=w;default:Qt(i,s,d,w,o,null)}s=g,o=b,i.multiple=!!u,s!=null?Qi(i,!!u,s,!1):o!=null&&Qi(i,!!u,o,!0);return;case"textarea":Ot("invalid",i),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":u=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:Qt(i,s,b,w,o,null)}Ks(i,u,d,g),$a(i);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(u=o[P],u!=null))switch(P){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Qt(i,s,P,u,o,null)}return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(u=0;u<uu.length;u++)Ot(uu[u],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qt(i,s,Y,u,o,null)}return;default:if(Rl(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&dp(i,s,J,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Qt(i,s,w,u,o,null))}function ZC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,w=null,P=null,Y=null,J=null;for(X in o){var et=o[X];if(o.hasOwnProperty(X)&&et!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":P=et;default:u.hasOwnProperty(X)||Qt(i,s,X,null,u,et)}}for(var $ in u){var X=u[$];if(et=o[$],u.hasOwnProperty($)&&(X!=null||et!=null))switch($){case"type":g=X;break;case"name":d=X;break;case"checked":Y=X;break;case"defaultChecked":J=X;break;case"value":b=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==et&&Qt(i,s,$,X,u,et)}}Rn(i,b,w,P,Y,J,g,d);return;case"select":X=b=w=$=null;for(g in o)if(P=o[g],o.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":X=P;default:u.hasOwnProperty(g)||Qt(i,s,g,null,u,P)}for(d in u)if(g=u[d],P=o[d],u.hasOwnProperty(d)&&(g!=null||P!=null))switch(d){case"value":$=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==P&&Qt(i,s,d,g,u,P)}s=w,o=b,u=X,$!=null?Qi(i,!!o,$,!1):!!u!=!!o&&(s!=null?Qi(i,!!o,s,!0):Qi(i,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Qt(i,s,w,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":$=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Qt(i,s,b,d,u,g)}$t(i,$,X);return;case"option":for(var bt in o)if($=o[bt],o.hasOwnProperty(bt)&&$!=null&&!u.hasOwnProperty(bt))switch(bt){case"selected":i.selected=!1;break;default:Qt(i,s,bt,null,u,$)}for(P in u)if($=u[P],X=o[P],u.hasOwnProperty(P)&&$!==X&&($!=null||X!=null))switch(P){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Qt(i,s,P,$,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)$=o[vt],o.hasOwnProperty(vt)&&$!=null&&!u.hasOwnProperty(vt)&&Qt(i,s,vt,null,u,$);for(Y in u)if($=u[Y],X=o[Y],u.hasOwnProperty(Y)&&$!==X&&($!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Qt(i,s,Y,$,u,X)}return;default:if(Rl(s)){for(var Wt in o)$=o[Wt],o.hasOwnProperty(Wt)&&$!==void 0&&!u.hasOwnProperty(Wt)&&dp(i,s,Wt,void 0,u,$);for(J in u)$=u[J],X=o[J],!u.hasOwnProperty(J)||$===X||$===void 0&&X===void 0||dp(i,s,J,$,u,X);return}}for(var H in o)$=o[H],o.hasOwnProperty(H)&&$!=null&&!u.hasOwnProperty(H)&&Qt(i,s,H,null,u,$);for(et in u)$=u[et],X=o[et],!u.hasOwnProperty(et)||$===X||$==null&&X==null||Qt(i,s,et,$,u,X)}var mp=null,pp=null;function Lh(i){return i.nodeType===9?i:i.ownerDocument}function PT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function OT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function gp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yp=null;function JC(){var i=window.event;return i&&i.type==="popstate"?i===yp?!1:(yp=i,!0):(yp=null,!1)}var VT=typeof setTimeout=="function"?setTimeout:void 0,t2=typeof clearTimeout=="function"?clearTimeout:void 0,MT=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof MT<"u"?function(i){return MT.resolve(null).then(i).catch(n2)}:VT;function n2(i){setTimeout(function(){throw i})}function Jr(i){return i==="head"}function kT(i,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&hu(b.documentElement),o&2&&hu(b.body),o&4)for(o=b.head,hu(o),b=o.firstChild;b;){var w=b.nextSibling,P=b.nodeName;b[Bs]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(d===0){i.removeChild(g),_u(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);_u(s)}function vp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vp(o),Vr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function i2(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Bs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=si(i.nextSibling),i===null)break}return null}function r2(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=si(i.nextSibling),i===null))return null;return i}function _p(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function s2(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function si(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Tp=null;function LT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function UT(i,s,o){switch(s=Lh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function hu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Vr(i)}var Xn=new Map,FT=new Set;function Uh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var pr=at.d;at.d={f:a2,r:o2,D:l2,C:u2,L:c2,m:h2,X:d2,S:f2,M:m2};function a2(){var i=pr.f(),s=Ih();return i||s}function o2(i){var s=di(i);s!==null&&s.tag===5&&s.type==="form"?s0(s):pr.r(i)}var Do=typeof document>"u"?null:document;function jT(i,s,o){var u=Do;if(u&&typeof s=="string"&&s){var d=Ae(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),FT.has(d)||(FT.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Ye(s,"link",i),ve(s),u.head.appendChild(s)))}}function l2(i){pr.D(i),jT("dns-prefetch",i,null)}function u2(i,s){pr.C(i,s),jT("preconnect",i,s)}function c2(i,s,o){pr.L(i,s,o);var u=Do;if(u&&i&&s){var d='link[rel="preload"][as="'+Ae(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ae(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ae(o.imageSizes)+'"]')):d+='[href="'+Ae(i)+'"]';var g=d;switch(s){case"style":g=No(i);break;case"script":g=Po(i)}Xn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Xn.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(fu(g))||s==="script"&&u.querySelector(du(g))||(s=u.createElement("link"),Ye(s,"link",i),ve(s),u.head.appendChild(s)))}}function h2(i,s){pr.m(i,s);var o=Do;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ae(u)+'"][href="'+Ae(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Po(i)}if(!Xn.has(g)&&(i=y({rel:"modulepreload",href:i},s),Xn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(du(g)))return}u=o.createElement("link"),Ye(u,"link",i),ve(u),o.head.appendChild(u)}}}function f2(i,s,o){pr.S(i,s,o);var u=Do;if(u&&i){var d=un(u).hoistableStyles,g=No(i);s=s||"default";var b=d.get(g);if(!b){var w={loading:0,preload:null};if(b=u.querySelector(fu(g)))w.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Xn.get(g))&&Ep(i,o);var P=b=u.createElement("link");ve(P),Ye(P,"link",i),P._p=new Promise(function(Y,J){P.onload=Y,P.onerror=J}),P.addEventListener("load",function(){w.loading|=1}),P.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fh(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(g,b)}}}function d2(i,s){pr.X(i,s);var o=Do;if(o&&i){var u=un(o).hoistableScripts,d=Po(i),g=u.get(d);g||(g=o.querySelector(du(d)),g||(i=y({src:i,async:!0},s),(s=Xn.get(d))&&bp(i,s),g=o.createElement("script"),ve(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function m2(i,s){pr.M(i,s);var o=Do;if(o&&i){var u=un(o).hoistableScripts,d=Po(i),g=u.get(d);g||(g=o.querySelector(du(d)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Xn.get(d))&&bp(i,s),g=o.createElement("script"),ve(g),Ye(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function BT(i,s,o,u){var d=(d=At.current)?Uh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=No(o.href),o=un(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=No(o.href);var g=un(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(fu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Xn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xn.set(i,o),g||p2(d,i,o,b.state))),s&&u===null)throw Error(r(528,""));return b}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Po(o),o=un(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function No(i){return'href="'+Ae(i)+'"'}function fu(i){return'link[rel="stylesheet"]['+i+"]"}function zT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function p2(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ye(s,"link",o),ve(s),i.head.appendChild(s))}function Po(i){return'[src="'+Ae(i)+'"]'}function du(i){return"script[async]"+i}function HT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Ae(o.href)+'"]');if(u)return s.instance=u,ve(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ve(u),Ye(u,"style",d),Fh(u,o.precedence,i),s.instance=u;case"stylesheet":d=No(o.href);var g=i.querySelector(fu(d));if(g)return s.state.loading|=4,s.instance=g,ve(g),g;u=zT(o),(d=Xn.get(d))&&Ep(u,d),g=(i.ownerDocument||i).createElement("link"),ve(g);var b=g;return b._p=new Promise(function(w,P){b.onload=w,b.onerror=P}),Ye(g,"link",u),s.state.loading|=4,Fh(g,o.precedence,i),s.instance=g;case"script":return g=Po(o.src),(d=i.querySelector(du(g)))?(s.instance=d,ve(d),d):(u=o,(d=Xn.get(g))&&(u=y({},o),bp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),ve(d),Ye(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Fh(u,o.precedence,i));return s.instance}function Fh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var w=u[b];if(w.dataset.precedence===s)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Ep(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function bp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var jh=null;function qT(i,s,o){if(jh===null){var u=new Map,d=jh=new Map;d.set(o,u)}else d=jh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Bs]||g[Ce]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var w=u.get(b);w?w.push(g):u.set(b,[g])}}return u}function GT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function g2(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function KT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var mu=null;function y2(){}function v2(i,s,o){if(mu===null)throw Error(r(475));var u=mu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=No(o.href),g=i.querySelector(fu(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Bh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,ve(g);return}g=i.ownerDocument||i,o=zT(o),(d=Xn.get(d))&&Ep(o,d),g=g.createElement("link"),ve(g);var b=g;b._p=new Promise(function(w,P){b.onload=w,b.onerror=P}),Ye(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Bh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function _2(){if(mu===null)throw Error(r(475));var i=mu;return i.stylesheets&&i.count===0&&wp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&wp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Bh(){if(this.count--,this.count===0){if(this.stylesheets)wp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zh=null;function wp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zh=new Map,s.forEach(T2,i),zh=null,Bh.call(i))}function T2(i,s){if(!(s.state.loading&4)){var o=zh.get(i);if(o)var u=o.get(null);else{o=new Map,zh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=Bh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var pu={$$typeof:q,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function E2(i,s,o,u,d,g,b,w){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function YT(i,s,o,u,d,g,b,w,P,Y,J,et){return i=new E2(i,s,o,b,w,P,Y,et),s=1,g===!0&&(s|=24),g=Cn(3,null,null,s),i.current=g,g.stateNode=i,s=rm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},lm(g),i}function $T(i){return i?(i=lo,i):lo}function XT(i,s,o,u,d,g){d=$T(d),u.context===null?u.context=d:u.pendingContext=d,u=jr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Br(i,u,s),o!==null&&(On(o,i,s),Gl(o,i,s))}function QT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Ap(i,s){QT(i,s),(i=i.alternate)&&QT(i,s)}function WT(i){if(i.tag===13){var s=oo(i,67108864);s!==null&&On(s,i,67108864),Ap(i,67108864)}}var Hh=!0;function b2(i,s,o,u){var d=Z.T;Z.T=null;var g=at.p;try{at.p=2,Sp(i,s,o,u)}finally{at.p=g,Z.T=d}}function w2(i,s,o,u){var d=Z.T;Z.T=null;var g=at.p;try{at.p=8,Sp(i,s,o,u)}finally{at.p=g,Z.T=d}}function Sp(i,s,o,u){if(Hh){var d=Rp(u);if(d===null)fp(i,s,u,qh,o),JT(i,u);else if(S2(d,i,s,o,u))u.stopPropagation();else if(JT(i,u),s&4&&-1<A2.indexOf(i)){for(;d!==null;){var g=di(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=ti(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var P=1<<31-Je(b);w.entanglements[1]|=P,b&=~P}xi(g),(Kt&6)===0&&(xh=Ln()+500,lu(0))}}break;case 13:w=oo(g,2),w!==null&&On(w,g,2),Ih(),Ap(g,2)}if(g=Rp(u),g===null&&fp(i,s,u,qh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else fp(i,s,u,null,o)}}function Rp(i){return i=jn(i),xp(i)}var qh=null;function xp(i){if(qh=null,i=Yi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return qh=i,null}function ZT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dd()){case dl:return 2;case ja:return 8;case ks:case Nd:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var Cp=!1,ts=null,es=null,ns=null,gu=new Map,yu=new Map,is=[],A2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JT(i,s){switch(i){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":gu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(s.pointerId)}}function vu(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=di(s),s!==null&&WT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function S2(i,s,o,u,d){switch(s){case"focusin":return ts=vu(ts,i,s,o,u,d),!0;case"dragenter":return es=vu(es,i,s,o,u,d),!0;case"mouseover":return ns=vu(ns,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return gu.set(g,vu(gu.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,yu.set(g,vu(yu.get(g)||null,i,s,o,u,d)),!0}return!1}function tE(i){var s=Yi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){if(o.tag===13){var u=Pn();u=Nr(u);var d=oo(o,u);d!==null&&On(d,o,u),Ap(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Rp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Wi=u,o.target.dispatchEvent(u),Wi=null}else return s=di(o),s!==null&&WT(s),i.blockedOn=o,!1;s.shift()}return!0}function eE(i,s,o){Gh(i)&&o.delete(s)}function R2(){Cp=!1,ts!==null&&Gh(ts)&&(ts=null),es!==null&&Gh(es)&&(es=null),ns!==null&&Gh(ns)&&(ns=null),gu.forEach(eE),yu.forEach(eE)}function Kh(i,s){i.blockedOn===s&&(i.blockedOn=null,Cp||(Cp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,R2)))}var Yh=null;function nE(i){Yh!==i&&(Yh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Yh===i&&(Yh=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(xp(u||o)===null)continue;break}var g=di(o);g!==null&&(i.splice(s,3),s-=3,xm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function _u(i){function s(P){return Kh(P,i)}ts!==null&&Kh(ts,i),es!==null&&Kh(es,i),ns!==null&&Kh(ns,i),gu.forEach(s),yu.forEach(s);for(var o=0;o<is.length;o++){var u=is[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<is.length&&(o=is[0],o.blockedOn===null);)tE(o),o.blockedOn===null&&is.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[we]||null;if(typeof g=="function")b||nE(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[we]||null)w=b.formAction;else if(xp(d)!==null)continue}else w=b.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),nE(o)}}}function Ip(i){this._internalRoot=i}$h.prototype.render=Ip.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Pn();XT(o,u,i,s,null,null)},$h.prototype.unmount=Ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;XT(i.current,2,null,i,null,null),Ih(),s[Un]=null}};function $h(i){this._internalRoot=i}$h.prototype.unstable_scheduleHydration=function(i){if(i){var s=Pr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<is.length&&s!==0&&s<is[o].priority;o++);is.splice(o,0,i),o===0&&tE(i)}};var iE=t.version;if(iE!=="19.1.0")throw Error(r(527,iE,"19.1.0"));at.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var x2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{he=Xh.inject(x2),Gt=Xh}catch{}}return Eu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=_0,g=T0,b=E0,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=YT(i,1,!1,null,null,o,u,d,g,b,w,null),i[Un]=s.current,hp(i),new Ip(s)},Eu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=_0,b=T0,w=E0,P=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=YT(i,1,!0,s,o??null,u,d,g,b,w,P,Y),s.context=$T(null),o=s.current,u=Pn(),u=Nr(u),d=jr(u),d.callback=null,Br(o,d,u),o=u,s.current.lanes=o,Ki(s,o),xi(s),i[Un]=s.current,hp(i),new $h(s)},Eu.version="19.1.0",Eu}var dE;function U2(){if(dE)return Pp.exports;dE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pp.exports=L2(),Pp.exports}var F2=U2(),bu={},mE;function j2(){if(mE)return bu;mE=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.parse=c,bu.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,S){const C=new l,V=E.length;if(V<2)return C;const O=(S==null?void 0:S.decode)||y;let j=0;do{const z=E.indexOf("=",j);if(z===-1)break;const q=E.indexOf(";",j),it=q===-1?V:q;if(z>it){j=E.lastIndexOf(";",z-1)+1;continue}const W=f(E,j,z),ct=m(E,z,W),M=E.slice(W,ct);if(C[M]===void 0){let x=f(E,z+1,it),I=m(E,it,x);const k=O(E.slice(x,I));C[M]=k}j=it+1}while(j<V);return C}function f(E,S,C){do{const V=E.charCodeAt(S);if(V!==32&&V!==9)return S}while(++S<C);return C}function m(E,S,C){for(;S>C;){const V=E.charCodeAt(--S);if(V!==32&&V!==9)return S+1}return C}function p(E,S,C){const V=(C==null?void 0:C.encode)||encodeURIComponent;if(!e.test(E))throw new TypeError(`argument name is invalid: ${E}`);const O=V(S);if(!t.test(O))throw new TypeError(`argument val is invalid: ${S}`);let j=E+"="+O;if(!C)return j;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);j+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);j+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);j+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);j+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(j+="; HttpOnly"),C.secure&&(j+="; Secure"),C.partitioned&&(j+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return j}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return bu}j2();var pE="popstate";function B2(e={}){function t(r,a){let{pathname:l,search:c,hash:f}=r.location;return dg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Gu(a)}return H2(t,n,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ui(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function z2(){return Math.random().toString(36).substring(2,10)}function gE(e,t){return{usr:e.state,key:e.key,idx:t}}function dg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?nl(t):t,state:n,key:t&&t.key||r||z2()}}function Gu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function nl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function H2(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let O=y(),j=O==null?null:O-p;p=O,m&&m({action:f,location:V.location,delta:j})}function E(O,j){f="PUSH";let z=dg(V.location,O,j);p=y()+1;let q=gE(z,p),it=V.createHref(z);try{c.pushState(q,"",it)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(it)}l&&m&&m({action:f,location:V.location,delta:1})}function S(O,j){f="REPLACE";let z=dg(V.location,O,j);p=y();let q=gE(z,p),it=V.createHref(z);c.replaceState(q,"",it),l&&m&&m({action:f,location:V.location,delta:0})}function C(O){return q2(O)}let V={get action(){return f},get location(){return e(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(pE,_),m=O,()=>{a.removeEventListener(pE,_),m=null}},createHref(O){return t(a,O)},createURL:C,encodeLocation(O){let j=C(O);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:S,go(O){return c.go(O)}};return V}function q2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Gu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function pw(e,t,n="/"){return G2(e,t,n,!1)}function G2(e,t,n,r){let a=typeof t=="string"?nl(t):t,l=br(a.pathname||"/",n);if(l==null)return null;let c=gw(e);K2(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=iI(l);f=eI(c[m],p,r)}return f}function gw(e,t=[],n=[],r=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(le(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=_r([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(le(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),gw(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:J2(p,l.index),routesMeta:y})};return e.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let m of yw(l.path))a(l,c,m)}),t}function yw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=yw(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function K2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Y2=/^:[\w-]+$/,$2=3,X2=2,Q2=1,W2=10,Z2=-2,yE=e=>e==="*";function J2(e,t){let n=e.split("/"),r=n.length;return n.some(yE)&&(r+=Z2),t&&(r+=X2),n.filter(a=>!yE(a)).reduce((a,l)=>a+(Y2.test(l)?$2:l===""?Q2:W2),r)}function tI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function eI(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Sf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:_r([l,_.pathname]),pathnameBase:oI(_r([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=_r([l,_.pathnameBase]))}return c}function Sf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let C=f[E]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const S=f[E];return _&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function nI(e,t=!1,n=!0){Ui(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function iI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ui(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function br(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function rI(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?nl(e):e;return{pathname:n?n.startsWith("/")?n:sI(n,t):t,search:lI(r),hash:uI(a)}}function sI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function kp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vw(e){let t=aI(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function _w(e,t,n,r=!1){let a;typeof e=="string"?a=nl(e):(a={...e},le(!a.pathname||!a.pathname.includes("?"),kp("?","pathname","search",a)),le(!a.pathname||!a.pathname.includes("#"),kp("#","pathname","hash",a)),le(!a.search||!a.search.includes("#"),kp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=t.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?t[_]:"/"}let m=rI(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var _r=e=>e.join("/").replace(/\/\/+/g,"/"),oI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Tw=["POST","PUT","PATCH","DELETE"];new Set(Tw);var hI=["GET",...Tw];new Set(hI);var il=F.createContext(null);il.displayName="DataRouter";var Jf=F.createContext(null);Jf.displayName="DataRouterState";var Ew=F.createContext({isTransitioning:!1});Ew.displayName="ViewTransition";var fI=F.createContext(new Map);fI.displayName="Fetchers";var dI=F.createContext(null);dI.displayName="Await";var Bi=F.createContext(null);Bi.displayName="Navigation";var lc=F.createContext(null);lc.displayName="Location";var zi=F.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var cy=F.createContext(null);cy.displayName="RouteError";function mI(e,{relative:t}={}){le(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=F.useContext(Bi),{hash:a,pathname:l,search:c}=hc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:_r([n,l])),r.createHref({pathname:f,search:c,hash:a})}function uc(){return F.useContext(lc)!=null}function Oa(){return le(uc(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(lc).location}var bw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ww(e){F.useContext(Bi).static||F.useLayoutEffect(e)}function cc(){let{isDataRoute:e}=F.useContext(zi);return e?CI():pI()}function pI(){le(uc(),"useNavigate() may be used only in the context of a <Router> component.");let e=F.useContext(il),{basename:t,navigator:n}=F.useContext(Bi),{matches:r}=F.useContext(zi),{pathname:a}=Oa(),l=JSON.stringify(vw(r)),c=F.useRef(!1);return ww(()=>{c.current=!0}),F.useCallback((m,p={})=>{if(Ui(c.current,bw),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=_w(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:_r([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}F.createContext(null);function gI(){let{matches:e}=F.useContext(zi),t=e[e.length-1];return t?t.params:{}}function hc(e,{relative:t}={}){let{matches:n}=F.useContext(zi),{pathname:r}=Oa(),a=JSON.stringify(vw(n));return F.useMemo(()=>_w(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function yI(e,t){return Aw(e,t)}function Aw(e,t,n,r){var j;le(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=F.useContext(Bi),{matches:l}=F.useContext(zi),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let z=y&&y.path||"";Sw(m,!y||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let _=Oa(),E;if(t){let z=typeof t=="string"?nl(t):t;le(p==="/"||((j=z.pathname)==null?void 0:j.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),E=z}else E=_;let S=E.pathname||"/",C=S;if(p!=="/"){let z=p.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(z.length).join("/")}let V=pw(e,{pathname:C});Ui(y||V!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ui(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=bI(V&&V.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:_r([p,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:_r([p,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,n,r);return t&&O?F.createElement(lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},O):O}function vI(){let e=xI(),t=cI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:a},n):null,c)}var _I=F.createElement(vI,null),TI=class extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(zi.Provider,{value:this.props.routeContext},F.createElement(cy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function EI({routeContext:e,match:t,children:n}){let r=F.useContext(il);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(zi.Provider,{value:e},n)}function bI(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n==null?void 0:n.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);le(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:_}=n,E=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let _,E=!1,S=null,C=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||_I,c&&(f<0&&y===0?(Sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):f===y&&(E=!0,C=p.route.hydrateFallbackElement||null)));let V=t.concat(a.slice(0,y+1)),O=()=>{let j;return _?j=S:E?j=C:p.route.Component?j=F.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=m,F.createElement(EI,{match:p,routeContext:{outlet:m,matches:V,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?F.createElement(TI,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:O(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):O()},null)}function hy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wI(e){let t=F.useContext(il);return le(t,hy(e)),t}function AI(e){let t=F.useContext(Jf);return le(t,hy(e)),t}function SI(e){let t=F.useContext(zi);return le(t,hy(e)),t}function fy(e){let t=SI(e),n=t.matches[t.matches.length-1];return le(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function RI(){return fy("useRouteId")}function xI(){var r;let e=F.useContext(cy),t=AI("useRouteError"),n=fy("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function CI(){let{router:e}=wI("useNavigate"),t=fy("useNavigate"),n=F.useRef(!1);return ww(()=>{n.current=!0}),F.useCallback(async(a,l={})=>{Ui(n.current,bw),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var vE={};function Sw(e,t,n){!t&&!vE[e]&&(vE[e]=!0,Ui(!1,n))}F.memo(II);function II({routes:e,future:t,state:n}){return Aw(e,void 0,n,t)}function gr(e){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DI({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){le(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=F.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=nl(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,S=F.useMemo(()=>{let C=br(m,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:_,key:E},navigationType:r}},[c,m,p,y,_,E,r]);return Ui(S!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:F.createElement(Bi.Provider,{value:f},F.createElement(lc.Provider,{children:t,value:S}))}function NI({children:e,location:t}){return yI(mg(e),t)}function mg(e,t=[]){let n=[];return F.Children.forEach(e,(r,a)=>{if(!F.isValidElement(r))return;let l=[...t,a];if(r.type===F.Fragment){n.push.apply(n,mg(r.props.children,l));return}le(r.type===gr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=mg(r.props.children,l)),n.push(c)}),n}var uf="get",cf="application/x-www-form-urlencoded";function td(e){return e!=null&&typeof e.tagName=="string"}function PI(e){return td(e)&&e.tagName.toLowerCase()==="button"}function OI(e){return td(e)&&e.tagName.toLowerCase()==="form"}function VI(e){return td(e)&&e.tagName.toLowerCase()==="input"}function MI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kI(e,t){return e.button===0&&(!t||t==="_self")&&!MI(e)}var Qh=null;function LI(){if(Qh===null)try{new FormData(document.createElement("form"),0),Qh=!1}catch{Qh=!0}return Qh}var UI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(e){return e!=null&&!UI.has(e)?(Ui(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cf}"`),null):e}function FI(e,t){let n,r,a,l,c;if(OI(e)){let f=e.getAttribute("action");r=f?br(f,t):null,n=e.getAttribute("method")||uf,a=Lp(e.getAttribute("enctype"))||cf,l=new FormData(e)}else if(PI(e)||VI(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(r=m?br(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||uf,a=Lp(e.getAttribute("formenctype"))||Lp(f.getAttribute("enctype"))||cf,l=new FormData(f,e),!LI()){let{name:p,type:y,value:_}=e;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(td(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uf,r=null,a=cf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function dy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function jI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function zI(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await jI(l,n);return c.links?c.links():[]}return[]}));return KI(r.flat(1).filter(BI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _E(e,t,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?t.filter((m,p)=>{var _;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function HI(e,t,{includeHydrateFallback:n}={}){return qI(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function qI(e){return[...new Set(e)]}function GI(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function KI(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(GI(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YI=new Set([100,101,204,205]);function $I(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&br(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Rw(){let e=F.useContext(il);return dy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function XI(){let e=F.useContext(Jf);return dy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var my=F.createContext(void 0);my.displayName="FrameworkContext";function xw(){let e=F.useContext(my);return dy(e,"You must render this element inside a <HydratedRouter> element"),e}function QI(e,t){let n=F.useContext(my),[r,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,E=F.useRef(null);F.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let V=j=>{j.forEach(z=>{c(z.isIntersecting)})},O=new IntersectionObserver(V,{threshold:.5});return E.current&&O.observe(E.current),()=>{O.disconnect()}}},[e]),F.useEffect(()=>{if(r){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[r]);let S=()=>{a(!0)},C=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:wu(f,S),onBlur:wu(m,C),onMouseEnter:wu(p,S),onMouseLeave:wu(y,C),onTouchStart:wu(_,S)}]:[!1,E,{}]}function wu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function WI({page:e,...t}){let{router:n}=Rw(),r=F.useMemo(()=>pw(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?F.createElement(JI,{page:e,matches:r,...t}):null}function ZI(e){let{manifest:t,routeModules:n}=xw(),[r,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return zI(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function JI({page:e,matches:t,...n}){let r=Oa(),{manifest:a,routeModules:l}=xw(),{basename:c}=Rw(),{loaderData:f,matches:m}=XI(),p=F.useMemo(()=>_E(e,t,m,a,r,"data"),[e,t,m,a,r]),y=F.useMemo(()=>_E(e,t,m,a,r,"assets"),[e,t,m,a,r]),_=F.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let C=new Set,V=!1;if(t.forEach(j=>{var q;let z=a.routes[j.route.id];!z||!z.hasLoader||(!p.some(it=>it.route.id===j.route.id)&&j.route.id in f&&((q=l[j.route.id])!=null&&q.shouldRevalidate)||z.hasClientLoader?V=!0:C.add(j.route.id))}),C.size===0)return[];let O=$I(e,c);return V&&C.size>0&&O.searchParams.set("_routes",t.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[O.pathname+O.search]},[c,f,r,a,p,t,e,l]),E=F.useMemo(()=>HI(y,a),[y,a]),S=ZI(y);return F.createElement(F.Fragment,null,_.map(C=>F.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),E.map(C=>F.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),S.map(({key:C,link:V})=>F.createElement("link",{key:C,...V})))}function tD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cw&&(window.__reactRouterVersion="7.6.2")}catch{}function eD({basename:e,children:t,window:n}){let r=F.useRef();r.current==null&&(r.current=B2({window:n,v5Compat:!0}));let a=r.current,[l,c]=F.useState({action:a.action,location:a.location}),f=F.useCallback(m=>{F.startTransition(()=>c(m))},[c]);return F.useLayoutEffect(()=>a.listen(f),[a,f]),F.createElement(DI,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var Iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=F.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},S){let{basename:C}=F.useContext(Bi),V=typeof p=="string"&&Iw.test(p),O,j=!1;if(typeof p=="string"&&V&&(O=p,Cw))try{let I=new URL(window.location.href),k=p.startsWith("//")?new URL(I.protocol+p):new URL(p),D=br(k.pathname,C);k.origin===I.origin&&D!=null?p=D+k.search+k.hash:j=!0}catch{Ui(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=mI(p,{relative:a}),[q,it,W]=QI(r,E),ct=sD(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function M(I){t&&t(I),I.defaultPrevented||ct(I)}let x=F.createElement("a",{...E,...W,href:O||z,onClick:j||l?t:M,ref:tD(S,it),target:m,"data-discover":!V&&n==="render"?"true":void 0});return q&&!V?F.createElement(F.Fragment,null,x,F.createElement(WI,{page:z})):x});vn.displayName="Link";var nD=F.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=hc(c,{relative:p.relative}),E=Oa(),S=F.useContext(Jf),{navigator:C,basename:V}=F.useContext(Bi),O=S!=null&&cD(_)&&f===!0,j=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,z=E.pathname,q=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(z=z.toLowerCase(),q=q?q.toLowerCase():null,j=j.toLowerCase()),q&&V&&(q=br(q,V)||q);const it=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let W=z===j||!a&&z.startsWith(j)&&z.charAt(it)==="/",ct=q!=null&&(q===j||!a&&q.startsWith(j)&&q.charAt(j.length)==="/"),M={isActive:W,isPending:ct,isTransitioning:O},x=W?t:void 0,I;typeof r=="function"?I=r(M):I=[r,W?"active":null,ct?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(M):l;return F.createElement(vn,{...p,"aria-current":x,className:I,ref:y,style:k,to:c,viewTransition:f},typeof m=="function"?m(M):m)});nD.displayName="NavLink";var iD=F.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=uf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},S)=>{let C=lD(),V=uD(f,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",j=typeof f=="string"&&Iw.test(f),z=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let it=q.nativeEvent.submitter,W=(it==null?void 0:it.getAttribute("formmethod"))||c;C(it||q.currentTarget,{fetcherKey:t,method:W,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return F.createElement("form",{ref:S,method:O,action:V,onSubmit:r?m:z,...E,"data-discover":!j&&e==="render"?"true":void 0})});iD.displayName="Form";function rD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dw(e){let t=F.useContext(il);return le(t,rD(e)),t}function sD(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=cc(),m=Oa(),p=hc(e,{relative:l});return F.useCallback(y=>{if(kI(y,t)){y.preventDefault();let _=n!==void 0?n:Gu(m)===Gu(p);f(e,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,r,t,e,a,l,c])}var aD=0,oD=()=>`__${String(++aD)}__`;function lD(){let{router:e}=Dw("useSubmit"),{basename:t}=F.useContext(Bi),n=RI();return F.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=FI(r,t);if(a.navigate===!1){let y=a.fetcherKey||oD();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function uD(e,{relative:t}={}){let{basename:n}=F.useContext(Bi),r=F.useContext(zi);le(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...hc(e||".",{relative:t})},c=Oa();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:_r([n,l.pathname])),Gu(l)}function cD(e,t={}){let n=F.useContext(Ew);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Dw("useViewTransitionState"),a=hc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=br(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=br(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sf(a.pathname,c)!=null||Sf(a.pathname,l)!=null}[...YI];const Nw=F.createContext({});function hD(e){const t=F.useRef(null);return t.current===null&&(t.current=e()),t.current}const py=typeof window<"u",fD=py?F.useLayoutEffect:F.useEffect,gy=F.createContext(null);function yy(e,t){e.indexOf(t)===-1&&e.push(t)}function vy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const wr=(e,t,n)=>n>t?t:n<e?e:n;let _y=()=>{};const Ar={},Pw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Ow(e){return typeof e=="object"&&e!==null}const Vw=e=>/^0[^.\s]+$/u.test(e);function Ty(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zn=e=>e,dD=(e,t)=>n=>t(e(n)),fc=(...e)=>e.reduce(dD),Ku=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Ey{constructor(){this.subscriptions=[]}add(t){return yy(this.subscriptions,t),()=>vy(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Di=e=>e*1e3,Ni=e=>e/1e3;function Mw(e,t){return t?e*(1e3/t):0}const kw=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,mD=1e-7,pD=12;function gD(e,t,n,r,a){let l,c,f=0;do c=t+(n-t)/2,l=kw(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>mD&&++f<pD);return c}function dc(e,t,n,r){if(e===t&&n===r)return Zn;const a=l=>gD(l,0,1,e,n);return l=>l===0||l===1?l:kw(a(l),t,r)}const Lw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Uw=e=>t=>1-e(1-t),Fw=dc(.33,1.53,.69,.99),by=Uw(Fw),jw=Lw(by),Bw=e=>(e*=2)<1?.5*by(e):.5*(2-Math.pow(2,-10*(e-1))),wy=e=>1-Math.sin(Math.acos(e)),zw=Uw(wy),Hw=Lw(wy),yD=dc(.42,0,1,1),vD=dc(0,0,.58,1),qw=dc(.42,0,.58,1),_D=e=>Array.isArray(e)&&typeof e[0]!="number",Gw=e=>Array.isArray(e)&&typeof e[0]=="number",TD={linear:Zn,easeIn:yD,easeInOut:qw,easeOut:vD,circIn:wy,circInOut:Hw,circOut:zw,backIn:by,backInOut:jw,backOut:Fw,anticipate:Bw},ED=e=>typeof e=="string",TE=e=>{if(Gw(e)){_y(e.length===4);const[t,n,r,a]=e;return dc(t,n,r,a)}else if(ED(e))return TD[e];return e},Wh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],EE={value:null};function bD(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(_){c.has(_)&&(y.schedule(_),e()),m++,_(f)}const y={schedule:(_,E=!1,S=!1)=>{const V=S&&a?n:r;return E&&c.add(_),V.has(_)||V.add(_),_},cancel:_=>{r.delete(_),c.delete(_)},process:_=>{if(f=_,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),t&&EE.value&&EE.value.frameloop[t].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(_))}};return y}const wD=40;function Kw(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Wh.reduce((q,it)=>(q[it]=bD(l,t?it:void 0),q),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:E,render:S,postRender:C}=c,V=()=>{const q=Ar.useManualTiming?a.timestamp:performance.now();n=!1,Ar.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(q-a.timestamp,wD),1)),a.timestamp=q,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),S.process(a),C.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(V))},O=()=>{n=!0,r=!0,a.isProcessing||e(V)};return{schedule:Wh.reduce((q,it)=>{const W=c[it];return q[it]=(ct,M=!1,x=!1)=>(n||O(),W.schedule(ct,M,x)),q},{}),cancel:q=>{for(let it=0;it<Wh.length;it++)c[Wh[it]].cancel(q)},state:a,steps:c}}const{schedule:ue,cancel:ys,state:Xe,steps:Up}=Kw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let hf;function AD(){hf=void 0}const wn={now:()=>(hf===void 0&&wn.set(Xe.isProcessing||Ar.useManualTiming?Xe.timestamp:performance.now()),hf),set:e=>{hf=e,queueMicrotask(AD)}},Yw=e=>t=>typeof t=="string"&&t.startsWith(e),Ay=Yw("--"),SD=Yw("var(--"),Sy=e=>SD(e)?RD.test(e.split("/*")[0].trim()):!1,RD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,rl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yu={...rl,transform:e=>wr(0,1,e)},Zh={...rl,default:1},Ou=e=>Math.round(e*1e5)/1e5,Ry=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xD(e){return e==null}const CD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xy=(e,t)=>n=>!!(typeof n=="string"&&CD.test(n)&&n.startsWith(e)||t&&!xD(n)&&Object.prototype.hasOwnProperty.call(n,t)),$w=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(Ry);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},ID=e=>wr(0,255,e),Fp={...rl,transform:e=>Math.round(ID(e))},_a={test:xy("rgb","red"),parse:$w("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Fp.transform(e)+", "+Fp.transform(t)+", "+Fp.transform(n)+", "+Ou(Yu.transform(r))+")"};function DD(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const pg={test:xy("#"),parse:DD,transform:_a.transform},mc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),as=mc("deg"),Pi=mc("%"),wt=mc("px"),ND=mc("vh"),PD=mc("vw"),bE={...Pi,parse:e=>Pi.parse(e)/100,transform:e=>Pi.transform(e*100)},Lo={test:xy("hsl","hue"),parse:$w("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pi.transform(Ou(t))+", "+Pi.transform(Ou(n))+", "+Ou(Yu.transform(r))+")"},rn={test:e=>_a.test(e)||pg.test(e)||Lo.test(e),parse:e=>_a.test(e)?_a.parse(e):Lo.test(e)?Lo.parse(e):pg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_a.transform(e):Lo.transform(e)},OD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VD(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ry))==null?void 0:t.length)||0)+(((n=e.match(OD))==null?void 0:n.length)||0)>0}const Xw="number",Qw="color",MD="var",kD="var(",wE="${}",LD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $u(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(LD,m=>(rn.test(m)?(r.color.push(l),a.push(Qw),n.push(rn.parse(m))):m.startsWith(kD)?(r.var.push(l),a.push(MD),n.push(m)):(r.number.push(l),a.push(Xw),n.push(parseFloat(m))),++l,wE)).split(wE);return{values:n,split:f,indexes:r,types:a}}function Ww(e){return $u(e).values}function Zw(e){const{split:t,types:n}=$u(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===Xw?l+=Ou(a[c]):f===Qw?l+=rn.transform(a[c]):l+=a[c]}return l}}const UD=e=>typeof e=="number"?0:e;function FD(e){const t=Ww(e);return Zw(e)(t.map(UD))}const vs={test:VD,parse:Ww,createTransformer:Zw,getAnimatableNone:FD};function jp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function jD({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=jp(m,f,e+1/3),l=jp(m,f,e),c=jp(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Rf(e,t){return n=>n>0?t:e}const oe=(e,t,n)=>e+(t-e)*n,Bp=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},BD=[pg,_a,Lo],zD=e=>BD.find(t=>t.test(e));function AE(e){const t=zD(e);if(!t)return!1;let n=t.parse(e);return t===Lo&&(n=jD(n)),n}const SE=(e,t)=>{const n=AE(e),r=AE(t);if(!n||!r)return Rf(e,t);const a={...n};return l=>(a.red=Bp(n.red,r.red,l),a.green=Bp(n.green,r.green,l),a.blue=Bp(n.blue,r.blue,l),a.alpha=oe(n.alpha,r.alpha,l),_a.transform(a))},gg=new Set(["none","hidden"]);function HD(e,t){return gg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function qD(e,t){return n=>oe(e,t,n)}function Cy(e){return typeof e=="number"?qD:typeof e=="string"?Sy(e)?Rf:rn.test(e)?SE:YD:Array.isArray(e)?Jw:typeof e=="object"?rn.test(e)?SE:GD:Rf}function Jw(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>Cy(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function GD(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Cy(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function KD(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],f=e.values[c]??0;n[a]=f,r[l]++}return n}const YD=(e,t)=>{const n=vs.createTransformer(t),r=$u(e),a=$u(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?gg.has(e)&&!a.values.length||gg.has(t)&&!r.values.length?HD(e,t):fc(Jw(KD(r,a),a.values),n):Rf(e,t)};function tA(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?oe(e,t,n):Cy(e)(e,t)}const $D=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>ys(t),now:()=>Xe.isProcessing?Xe.timestamp:wn.now()}},eA=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=e(l/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},xf=2e4;function Iy(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<xf;)t+=n,r=e.next(t);return t>=xf?1/0:t}function XD(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Iy(r),xf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Ni(a)}}const QD=5;function nA(e,t,n){const r=Math.max(t-QD,0);return Mw(n-e(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zp=.001;function WD({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:r=me.mass}){let a,l,c=1-t;c=wr(me.minDamping,me.maxDamping,c),e=wr(me.minDuration,me.maxDuration,Ni(e)),c<1?(a=p=>{const y=p*c,_=y*e,E=y-n,S=yg(p,c),C=Math.exp(-_);return zp-E/S*C},l=p=>{const _=p*c*e,E=_*n+n,S=Math.pow(c,2)*Math.pow(p,2)*e,C=Math.exp(-_),V=yg(Math.pow(p,2),c);return(-a(p)+zp>0?-1:1)*((E-S)*C)/V}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-zp+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const f=5/e,m=JD(a,l,f);if(e=Di(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const ZD=12;function JD(e,t,n){let r=n;for(let a=1;a<ZD;a++)r=r-e(r)/t(r);return r}function yg(e,t){return e*Math.sqrt(1-t*t)}const tN=["duration","bounce"],eN=["stiffness","damping","mass"];function RE(e,t){return t.some(n=>e[n]!==void 0)}function nN(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!RE(e,eN)&&RE(e,tN))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*wr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=WD(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Cf(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:S}=nN({...n,velocity:-Ni(n.velocity||0)}),C=E||0,V=p/(2*Math.sqrt(m*y)),O=c-l,j=Ni(Math.sqrt(m/y)),z=Math.abs(O)<5;r||(r=z?me.restSpeed.granular:me.restSpeed.default),a||(a=z?me.restDelta.granular:me.restDelta.default);let q;if(V<1){const W=yg(j,V);q=ct=>{const M=Math.exp(-V*j*ct);return c-M*((C+V*j*O)/W*Math.sin(W*ct)+O*Math.cos(W*ct))}}else if(V===1)q=W=>c-Math.exp(-j*W)*(O+(C+j*O)*W);else{const W=j*Math.sqrt(V*V-1);q=ct=>{const M=Math.exp(-V*j*ct),x=Math.min(W*ct,300);return c-M*((C+V*j*O)*Math.sinh(x)+W*O*Math.cosh(x))/W}}const it={calculatedDuration:S&&_||null,next:W=>{const ct=q(W);if(S)f.done=W>=_;else{let M=W===0?C:0;V<1&&(M=W===0?Di(C):nA(q,W,ct));const x=Math.abs(M)<=r,I=Math.abs(c-ct)<=a;f.done=x&&I}return f.value=f.done?c:ct,f},toString:()=>{const W=Math.min(Iy(it),xf),ct=eA(M=>it.next(W*M).value,W,30);return W+"ms "+ct},toTransition:()=>{}};return it}Cf.applyToOptions=e=>{const t=XD(e,100,Cf);return e.ease=t.ease,e.duration=Di(t.duration),e.type="keyframes",e};function vg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],E={done:!1,value:_},S=x=>f!==void 0&&x<f||m!==void 0&&x>m,C=x=>f===void 0?m:m===void 0||Math.abs(f-x)<Math.abs(m-x)?f:m;let V=n*t;const O=_+V,j=c===void 0?O:c(O);j!==O&&(V=j-_);const z=x=>-V*Math.exp(-x/r),q=x=>j+z(x),it=x=>{const I=z(x),k=q(x);E.done=Math.abs(I)<=p,E.value=E.done?j:k};let W,ct;const M=x=>{S(E.value)&&(W=x,ct=Cf({keyframes:[E.value,C(E.value)],velocity:nA(q,x,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return M(0),{calculatedDuration:null,next:x=>{let I=!1;return!ct&&W===void 0&&(I=!0,it(x),M(x)),W!==void 0&&x>=W?ct.next(x-W):(!I&&it(x),E)}}}function iN(e,t,n){const r=[],a=n||Ar.mix||tA,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Zn:t;f=fc(m,f)}r.push(f)}return r}function rN(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(_y(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=iN(t,r,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const E=Ku(e[_],e[_+1],y);return f[_](E)};return n?y=>p(wr(e[0],e[l-1],y)):p}function sN(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Ku(0,t,r);e.push(oe(n,1,a))}}function aN(e){const t=[0];return sN(t,e.length-1),t}function oN(e,t){return e.map(n=>n*t)}function lN(e,t){return e.map(()=>t||qw).splice(0,e.length-1)}function Vu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=_D(r)?r.map(TE):TE(r),l={done:!1,value:t[0]},c=oN(n&&n.length===t.length?n:aN(t),e),f=rN(c,t,{ease:Array.isArray(a)?a:lN(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const uN=e=>e!==null;function Dy(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(uN),f=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const cN={decay:vg,inertia:vg,tween:Vu,keyframes:Vu,spring:Cf};function iA(e){typeof e.type=="string"&&(e.type=cN[e.type])}class Ny{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const hN=e=>e/100;class Py extends Ny{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;iA(t);const{type:n=Vu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const m=n||Vu;m!==Vu&&typeof f[0]!="number"&&(this.mixKeyframes=fc(hN,tA(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Iy(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:E,repeatDelay:S,type:C,onUpdate:V,finalKeyframe:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,it=r;if(_){const x=Math.min(this.currentTime,a)/f;let I=Math.floor(x),k=x%1;!k&&x>=1&&(k=1),k===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(E==="reverse"?(k=1-k,S&&(k-=S/f)):E==="mirror"&&(it=c)),q=wr(0,1,k)*f}const W=z?{done:!1,value:y[0]}:it.next(q);l&&(W.value=l(W.value));let{done:ct}=W;!z&&m!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return M&&C!==vg&&(W.value=Dy(y,this.options,O,this.speed)),V&&V(W.value),M&&this.finish(),W}then(t,n){return this.finished.then(t,n)}get duration(){return Ni(this.calculatedDuration)}get time(){return Ni(this.currentTime)}set time(t){var n;t=Di(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(wn.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ni(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:t=$D,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function fN(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ta=e=>e*180/Math.PI,_g=e=>{const t=Ta(Math.atan2(e[1],e[0]));return Tg(t)},dN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_g,rotateZ:_g,skewX:e=>Ta(Math.atan(e[1])),skewY:e=>Ta(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Tg=e=>(e=e%360,e<0&&(e+=360),e),xE=_g,CE=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),IE=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),mN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:CE,scaleY:IE,scale:e=>(CE(e)+IE(e))/2,rotateX:e=>Tg(Ta(Math.atan2(e[6],e[5]))),rotateY:e=>Tg(Ta(Math.atan2(-e[2],e[0]))),rotateZ:xE,rotate:xE,skewX:e=>Ta(Math.atan(e[4])),skewY:e=>Ta(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Eg(e){return e.includes("scale")?1:0}function bg(e,t){if(!e||e==="none")return Eg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=mN,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dN,a=f}if(!a)return Eg(t);const l=r[t],c=a[1].split(",").map(gN);return typeof l=="function"?l(c):c[l]}const pN=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return bg(n,t)};function gN(e){return parseFloat(e.trim())}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],al=new Set(sl),DE=e=>e===rl||e===wt,yN=new Set(["x","y","z"]),vN=sl.filter(e=>!yN.has(e));function _N(e){const t=[];return vN.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const wa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>bg(t,"x"),y:(e,{transform:t})=>bg(t,"y")};wa.translateX=wa.x;wa.translateY=wa.y;const Aa=new Set;let wg=!1,Ag=!1,Sg=!1;function rA(){if(Ag){const e=Array.from(Aa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=_N(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))==null||f.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ag=!1,wg=!1,Aa.forEach(e=>e.complete(Sg)),Aa.clear()}function sA(){Aa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ag=!0)})}function TN(){Sg=!0,sA(),rA(),Sg=!1}class Oy{constructor(t,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Aa.add(this),wg||(wg=!0,ue.read(sA),ue.resolveKeyframes(rA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a==null?void 0:a.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const f=r.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}fN(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Aa.delete(this)}cancel(){this.state==="scheduled"&&(Aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EN=e=>e.startsWith("--");function bN(e,t,n){EN(t)?e.style.setProperty(t,n):e.style[t]=n}const wN=Ty(()=>window.ScrollTimeline!==void 0),AN={};function SN(e,t){const n=Ty(e);return()=>AN[t]??n()}const aA=SN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ru=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,NE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ru([0,.65,.55,1]),circOut:Ru([.55,0,1,.45]),backIn:Ru([.31,.01,.66,-.59]),backOut:Ru([.33,1.53,.69,.99])};function oA(e,t){if(e)return typeof e=="function"?aA()?eA(e,t):"ease-out":Gw(e)?Ru(e):Array.isArray(e)?e.map(n=>oA(n,t)||NE.easeOut):NE[e]}function RN(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=oA(f,a);Array.isArray(_)&&(y.easing=_);const E={delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),e.animate(y,E)}function lA(e){return typeof e=="function"&&"applyToOptions"in e}function xN({type:e,...t}){return lA(e)&&aA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class CN extends Ny{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,_y(typeof t.type!="string");const p=xN(t);this.animation=RN(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Dy(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):bN(n,r,y),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ni(Number(t))}get time(){return Ni(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Di(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&wN()?(this.animation.timeline=t,Zn):n(this)}}const uA={anticipate:Bw,backInOut:jw,circInOut:Hw};function IN(e){return e in uA}function DN(e){typeof e.ease=="string"&&IN(e.ease)&&(e.ease=uA[e.ease])}const PE=10;class NN extends CN{constructor(t){DN(t),iA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new Py({...c,autoplay:!1}),m=Di(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-PE).value,f.sample(m).value,PE),f.stop()}}const OE=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vs.test(e)||e==="0")&&!e.startsWith("url("));function PN(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ON(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=OE(a,t),f=OE(l,t);return!c||!f?!1:PN(e)||(n==="spring"||lA(n))&&r}function cA(e){return Ow(e)&&"offsetHeight"in e}const VN=new Set(["opacity","clipPath","filter","transform"]),MN=Ty(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kN(e){var p;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!cA((p=t==null?void 0:t.owner)==null?void 0:p.current))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return MN()&&n&&VN.has(n)&&(n!=="transform"||!m)&&!f&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const LN=40;class UN extends Ny{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,..._}){var C;super(),this.stop=()=>{var V,O;this._animation&&(this._animation.stop(),(V=this.stopTimeline)==null||V.call(this)),(O=this.keyframeResolver)==null||O.cancel()},this.createdAt=wn.now();const E={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,..._},S=(y==null?void 0:y.KeyframeResolver)||Oy;this.keyframeResolver=new S(f,(V,O,j)=>this.onKeyframesResolved(V,O,E,!j),m,p,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=wn.now(),ON(t,l,c,f)||((Ar.instantAnimations||!m)&&(y==null||y(Dy(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>LN?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},S=!p&&kN(E)?new NN({...E,element:E.motionValue.owner.current}):new Py(E);S.finished.then(()=>this.notifyFinished()).catch(Zn),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),TN()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const FN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jN(e){const t=FN.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function hA(e,t,n=1){const[r,a]=jN(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return Pw(c)?parseFloat(c):c}return Sy(a)?hA(a,t,n+1):a}function Vy(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const fA=new Set(["width","height","top","left","right","bottom",...sl]),BN={test:e=>e==="auto",parse:e=>e},dA=e=>t=>t.test(e),mA=[rl,wt,Pi,as,PD,ND,BN],VE=e=>mA.find(dA(e));function zN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Vw(e):!0}const HN=new Set(["brightness","contrast","saturate","opacity"]);function qN(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ry)||[];if(!r)return e;const a=n.replace(r,"");let l=HN.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const GN=/\b([a-z-]*)\(.*?\)/gu,Rg={...vs,getAnimatableNone:e=>{const t=e.match(GN);return t?t.map(qN).join(" "):e}},ME={...rl,transform:Math.round},KN={rotate:as,rotateX:as,rotateY:as,rotateZ:as,scale:Zh,scaleX:Zh,scaleY:Zh,scaleZ:Zh,skew:as,skewX:as,skewY:as,distance:wt,translateX:wt,translateY:wt,translateZ:wt,x:wt,y:wt,z:wt,perspective:wt,transformPerspective:wt,opacity:Yu,originX:bE,originY:bE,originZ:wt},My={borderWidth:wt,borderTopWidth:wt,borderRightWidth:wt,borderBottomWidth:wt,borderLeftWidth:wt,borderRadius:wt,radius:wt,borderTopLeftRadius:wt,borderTopRightRadius:wt,borderBottomRightRadius:wt,borderBottomLeftRadius:wt,width:wt,maxWidth:wt,height:wt,maxHeight:wt,top:wt,right:wt,bottom:wt,left:wt,padding:wt,paddingTop:wt,paddingRight:wt,paddingBottom:wt,paddingLeft:wt,margin:wt,marginTop:wt,marginRight:wt,marginBottom:wt,marginLeft:wt,backgroundPositionX:wt,backgroundPositionY:wt,...KN,zIndex:ME,fillOpacity:Yu,strokeOpacity:Yu,numOctaves:ME},YN={...My,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:Rg,WebkitFilter:Rg},pA=e=>YN[e];function gA(e,t){let n=pA(e);return n!==Rg&&(n=vs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $N=new Set(["auto","none","0"]);function XN(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!$N.has(l)&&$u(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=gA(n,a)}class QN extends Oy{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Sy(p))){const y=hA(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!fA.has(r)||t.length!==2)return;const[a,l]=t,c=VE(a),f=VE(l);if(c!==f)if(DE(c)&&DE(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else wa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||zN(t[a]))&&r.push(a);r.length&&XN(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=wa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function WN(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const yA=(e,t)=>t&&typeof e=="number"?t.transform(e):e,kE=30,ZN=e=>!isNaN(parseFloat(e));class JN{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var c,f;const l=wn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const m of this.dependents)m.dirty();a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=wn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ZN(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ey);const r=this.events[t].add(n);return t==="change"?()=>{r(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kE);return Mw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yo(e,t){return new JN(e,t)}const{schedule:ky}=Kw(queueMicrotask,!1),ai={x:!1,y:!1};function vA(){return ai.x||ai.y}function tP(e){return e==="x"||e==="y"?ai[e]?null:(ai[e]=!0,()=>{ai[e]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function _A(e,t){const n=WN(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function LE(e){return!(e.pointerType==="touch"||vA())}function eP(e,t,n={}){const[r,a,l]=_A(e,n),c=f=>{if(!LE(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=_=>{LE(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const TA=(e,t)=>t?e===t?!0:TA(e,t.parentElement):!1,Ly=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,nP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iP(e){return nP.has(e.tagName)||e.tabIndex!==-1}const ff=new WeakSet;function UE(e){return t=>{t.key==="Enter"&&e(t)}}function Hp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rP=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=UE(()=>{if(ff.has(n))return;Hp(n,"down");const a=UE(()=>{Hp(n,"up")}),l=()=>Hp(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function FE(e){return Ly(e)&&!vA()}function sP(e,t,n={}){const[r,a,l]=_A(e,n),c=f=>{const m=f.currentTarget;if(!FE(f))return;ff.add(m);const p=t(m,f),y=(S,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),ff.has(m)&&ff.delete(m),FE(S)&&typeof p=="function"&&p(S,{success:C})},_=S=>{y(S,m===window||m===document||n.useGlobalTarget||TA(m,S.target))},E=S=>{y(S,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),cA(f)&&(f.addEventListener("focus",p=>rP(p,a)),!iP(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function EA(e){return Ow(e)&&"ownerSVGElement"in e}function aP(e){return EA(e)&&e.tagName==="svg"}const on=e=>!!(e&&e.getVelocity),oP=[...mA,rn,vs],lP=e=>oP.find(dA(e)),bA=F.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function uP(e=!0){const t=F.useContext(gy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=F.useId();F.useEffect(()=>{if(e)return a(l)},[e]);const c=F.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const wA=F.createContext({strict:!1}),jE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$o={};for(const e in jE)$o[e]={isEnabled:t=>jE[e].some(n=>!!t[n])};function cP(e){for(const t in e)$o[t]={...$o[t],...e[t]}}const hP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function If(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hP.has(e)}let AA=e=>!If(e);function fP(e){e&&(AA=t=>t.startsWith("on")?!If(t):e(t))}try{fP(require("@emotion/is-prop-valid").default)}catch{}function dP(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(AA(a)||n===!0&&If(a)||!t&&!If(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function mP(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const ed=F.createContext({});function nd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Xu(e){return typeof e=="string"||Array.isArray(e)}const Uy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fy=["initial",...Uy];function id(e){return nd(e.animate)||Fy.some(t=>Xu(e[t]))}function SA(e){return!!(id(e)||e.variants)}function pP(e,t){if(id(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Xu(n)?n:void 0,animate:Xu(r)?r:void 0}}return e.inherit!==!1?t:{}}function gP(e){const{initial:t,animate:n}=pP(e,F.useContext(ed));return F.useMemo(()=>({initial:t,animate:n}),[BE(t),BE(n)])}function BE(e){return Array.isArray(e)?e.join(" "):e}const yP=Symbol.for("motionComponentSymbol");function Uo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vP(e,t,n){return F.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Uo(n)&&(n.current=r))},[t])}const jy=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_P="framerAppearId",RA="data-"+jy(_P),xA=F.createContext({});function TP(e,t,n,r,a){var V,O;const{visualElement:l}=F.useContext(ed),c=F.useContext(wA),f=F.useContext(gy),m=F.useContext(bA).reducedMotion,p=F.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=F.useContext(xA);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&EP(p.current,n,a,_);const E=F.useRef(!1);F.useInsertionEffect(()=>{y&&E.current&&y.update(n,f)});const S=n[RA],C=F.useRef(!!S&&!((V=window.MotionHandoffIsComplete)!=null&&V.call(window,S))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,S)));return fD(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),ky.render(y.render),C.current&&y.animationState&&y.animationState.animateChanges())}),F.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,S)}),C.current=!1))}),y}function EP(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:CA(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Uo(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function CA(e){if(e)return e.options.allowProjection!==!1?e.projection:CA(e.parent)}function bP({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&cP(e);function l(f,m){let p;const y={...F.useContext(bA),...f,layoutId:wP(f)},{isStatic:_}=y,E=gP(f),S=r(f,_);if(!_&&py){AP();const C=SP(y);p=C.MeasureLayout,E.visualElement=TP(a,S,y,t,C.ProjectionNode)}return R.jsxs(ed.Provider,{value:E,children:[p&&E.visualElement?R.jsx(p,{visualElement:E.visualElement,...y}):null,n(a,f,vP(S,E.visualElement,m),S,_,E.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=F.forwardRef(l);return c[yP]=a,c}function wP({layoutId:e}){const t=F.useContext(Nw).id;return t&&e!==void 0?t+"-"+e:e}function AP(e,t){F.useContext(wA).strict}function SP(e){const{drag:t,layout:n}=$o;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Qu={};function RP(e){for(const t in e)Qu[t]=e[t],Ay(t)&&(Qu[t].isCSSVariable=!0)}function IA(e,{layout:t,layoutId:n}){return al.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Qu[e]||e==="opacity")}const xP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CP=sl.length;function IP(e,t,n){let r="",a=!0;for(let l=0;l<CP;l++){const c=sl[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=yA(f,My[c]);if(!m){a=!1;const y=xP[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function By(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(al.has(m)){c=!0;continue}else if(Ay(m)){a[m]=p;continue}else{const y=yA(p,My[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=IP(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DA(e,t,n){for(const r in t)!on(t[r])&&!IA(r,n)&&(e[r]=t[r])}function DP({transformTemplate:e},t){return F.useMemo(()=>{const n=zy();return By(n,t,e),Object.assign({},n.vars,n.style)},[t])}function NP(e,t){const n=e.style||{},r={};return DA(r,n,e),Object.assign(r,DP(e,t)),r}function PP(e,t){const n={},r=NP(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const OP={offset:"stroke-dashoffset",array:"stroke-dasharray"},VP={offset:"strokeDashoffset",array:"strokeDasharray"};function MP(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?OP:VP;e[l.offset]=wt.transform(-r);const c=wt.transform(t),f=wt.transform(n);e[l.array]=`${c} ${f}`}function NA(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(By(e,f,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:E}=e;_.transform&&(E.transform=_.transform,delete _.transform),(E.transform||_.transformOrigin)&&(E.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),E.transform&&(E.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),a!==void 0&&MP(_,a,l,c,!1)}const PA=()=>({...zy(),attrs:{}}),OA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kP(e,t,n,r){const a=F.useMemo(()=>{const l=PA();return NA(l,t,OA(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};DA(l,e.style,e),a.style={...l,...a.style}}return a}const LP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hy(e){return typeof e!="string"||e.includes("-")?!1:!!(LP.indexOf(e)>-1||/[A-Z]/u.test(e))}function UP(e=!1){return(n,r,a,{latestValues:l},c)=>{const m=(Hy(n)?kP:PP)(r,l,c,n),p=dP(r,typeof n=="string",e),y=n!==F.Fragment?{...p,...m,ref:a}:{},{children:_}=r,E=F.useMemo(()=>on(_)?_.get():_,[_]);return F.createElement(n,{...y,children:E})}}function zE(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function qy(e,t,n,r){if(typeof t=="function"){const[a,l]=zE(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=zE(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function df(e){return on(e)?e.get():e}function FP({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:jP(n,r,a,e),renderState:t()}}const VA=e=>(t,n)=>{const r=F.useContext(ed),a=F.useContext(gy),l=()=>FP(e,t,r,a);return n?l():hD(l)};function jP(e,t,n,r){const a={},l=r(e,{});for(const E in l)a[E]=df(l[E]);let{initial:c,animate:f}=e;const m=id(e),p=SA(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!nd(_)){const E=Array.isArray(_)?_:[_];for(let S=0;S<E.length;S++){const C=qy(e,E[S]);if(C){const{transitionEnd:V,transition:O,...j}=C;for(const z in j){let q=j[z];if(Array.isArray(q)){const it=y?q.length-1:0;q=q[it]}q!==null&&(a[z]=q)}for(const z in V)a[z]=V[z]}}}return a}function Gy(e,t,n){var l;const{style:r}=e,a={};for(const c in r)(on(r[c])||t.style&&on(t.style[c])||IA(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}const BP={useVisualState:VA({scrapeMotionValuesFromProps:Gy,createRenderState:zy})};function MA(e,t,n){const r=Gy(e,t,n);for(const a in e)if(on(e[a])||on(t[a])){const l=sl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const zP={useVisualState:VA({scrapeMotionValuesFromProps:MA,createRenderState:PA})};function HP(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Hy(r)?zP:BP,preloadedFeatures:e,useRender:UP(a),createVisualElement:t,Component:r};return bP(c)}}function Wu(e,t,n){const r=e.getProps();return qy(r,t,n!==void 0?n:r.custom,e)}const xg=e=>Array.isArray(e);function qP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yo(n))}function GP(e){return xg(e)?e[e.length-1]||0:e}function KP(e,t){const n=Wu(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=GP(l[c]);qP(e,c,f)}}function YP(e){return!!(on(e)&&e.add)}function Cg(e,t){const n=e.getValue("willChange");if(YP(n))return n.add(t);if(!n&&Ar.WillChange){const r=new Ar.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function kA(e){return e.props[RA]}const $P=e=>e!==null;function XP(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter($P),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const QP={type:"spring",stiffness:500,damping:25,restSpeed:10},WP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZP={type:"keyframes",duration:.8},JP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tO=(e,{keyframes:t})=>t.length>2?ZP:al.has(e)?e.startsWith("scale")?WP(t[1]):QP:JP;function eO({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Ky=(e,t,n,r={},a,l)=>c=>{const f=Vy(r,e)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Di(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:E=>{t.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};eO(f)||Object.assign(y,tO(e,y)),y.duration&&(y.duration=Di(y.duration)),y.repeatDelay&&(y.repeatDelay=Di(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),(Ar.instantAnimations||Ar.skipAnimations)&&(_=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,_&&!l&&t.get()!==void 0){const E=XP(y.keyframes,f);if(E!==void 0){ue.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new Py(y):new UN(y)};function nO({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function LA(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(l=r);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in f){const _=e.getValue(y,e.latestValues[y]??null),E=f[y];if(E===void 0||p&&nO(p,y))continue;const S={delay:n,...Vy(l||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(E)&&E===C&&!S.velocity)continue;let V=!1;if(window.MotionHandoffAnimation){const j=kA(e);if(j){const z=window.MotionHandoffAnimation(j,y,ue);z!==null&&(S.startTime=z,V=!0)}}Cg(e,y),_.start(Ky(y,_,E,e.shouldReduceMotion&&fA.has(y)?{type:!1}:S,e,V));const O=_.animation;O&&m.push(O)}return c&&Promise.all(m).then(()=>{ue.update(()=>{c&&KP(e,c)})}),m}function Ig(e,t,n={}){var m;const r=Wu(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(LA(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=a;return iO(e,t,y+p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,c]:[c,l];return p().then(()=>y())}else return Promise.all([l(),c(n.delay)])}function iO(e,t,n=0,r=0,a=1,l){const c=[],f=(e.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(e.variantChildren).sort(rO).forEach((p,y)=>{p.notify("AnimationStart",t),c.push(Ig(p,t,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function rO(e,t){return e.sortNodePosition(t)}function sO(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>Ig(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=Ig(e,t,n);else{const a=typeof t=="function"?Wu(e,t,n.custom):t;r=Promise.all(LA(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function UA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const aO=Fy.length;function FA(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?FA(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<aO;n++){const r=Fy[n],a=e.props[r];(Xu(a)||a===!1)&&(t[r]=a)}return t}const oO=[...Uy].reverse(),lO=Uy.length;function uO(e){return t=>Promise.all(t.map(({animation:n,options:r})=>sO(e,n,r)))}function cO(e){let t=uO(e),n=HE(),r=!0;const a=m=>(p,y)=>{var E;const _=Wu(e,y,m==="exit"?(E=e.presenceContext)==null?void 0:E.custom:void 0);if(_){const{transition:S,transitionEnd:C,...V}=_;p={...p,...V,...C}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=FA(e.parent)||{},_=[],E=new Set;let S={},C=1/0;for(let O=0;O<lO;O++){const j=oO[O],z=n[j],q=p[j]!==void 0?p[j]:y[j],it=Xu(q),W=j===m?z.isActive:null;W===!1&&(C=O);let ct=q===y[j]&&q!==p[j]&&it;if(ct&&r&&e.manuallyAnimateOnMount&&(ct=!1),z.protectedKeys={...S},!z.isActive&&W===null||!q&&!z.prevProp||nd(q)||typeof q=="boolean")continue;const M=hO(z.prevProp,q);let x=M||j===m&&z.isActive&&!ct&&it||O>C&&it,I=!1;const k=Array.isArray(q)?q:[q];let D=k.reduce(a(j),{});W===!1&&(D={});const{prevResolvedValues:B={}}=z,N={...B,...D},Jt=at=>{x=!0,E.has(at)&&(I=!0,E.delete(at)),z.needsAnimating[at]=!0;const ft=e.getValue(at);ft&&(ft.liveStyle=!1)};for(const at in N){const ft=D[at],kt=B[at];if(S.hasOwnProperty(at))continue;let L=!1;xg(ft)&&xg(kt)?L=!UA(ft,kt):L=ft!==kt,L?ft!=null?Jt(at):E.add(at):ft!==void 0&&E.has(at)?Jt(at):z.protectedKeys[at]=!0}z.prevProp=q,z.prevResolvedValues=D,z.isActive&&(S={...S,...D}),r&&e.blockInitialAnimation&&(x=!1),x&&(!(ct&&M)||I)&&_.push(...k.map(at=>({animation:at,options:{type:j}})))}if(E.size){const O={};if(typeof p.initial!="boolean"){const j=Wu(e,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(O.transition=j.transition)}E.forEach(j=>{const z=e.getBaseTarget(j),q=e.getValue(j);q&&(q.liveStyle=!0),O[j]=z??null}),_.push({animation:O})}let V=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(V=!1),r=!1,V?t(_):Promise.resolve()}function f(m,p){var _;if(n[m].isActive===p)return Promise.resolve();(_=e.variantChildren)==null||_.forEach(E=>{var S;return(S=E.animationState)==null?void 0:S.setActive(m,p)}),n[m].isActive=p;const y=c(m);for(const E in n)n[E].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=HE(),r=!0}}}function hO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!UA(t,e):!1}function ga(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HE(){return{animate:ga(!0),whileInView:ga(),whileHover:ga(),whileTap:ga(),whileDrag:ga(),whileFocus:ga(),exit:ga()}}class Rs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fO extends Rs{constructor(t){super(t),t.animationState||(t.animationState=cO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let dO=0;class mO extends Rs{constructor(){super(...arguments),this.id=dO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const pO={animation:{Feature:fO},exit:{Feature:mO}};function Zu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function pc(e){return{point:{x:e.pageX,y:e.pageY}}}const gO=e=>t=>Ly(t)&&e(t,pc(t));function Mu(e,t,n,r){return Zu(e,t,gO(n),r)}function jA({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function yO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function vO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const BA=1e-4,_O=1-BA,TO=1+BA,zA=.01,EO=0-zA,bO=0+zA;function mn(e){return e.max-e.min}function wO(e,t,n){return Math.abs(e-t)<=n}function qE(e,t,n,r=.5){e.origin=r,e.originPoint=oe(t.min,t.max,e.origin),e.scale=mn(n)/mn(t),e.translate=oe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=_O&&e.scale<=TO||isNaN(e.scale))&&(e.scale=1),(e.translate>=EO&&e.translate<=bO||isNaN(e.translate))&&(e.translate=0)}function ku(e,t,n,r){qE(e.x,t.x,n.x,r?r.originX:void 0),qE(e.y,t.y,n.y,r?r.originY:void 0)}function GE(e,t,n){e.min=n.min+t.min,e.max=e.min+mn(t)}function AO(e,t,n){GE(e.x,t.x,n.x),GE(e.y,t.y,n.y)}function KE(e,t,n){e.min=t.min-n.min,e.max=e.min+mn(t)}function Lu(e,t,n){KE(e.x,t.x,n.x),KE(e.y,t.y,n.y)}const YE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fo=()=>({x:YE(),y:YE()}),$E=()=>({min:0,max:0}),Ee=()=>({x:$E(),y:$E()});function Wn(e){return[e("x"),e("y")]}function qp(e){return e===void 0||e===1}function Dg({scale:e,scaleX:t,scaleY:n}){return!qp(e)||!qp(t)||!qp(n)}function ya(e){return Dg(e)||HA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function HA(e){return XE(e.x)||XE(e.y)}function XE(e){return e&&e!=="0%"}function Df(e,t,n){const r=e-n,a=t*r;return n+a}function QE(e,t,n,r,a){return a!==void 0&&(e=Df(e,a,r)),Df(e,n,r)+t}function Ng(e,t=0,n=1,r,a){e.min=QE(e.min,t,n,r,a),e.max=QE(e.max,t,n,r,a)}function qA(e,{x:t,y:n}){Ng(e.x,t.translate,t.scale,t.originPoint),Ng(e.y,n.translate,n.scale,n.originPoint)}const WE=.999999999999,ZE=1.0000000000001;function SO(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,qA(e,c)),r&&ya(l.latestValues)&&Bo(e,l.latestValues))}t.x<ZE&&t.x>WE&&(t.x=1),t.y<ZE&&t.y>WE&&(t.y=1)}function jo(e,t){e.min=e.min+t,e.max=e.max+t}function JE(e,t,n,r,a=.5){const l=oe(e.min,e.max,a);Ng(e,t,n,l,r)}function Bo(e,t){JE(e.x,t.x,t.scaleX,t.scale,t.originX),JE(e.y,t.y,t.scaleY,t.scale,t.originY)}function GA(e,t){return jA(vO(e.getBoundingClientRect(),t))}function RO(e,t,n){const r=GA(e,n),{scroll:a}=t;return a&&(jo(r.x,a.offset.x),jo(r.y,a.offset.y)),r}const KA=({current:e})=>e?e.ownerDocument.defaultView:null,t1=(e,t)=>Math.abs(e-t);function xO(e,t){const n=t1(e.x,t.x),r=t1(e.y,t.y);return Math.sqrt(n**2+r**2)}class YA{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Kp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=xO(_.offset,{x:0,y:0})>=3;if(!E&&!S)return;const{point:C}=_,{timestamp:V}=Xe;this.history.push({...C,timestamp:V});const{onStart:O,onMove:j}=this.handlers;E||(O&&O(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Gp(E,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:S,onSessionEnd:C,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Kp(_.type==="pointercancel"?this.lastMoveEventInfo:Gp(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,O),C&&C(_,O)},!Ly(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=pc(t),f=Gp(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=Xe;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(t,Kp(f,this.history)),this.removeListeners=fc(Mu(this.contextWindow,"pointermove",this.handlePointerMove),Mu(this.contextWindow,"pointerup",this.handlePointerUp),Mu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ys(this.updatePoint)}}function Gp(e,t){return t?{point:t(e.point)}:e}function e1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Kp({point:e},t){return{point:e,delta:e1(e,$A(t)),offset:e1(e,CO(t)),velocity:IO(t,.1)}}function CO(e){return e[0]}function $A(e){return e[e.length-1]}function IO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=$A(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Di(t)));)n--;if(!r)return{x:0,y:0};const l=Ni(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function DO(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?oe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?oe(n,e,r.max):Math.min(e,n)),e}function n1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function NO(e,{top:t,left:n,bottom:r,right:a}){return{x:n1(e.x,n,a),y:n1(e.y,t,r)}}function i1(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function PO(e,t){return{x:i1(e.x,t.x),y:i1(e.y,t.y)}}function OO(e,t){let n=.5;const r=mn(e),a=mn(t);return a>r?n=Ku(t.min,t.max-r,e.min):r>a&&(n=Ku(e.min,e.max-a,t.min)),wr(0,1,n)}function VO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Pg=.35;function MO(e=Pg){return e===!1?e=0:e===!0&&(e=Pg),{x:r1(e,"left","right"),y:r1(e,"top","bottom")}}function r1(e,t,n){return{min:s1(e,t),max:s1(e,n)}}function s1(e,t){return typeof e=="number"?e:e[t]||0}const kO=new WeakMap;class LO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ee(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pc(y).point)},l=(y,_)=>{const{drag:E,dragPropagation:S,onDragStart:C}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tP(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(O=>{let j=this.getAxisMotionValue(O).get()||0;if(Pi.test(j)){const{projection:z}=this.visualElement;if(z&&z.layout){const q=z.layout.layoutBox[O];q&&(j=mn(q)*(parseFloat(j)/100))}}this.originPoint[O]=j}),C&&ue.postRender(()=>C(y,_)),Cg(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:C,onDrag:V}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:O}=_;if(S&&this.currentDirection===null){this.currentDirection=UO(O),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",_.point,O),this.updateAxis("y",_.point,O),this.visualElement.render(),V&&V(y,_)},f=(y,_)=>this.stop(y,_),m=()=>Wn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new YA(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:KA(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ue.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Jh(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=DO(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;t&&Uo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=NO(r.layoutBox,t):this.constraints=!1,this.elastic=MO(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Wn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=VO(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Uo(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=RO(r,a.root,this.visualElement.getTransformPagePoint());let c=PO(a.layout.layoutBox,l);if(n){const f=n(yO(c));this.hasMutatedConstraints=!!f,f&&(c=jA(f))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Wn(y=>{if(!Jh(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,S=a?40:1e7,C={type:"inertia",velocity:r?t[y]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Cg(this.visualElement,t),r.start(Ky(t,r,0,n,this.visualElement,!1))}stopAnimation(){Wn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Wn(n=>{const{drag:r}=this.getProps();if(!Jh(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-oe(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Uo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Wn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=OO({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(c=>{if(!Jh(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(oe(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;kO.set(this.visualElement,this);const t=this.visualElement.current,n=Mu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Uo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ue.read(r);const c=Zu(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Wn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=Pg,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Jh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function UO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class FO extends Rs{constructor(t){super(t),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new LO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const a1=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class jO extends Rs{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(t){this.session=new YA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:KA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:a1(t),onStart:a1(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ue.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Mu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Au={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(wt.test(e))e=parseFloat(e);else return e;const n=o1(e,t.target.x),r=o1(e,t.target.y);return`${n}% ${r}%`}},BO={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=vs.parse(e);if(a.length>5)return r;const l=vs.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=oe(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class zO extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;RP(HO),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ue.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ky.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function XA(e){const[t,n]=uP(),r=F.useContext(Nw);return R.jsx(zO,{...e,layoutGroup:r,switchLayoutGroup:F.useContext(xA),isPresent:t,safeToRemove:n})}const HO={borderRadius:{...Au,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Au,borderTopRightRadius:Au,borderBottomLeftRadius:Au,borderBottomRightRadius:Au,boxShadow:BO};function qO(e,t,n){const r=on(e)?e:Yo(e);return r.start(Ky("",r,t,n)),r.animation}const GO=(e,t)=>e.depth-t.depth;class KO{constructor(){this.children=[],this.isDirty=!1}add(t){yy(this.children,t),this.isDirty=!0}remove(t){vy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GO),this.isDirty=!1,this.children.forEach(t)}}function YO(e,t){const n=wn.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(ys(r),e(l-t))};return ue.setup(r,!0),()=>ys(r)}const QA=["TopLeft","TopRight","BottomLeft","BottomRight"],$O=QA.length,l1=e=>typeof e=="string"?parseFloat(e):e,u1=e=>typeof e=="number"||wt.test(e);function XO(e,t,n,r,a,l){a?(e.opacity=oe(0,n.opacity??1,QO(r)),e.opacityExit=oe(t.opacity??1,0,WO(r))):l&&(e.opacity=oe(t.opacity??1,n.opacity??1,r));for(let c=0;c<$O;c++){const f=`border${QA[c]}Radius`;let m=c1(t,f),p=c1(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||u1(m)===u1(p)?(e[f]=Math.max(oe(l1(m),l1(p),r),0),(Pi.test(p)||Pi.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=oe(t.rotate||0,n.rotate||0,r))}function c1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const QO=WA(0,.5,zw),WO=WA(.5,.95,Zn);function WA(e,t,n){return r=>r<e?0:r>t?1:n(Ku(e,t,r))}function h1(e,t){e.min=t.min,e.max=t.max}function Qn(e,t){h1(e.x,t.x),h1(e.y,t.y)}function f1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function d1(e,t,n,r,a){return e-=t,e=Df(e,1/n,r),a!==void 0&&(e=Df(e,1/a,r)),e}function ZO(e,t=0,n=1,r=.5,a,l=e,c=e){if(Pi.test(t)&&(t=parseFloat(t),t=oe(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=oe(l.min,l.max,r);e===l&&(f-=t),e.min=d1(e.min,t,n,f,a),e.max=d1(e.max,t,n,f,a)}function m1(e,t,[n,r,a],l,c){ZO(e,t[n],t[r],t[a],t.scale,l,c)}const JO=["x","scaleX","originX"],t4=["y","scaleY","originY"];function p1(e,t,n,r){m1(e.x,t,JO,n?n.x:void 0,r?r.x:void 0),m1(e.y,t,t4,n?n.y:void 0,r?r.y:void 0)}function g1(e){return e.translate===0&&e.scale===1}function ZA(e){return g1(e.x)&&g1(e.y)}function y1(e,t){return e.min===t.min&&e.max===t.max}function e4(e,t){return y1(e.x,t.x)&&y1(e.y,t.y)}function v1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function JA(e,t){return v1(e.x,t.x)&&v1(e.y,t.y)}function _1(e){return mn(e.x)/mn(e.y)}function T1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class n4{constructor(){this.members=[]}add(t){yy(this.members,t),t.scheduleRender()}remove(t){if(vy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i4(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:S,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),S&&(r+=`skewX(${S}deg) `),C&&(r+=`skewY(${C}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Yp=["","X","Y","Z"],r4={visibility:"hidden"},s4=1e3;let a4=0;function $p(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function tS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=kA(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&tS(r)}function eS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=t==null?void 0:t()){this.id=a4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u4),this.nodes.forEach(m4),this.nodes.forEach(p4),this.nodes.forEach(c4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new KO)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ey),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=EA(c)&&!aP(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let y;const _=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=YO(_,250),mf.hasAnimatedSinceResize&&(mf.hasAnimatedSinceResize=!1,this.nodes.forEach(b1))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:E,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||T4,{onLayoutAnimationStart:V,onLayoutAnimationComplete:O}=p.getProps(),j=!this.targetLayout||!JA(this.targetLayout,S),z=!_&&E;if(this.options.layoutRoot||this.resumeFrom||z||_&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...Vy(C,"layout"),onPlay:V,onComplete:O};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(y,z)}else _||b1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E1);return}this.isUpdating||this.nodes.forEach(f4),this.isUpdating=!1,this.nodes.forEach(d4),this.nodes.forEach(o4),this.nodes.forEach(l4),this.clearAllSnapshots();const f=wn.now();Xe.delta=wr(0,1e3/60,f-Xe.timestamp),Xe.timestamp=f,Xe.isProcessing=!0,Up.update.process(Xe),Up.preRender.process(Xe),Up.render.process(Xe),Xe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ky.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h4),this.sharedNodes.forEach(y4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ee(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!ZA(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||ya(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),E4(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:c}=this.options;if(!c)return Ee();const f=c.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(b4))){const{scroll:y}=this.root;y&&(jo(f.x,y.offset.x),jo(f.y,y.offset.y))}return f}removeElementScroll(c){var m;const f=Ee();if(Qn(f,c),(m=this.scroll)!=null&&m.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Qn(f,c),jo(f.x,_.offset.x),jo(f.y,_.offset.y))}return f}applyTransform(c,f=!1){const m=Ee();Qn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Bo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ya(y.latestValues)&&Bo(m,y.latestValues)}return ya(this.latestValues)&&Bo(m,this.latestValues),m}removeTransform(c){const f=Ee();Qn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ya(p.latestValues))continue;Dg(p.latestValues)&&p.updateSnapshot();const y=Ee(),_=p.measurePageBox();Qn(y,_),p1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ya(this.latestValues)&&p1(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var E;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Xe.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Lu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ee(),this.targetWithTransforms=Ee()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),qA(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ee(),this.relativeTargetOrigin=Ee(),Lu(this.relativeTargetOrigin,this.target,S.target),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Dg(this.parent.latestValues)||HA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Xe.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Qn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;SO(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ee());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(f1(this.prevProjectionDelta.x,this.projectionDelta.x),f1(this.prevProjectionDelta.y,this.projectionDelta.y)),ku(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==E||!T1(this.projectionDelta.x,this.prevProjectionDelta.x)||!T1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fo(),this.projectionDelta=Fo(),this.projectionDeltaWithTransform=Fo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=Ee(),S=m?m.source:void 0,C=this.layout?this.layout.source:void 0,V=S!==C,O=this.getStack(),j=!O||O.members.length<=1,z=!!(V&&!j&&this.options.crossfade===!0&&!this.path.some(_4));this.animationProgress=0;let q;this.mixTargetDelta=it=>{const W=it/1e3;w1(_.x,c.x,W),w1(_.y,c.y,W),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v4(this.relativeTarget,this.relativeTargetOrigin,E,W),q&&e4(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Ee()),Qn(q,this.relativeTarget)),V&&(this.animationValues=y,XO(y,p,this.latestValues,W,z,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var f,m,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{mf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yo(0)),this.currentAnimation=qO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),c.onUpdate&&c.onUpdate(y)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&nS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Ee();const _=mn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=mn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}Qn(f,m),Bo(f,y),ku(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new n4),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var f;const{layoutId:c}=this.options;return c?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:c}=this.options;return c?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&$p("z",c,p,this.animationValues);for(let y=0;y<Yp.length;y++)$p(`rotate${Yp[y]}`,c,p,this.animationValues),$p(`skew${Yp[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return r4;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=df(c==null?void 0:c.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=df(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ya(this.latestValues)&&(S.transform=m?m({},""):"none",this.hasProjected=!1),S}const y=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=i4(this.projectionDeltaWithTransform,this.treeScale,y),m&&(f.transform=m(y,f.transform));const{x:_,y:E}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,p.animationValues?f.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:f.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in Qu){if(y[S]===void 0)continue;const{correct:C,applyTo:V,isCSSVariable:O}=Qu[S],j=f.transform==="none"?y[S]:C(y[S],p);if(V){const z=V.length;for(let q=0;q<z;q++)f[V[q]]=j}else O?this.options.visualElement.renderState.vars[S]=j:f[S]=j}return this.options.layoutId&&(f.pointerEvents=p===this?df(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(E1),this.root.sharedNodes.clear()}}}function o4(e){e.updateLayout()}function l4(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Wn(_=>{const E=c?t.measuredBox[_]:t.layoutBox[_],S=mn(E);E.min=r[_].min,E.max=E.min+S}):nS(l,t.layoutBox,r)&&Wn(_=>{const E=c?t.measuredBox[_]:t.layoutBox[_],S=mn(r[_]);E.max=E.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+S)});const f=Fo();ku(f,r,t.layoutBox);const m=Fo();c?ku(m,e.applyTransform(a,!0),t.measuredBox):ku(m,r,t.layoutBox);const p=!ZA(f);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:S}=_;if(E&&S){const C=Ee();Lu(C,t.layoutBox,E.layoutBox);const V=Ee();Lu(V,r,S.layoutBox),JA(C,V)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=V,e.relativeTargetOrigin=C,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function u4(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function c4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function h4(e){e.clearSnapshot()}function E1(e){e.clearMeasurements()}function f4(e){e.isLayoutDirty=!1}function d4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function b1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function m4(e){e.resolveTargetDelta()}function p4(e){e.calcProjection()}function g4(e){e.resetSkewAndRotation()}function y4(e){e.removeLeadSnapshot()}function w1(e,t,n){e.translate=oe(t.translate,0,n),e.scale=oe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function A1(e,t,n,r){e.min=oe(t.min,n.min,r),e.max=oe(t.max,n.max,r)}function v4(e,t,n,r){A1(e.x,t.x,n.x,r),A1(e.y,t.y,n.y,r)}function _4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const T4={duration:.45,ease:[.4,0,.1,1]},S1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),R1=S1("applewebkit/")&&!S1("chrome/")?Math.round:Zn;function x1(e){e.min=R1(e.min),e.max=R1(e.max)}function E4(e){x1(e.x),x1(e.y)}function nS(e,t,n){return e==="position"||e==="preserve-aspect"&&!wO(_1(t),_1(n),.2)}function b4(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const w4=eS({attachResizeListener:(e,t)=>Zu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xp={current:void 0},iS=eS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xp.current){const e=new w4({});e.mount(window),e.setOptions({layoutScroll:!0}),Xp.current=e}return Xp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),A4={pan:{Feature:jO},drag:{Feature:FO,ProjectionNode:iS,MeasureLayout:XA}};function C1(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ue.postRender(()=>l(t,pc(t)))}class S4 extends Rs{mount(){const{current:t}=this.node;t&&(this.unmount=eP(t,(n,r)=>(C1(this.node,r,"Start"),a=>C1(this.node,a,"End"))))}unmount(){}}class R4 extends Rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fc(Zu(this.node.current,"focus",()=>this.onFocus()),Zu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I1(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ue.postRender(()=>l(t,pc(t)))}class x4 extends Rs{mount(){const{current:t}=this.node;t&&(this.unmount=sP(t,(n,r)=>(I1(this.node,r,"Start"),(a,{success:l})=>I1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Og=new WeakMap,Qp=new WeakMap,C4=e=>{const t=Og.get(e.target);t&&t(e)},I4=e=>{e.forEach(C4)};function D4({root:e,...t}){const n=e||document;Qp.has(n)||Qp.set(n,{});const r=Qp.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(I4,{root:e,...t})),r[a]}function N4(e,t,n){const r=D4(t);return Og.set(e,n),r.observe(e),()=>{Og.delete(e),r.unobserve(e)}}const P4={some:0,all:1};class O4 extends Rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:P4[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return N4(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(V4(t,n))&&this.startObserver()}unmount(){}}function V4({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const M4={inView:{Feature:O4},tap:{Feature:x4},focus:{Feature:R4},hover:{Feature:S4}},k4={layout:{ProjectionNode:iS,MeasureLayout:XA}},Vg={current:null},rS={current:!1};function L4(){if(rS.current=!0,!!py)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vg.current=e.matches;e.addListener(t),t()}else Vg.current=!1}const U4=new WeakMap;function F4(e,t,n){for(const r in t){const a=t[r],l=n[r];if(on(a))e.addValue(r,a);else if(on(l))e.addValue(r,Yo(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,Yo(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const D1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j4{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Oy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=wn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ue.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=id(n),this.isVariantNode=SA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in _){const S=_[E];m[E]!==void 0&&on(S)&&S.set(m[E],!1)}}mount(t){this.current=t,U4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rS.current||L4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ys(this.notifyUpdate),ys(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=al.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ue.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $o){const n=$o[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ee()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D1.length;r++){const a=D1[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=F4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Pw(r)||Vw(r))?r=parseFloat(r):!lP(r)&&vs.test(n)&&(r=gA(t,n)),this.setBaseTarget(t,on(r)?r.get():r)),on(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=qy(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!on(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ey),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class sS extends j4{constructor(){super(...arguments),this.KeyframeResolver=QN}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;on(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function aS(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}function B4(e){return window.getComputedStyle(e)}class z4 extends sS{constructor(){super(...arguments),this.type="html",this.renderInstance=aS}readValueFromInstance(t,n){var r;if(al.has(n))return(r=this.projection)!=null&&r.isProjecting?Eg(n):pN(t,n);{const a=B4(t),l=(Ay(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return GA(t,n)}build(t,n,r){By(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Gy(t,n,r)}}const oS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function H4(e,t,n,r){aS(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(oS.has(a)?a:jy(a),t.attrs[a])}class q4 extends sS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ee}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(al.has(n)){const r=pA(n);return r&&r.default||0}return n=oS.has(n)?n:jy(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return MA(t,n,r)}build(t,n,r){NA(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){H4(t,n,r,a)}mount(t){this.isSVGTag=OA(t.tagName),super.mount(t)}}const G4=(e,t)=>Hy(e)?new q4(t):new z4(t,{allowProjection:e!==F.Fragment}),K4=HP({...pO,...M4,...A4,...k4},G4),Tn=mP(K4);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),N1=e=>{const t=$4(e);return t.charAt(0).toUpperCase()+t.slice(1)},lS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),X4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=F.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...f},m)=>F.createElement("svg",{ref:m,...Q4,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:lS("lucide",a),...!l&&!X4(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>F.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=(e,t)=>{const n=F.forwardRef(({className:r,...a},l)=>F.createElement(W4,{ref:l,iconNode:t,className:lS(`lucide-${Y4(N1(e))}`,`lucide-${e}`,r),...a}));return n.displayName=N1(e),n};/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],J4=Va("cloud-upload",Z4);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],eV=Va("log-out",tV);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],iV=Va("menu",nV);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sV=Va("square-pen",rV);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],oV=Va("trash",aV);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uV=Va("users",lV);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hV=Va("x",cV),fV=()=>{};var P1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},dV=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},cS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,S=p&63;m||(S=64,c||(E=64)),r.push(n[y],n[_],n[E],n[S])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(uS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):dV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new mV;const E=l<<2|f>>4;if(r.push(E),p!==64){const S=f<<4&240|p>>2;if(r.push(S),_!==64){const C=p<<6&192|_;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class mV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pV=function(e){const t=uS(e);return cS.encodeByteArray(t,!0)},Nf=function(e){return pV(e).replace(/\./g,"")},hS=function(e){try{return cS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=()=>gV().__FIREBASE_DEFAULTS__,vV=()=>{if(typeof process>"u"||typeof P1>"u")return;const e=P1.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},_V=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&hS(e[1]);return t&&JSON.parse(t)},rd=()=>{try{return fV()||yV()||vV()||_V()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},fS=e=>{var t,n;return(n=(t=rd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},dS=e=>{const t=fS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},mS=()=>{var e;return(e=rd())===null||e===void 0?void 0:e.config},pS=e=>{var t;return(t=rd())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(e){return e.endsWith(".cloudworkstations.dev")}async function Yy(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Nf(JSON.stringify(n)),Nf(JSON.stringify(c)),""].join(".")}const Uu={};function EV(){const e={prod:[],emulator:[]};for(const t of Object.keys(Uu))Uu[t]?e.emulator.push(t):e.prod.push(t);return e}function bV(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let O1=!1;function $y(e,t){if(typeof window>"u"||typeof document>"u"||!xs(window.location.host)||Uu[e]===t||Uu[e]||O1)return;Uu[e]=t;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=EV().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{O1=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=bV(r),S=n("text"),C=document.getElementById(S)||document.createElement("span"),V=n("learnmore"),O=document.getElementById(V)||document.createElement("a"),j=n("preprendIcon"),z=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;f(q),y(O,V);const it=p();m(z,j),q.append(z,C,O,it),document.body.appendChild(q)}l?(C.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function AV(){var e;const t=(e=rd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RV(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function xV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CV(){const e=ln();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function IV(){return!AV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DV(){try{return typeof indexedDB=="object"}catch{return!1}}function NV(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="FirebaseError";class Hi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=PV,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?OV(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Hi(a,f,r)}}function OV(e,t){return e.replace(VV,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const VV=/\{\$([^}]+)}/g;function MV(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ra(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(V1(l)&&V1(c)){if(!Ra(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function V1(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function xu(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function Cu(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function kV(e,t){const n=new LV(e,t);return n.subscribe.bind(n)}class LV{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UV(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=Wp),a.error===void 0&&(a.error=Wp),a.complete===void 0&&(a.complete=Wp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UV(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e){return e&&e._delegate?e._delegate:e}class _s{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new TV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(BV(t))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=va){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=va){return this.instances.has(t)}getOptions(t=va){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jV(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=va){return this.component?this.component.multipleInstances?t:va:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jV(e){return e===va?void 0:e}function BV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new FV(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Vt||(Vt={}));const HV={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},qV=Vt.INFO,GV={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},KV=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=GV[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xy{constructor(t){this.name=t,this._logLevel=qV,this._logHandler=KV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HV[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const YV=(e,t)=>t.some(n=>e instanceof n);let M1,k1;function $V(){return M1||(M1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XV(){return k1||(k1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yS=new WeakMap,Mg=new WeakMap,vS=new WeakMap,Zp=new WeakMap,Qy=new WeakMap;function QV(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(ds(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&yS.set(n,e)}).catch(()=>{}),Qy.set(t,e),t}function WV(e){if(Mg.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});Mg.set(e,t)}let kg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Mg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||vS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ZV(e){kg=e(kg)}function JV(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Jp(this),t,...n);return vS.set(r,t.sort?t.sort():[t]),ds(r)}:XV().includes(e)?function(...t){return e.apply(Jp(this),t),ds(yS.get(this))}:function(...t){return ds(e.apply(Jp(this),t))}}function tM(e){return typeof e=="function"?JV(e):(e instanceof IDBTransaction&&WV(e),YV(e,$V())?new Proxy(e,kg):e)}function ds(e){if(e instanceof IDBRequest)return QV(e);if(Zp.has(e))return Zp.get(e);const t=tM(e);return t!==e&&(Zp.set(e,t),Qy.set(t,e)),t}const Jp=e=>Qy.get(e);function eM(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=ds(c);return r&&c.addEventListener("upgradeneeded",m=>{r(ds(c.result),m.oldVersion,m.newVersion,ds(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const nM=["get","getKey","getAll","getAllKeys","count"],iM=["put","add","delete","clear"],tg=new Map;function L1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(tg.get(t))return tg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=iM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||nM.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return tg.set(t,l),l}ZV(e=>({...e,get:(t,n,r)=>L1(t,n)||e.get(t,n,r),has:(t,n)=>!!L1(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sM(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Lg="@firebase/app",U1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Xy("@firebase/app"),aM="@firebase/app-compat",oM="@firebase/analytics-compat",lM="@firebase/analytics",uM="@firebase/app-check-compat",cM="@firebase/app-check",hM="@firebase/auth",fM="@firebase/auth-compat",dM="@firebase/database",mM="@firebase/data-connect",pM="@firebase/database-compat",gM="@firebase/functions",yM="@firebase/functions-compat",vM="@firebase/installations",_M="@firebase/installations-compat",TM="@firebase/messaging",EM="@firebase/messaging-compat",bM="@firebase/performance",wM="@firebase/performance-compat",AM="@firebase/remote-config",SM="@firebase/remote-config-compat",RM="@firebase/storage",xM="@firebase/storage-compat",CM="@firebase/firestore",IM="@firebase/ai",DM="@firebase/firestore-compat",NM="firebase",PM="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="[DEFAULT]",OM={[Lg]:"fire-core",[aM]:"fire-core-compat",[lM]:"fire-analytics",[oM]:"fire-analytics-compat",[cM]:"fire-app-check",[uM]:"fire-app-check-compat",[hM]:"fire-auth",[fM]:"fire-auth-compat",[dM]:"fire-rtdb",[mM]:"fire-data-connect",[pM]:"fire-rtdb-compat",[gM]:"fire-fn",[yM]:"fire-fn-compat",[vM]:"fire-iid",[_M]:"fire-iid-compat",[TM]:"fire-fcm",[EM]:"fire-fcm-compat",[bM]:"fire-perf",[wM]:"fire-perf-compat",[AM]:"fire-rc",[SM]:"fire-rc-compat",[RM]:"fire-gcs",[xM]:"fire-gcs-compat",[CM]:"fire-fst",[DM]:"fire-fst-compat",[IM]:"fire-vertex","fire-js":"fire-js",[NM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new Map,VM=new Map,Fg=new Map;function F1(e,t){try{e.container.addComponent(t)}catch(n){Sr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xa(e){const t=e.name;if(Fg.has(t))return Sr.debug(`There were multiple attempts to register component ${t}.`),!1;Fg.set(t,e);for(const n of Pf.values())F1(n,e);for(const n of VM.values())F1(n,e);return!0}function sd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new gc("app","Firebase",MM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=PM;function _S(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ug,automaticDataCollectionEnabled:!0},t),a=r.name;if(typeof a!="string"||!a)throw ms.create("bad-app-name",{appName:String(a)});if(n||(n=mS()),!n)throw ms.create("no-options");const l=Pf.get(a);if(l){if(Ra(n,l.options)&&Ra(r,l.config))return l;throw ms.create("duplicate-app",{appName:a})}const c=new zV(a);for(const m of Fg.values())c.addComponent(m);const f=new kM(n,r,c);return Pf.set(a,f),f}function Wy(e=Ug){const t=Pf.get(e);if(!t&&e===Ug&&mS())return _S();if(!t)throw ms.create("no-app",{appName:e});return t}function Oi(e,t,n){var r;let a=(r=OM[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Sr.warn(f.join(" "));return}xa(new _s(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="firebase-heartbeat-database",UM=1,Ju="firebase-heartbeat-store";let eg=null;function TS(){return eg||(eg=eM(LM,UM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ju)}catch(n){console.warn(n)}}}}).catch(e=>{throw ms.create("idb-open",{originalErrorMessage:e.message})})),eg}async function FM(e){try{const n=(await TS()).transaction(Ju),r=await n.objectStore(Ju).get(ES(e));return await n.done,r}catch(t){if(t instanceof Hi)Sr.warn(t.message);else{const n=ms.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Sr.warn(n.message)}}}async function j1(e,t){try{const r=(await TS()).transaction(Ju,"readwrite");await r.objectStore(Ju).put(t,ES(e)),await r.done}catch(n){if(n instanceof Hi)Sr.warn(n.message);else{const r=ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function ES(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=1024,BM=30;class zM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=B1();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>BM){const c=GM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B1(),{heartbeatsToSend:r,unsentEntries:a}=HM(this._heartbeatsCache.heartbeats),l=Nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Sr.warn(n),""}}}function B1(){return new Date().toISOString().substring(0,10)}function HM(e,t=jM){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),z1(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),z1(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DV()?NV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return j1(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return j1(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function z1(e){return Nf(JSON.stringify({version:2,heartbeats:e})).length}function GM(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(e){xa(new _s("platform-logger",t=>new rM(t),"PRIVATE")),xa(new _s("heartbeat",t=>new zM(t),"PRIVATE")),Oi(Lg,U1,e),Oi(Lg,U1,"esm2017"),Oi("fire-js","")}KM("");var YM="firebase",$M="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(YM,$M,"app");function Zy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function bS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XM=bS,wS=new gc("auth","Firebase",bS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Xy("@firebase/auth");function QM(e,...t){Of.logLevel<=Vt.WARN&&Of.warn(`Auth (${Ma}): ${e}`,...t)}function pf(e,...t){Of.logLevel<=Vt.ERROR&&Of.error(`Auth (${Ma}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(e,...t){throw Jy(e,...t)}function Vi(e,...t){return Jy(e,...t)}function AS(e,t,n){const r=Object.assign(Object.assign({},XM()),{[t]:n});return new gc("auth","Firebase",r).create(t,{appName:e.name})}function Tr(e){return AS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return wS.create(e,...t)}function Tt(e,t,...n){if(!e)throw Jy(t,...n)}function yr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw pf(t),new Error(t)}function Rr(e,t){e||yr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function WM(){return H1()==="http:"||H1()==="https:"}function H1(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WM()||RV()||"connection"in navigator)?navigator.onLine:!0}function JM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,n){this.shortDelay=t,this.longDelay=n,Rr(n>t,"Short delay should be less than long delay!"),this.isMobile=wV()||xV()}get(){return ZM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e,t){Rr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nk=new vc(3e4,6e4);function Cs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Is(e,t,n,r,a={}){return RS(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=yc(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return SV()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&xs(e.emulatorConfig.host)&&(p.credentials="include"),SS.fetch()(await xS(e,e.config.apiHost,n,f),p)})}async function RS(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},tk),t);try{const a=new rk(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw tf(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw tf(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw tf(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw AS(e,y,p);ui(e,y)}}catch(a){if(a instanceof Hi)throw a;ui(e,"network-request-failed",{message:String(a)})}}async function _c(e,t,n,r,a={}){const l=await Is(e,t,n,r,a);return"mfaPendingCredential"in l&&ui(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function xS(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?tv(e.config,a):`${e.config.apiScheme}://${a}`;return ek.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function ik(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),nk.get())})}}function tf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Vi(e,t,r);return a.customData._tokenResponse=n,a}function q1(e){return e!==void 0&&e.enterprise!==void 0}class sk{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return ik(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ak(e,t){return Is(e,"GET","/v2/recaptchaConfig",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(e,t){return Is(e,"POST","/v1/accounts:delete",t)}async function Vf(e,t){return Is(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lk(e,t=!1){const n=pe(e),r=await n.getIdToken(t),a=ev(r);Tt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Fu(ng(a.auth_time)),issuedAtTime:Fu(ng(a.iat)),expirationTime:Fu(ng(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ng(e){return Number(e)*1e3}function ev(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const a=hS(n);return a?JSON.parse(a):(pf("Failed to decode base64 JWT payload"),null)}catch(a){return pf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function G1(e){const t=ev(e);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Hi&&uk(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function uk({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fu(this.lastLoginAt),this.creationTime=Fu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(e){var t;const n=e.auth,r=await e.getIdToken(),a=await tc(e,Vf(n,{idToken:r}));Tt(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?CS(l.providerUserInfo):[],f=fk(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Bg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,_)}async function hk(e){const t=pe(e);await Mf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function fk(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function CS(e){return e.map(t=>{var{providerId:n}=t,r=Zy(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(e,t){const n=await RS(e,{},async()=>{const r=yc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await xS(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return e.emulatorConfig&&xs(e.emulatorConfig.host)&&(m.credentials="include"),SS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mk(e,t){return Is(e,"POST","/v2/accounts:revokeToken",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):G1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=G1(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await dk(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new Ho;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(Tt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(Tt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(e,t){Tt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class oi{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=Zy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ck(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Bg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await tc(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return lk(this,t)}reload(){return hk(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new oi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Mf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Tr(this.auth));const t=await this.getIdToken();return await tc(this,ok(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,f,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=n.photoURL)!==null&&c!==void 0?c:void 0,V=(f=n.tenantId)!==null&&f!==void 0?f:void 0,O=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,j=(p=n.createdAt)!==null&&p!==void 0?p:void 0,z=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:q,emailVerified:it,isAnonymous:W,providerData:ct,stsTokenManager:M}=n;Tt(q&&M,t,"internal-error");const x=Ho.fromJSON(this.name,M);Tt(typeof q=="string",t,"internal-error"),ss(_,t.name),ss(E,t.name),Tt(typeof it=="boolean",t,"internal-error"),Tt(typeof W=="boolean",t,"internal-error"),ss(S,t.name),ss(C,t.name),ss(V,t.name),ss(O,t.name),ss(j,t.name),ss(z,t.name);const I=new oi({uid:q,auth:t,email:E,emailVerified:it,displayName:_,isAnonymous:W,photoURL:C,phoneNumber:S,tenantId:V,stsTokenManager:x,createdAt:j,lastLoginAt:z});return ct&&Array.isArray(ct)&&(I.providerData=ct.map(k=>Object.assign({},k))),O&&(I._redirectEventId=O),I}static async _fromIdTokenResponse(t,n,r=!1){const a=new Ho;a.updateFromServerResponse(n);const l=new oi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Mf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];Tt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?CS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Ho;f.updateFromIdToken(r);const m=new oi({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Bg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=new Map;function vr(e){Rr(e instanceof Function,"Expected a class definition");let t=K1.get(e);return t?(Rr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,K1.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}IS.type="NONE";const Y1=IS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(e,t,n){return`firebase:${e}:${t}:${n}`}class qo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=gf(this.userKey,a.apiKey,l),this.fullPersistenceKey=gf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Vf(this.auth,{idToken:t}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new qo(vr(Y1),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||vr(Y1);const c=gf(r,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await Vf(t,{idToken:y}).catch(()=>{});if(!E)break;_=await oi._fromGetAccountInfoResponse(t,E,y)}else _=oi._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new qo(l,t,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new qo(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(DS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(MS(t))return"Blackberry";if(kS(t))return"Webos";if(NS(t))return"Safari";if((t.includes("chrome/")||PS(t))&&!t.includes("edge/"))return"Chrome";if(VS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DS(e=ln()){return/firefox\//i.test(e)}function NS(e=ln()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PS(e=ln()){return/crios\//i.test(e)}function OS(e=ln()){return/iemobile/i.test(e)}function VS(e=ln()){return/android/i.test(e)}function MS(e=ln()){return/blackberry/i.test(e)}function kS(e=ln()){return/webos/i.test(e)}function nv(e=ln()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pk(e=ln()){var t;return nv(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function gk(){return CV()&&document.documentMode===10}function LS(e=ln()){return nv(e)||VS(e)||kS(e)||MS(e)||/windows phone/i.test(e)||OS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(e,t=[]){let n;switch(e){case"Browser":n=$1(ln());break;case"Worker":n=`${$1(ln())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(e,t={}){return Is(e,"GET","/v2/passwordPolicy",Cs(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=6;class Tk{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:_k,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X1(this),this.idTokenSubscription=new X1(this),this.beforeStateQueue=new yk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await qo.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Vf(this,{idToken:t}),r=await oi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Vn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Mf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=JM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Vn(this.app))return Promise.reject(Tr(this));const n=t?pe(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Vn(this.app)?Promise.reject(Tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vk(this),n=new Tk(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new gc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mk(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&vr(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=US(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&QM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ka(e){return pe(e)}class X1{constructor(t){this.auth=t,this.observer=null,this.addObserver=kV(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bk(e){ad=e}function FS(e){return ad.loadJS(e)}function wk(){return ad.recaptchaEnterpriseScript}function Ak(){return ad.gapiScript}function Sk(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class Rk{constructor(){this.enterprise=new xk}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class xk{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const Ck="recaptcha-enterprise",jS="NO_RECAPTCHA";class Ik{constructor(t){this.type=Ck,this.auth=ka(t)}async verify(t="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{ak(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new sk(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function a(l,c,f){const m=window.grecaptcha;q1(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{c(p)}).catch(()=>{c(jS)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Rk().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!n&&q1(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=wk();m.length!==0&&(m+=f),FS(m).then(()=>{a(f,l,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function Q1(e,t,n,r=!1,a=!1){const l=new Ik(e);let c;if(a)c=jS;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const f=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function zg(e,t,n,r,a){var l;if(!((l=e._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Q1(e,t,n,n==="getOobCode");return r(e,c)}else return r(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Q1(e,t,n,n==="getOobCode");return r(e,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(e,t){const n=sd(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ra(l,t??{}))return a;ui(a,"already-initialized")}return n.initialize({options:t})}function Nk(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Pk(e,t,n){const r=ka(e);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=BS(t),{host:c,port:f}=Ok(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(Ra(p,r.config.emulator)&&Ra(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,xs(c)?(Yy(`${l}//${c}${m}`),$y("Auth",!0)):Vk()}function BS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ok(e){const t=BS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:W1(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:W1(c)}}}function W1(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Vk(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return yr("not implemented")}_getIdTokenResponse(t){return yr("not implemented")}_linkToIdToken(t,n){return yr("not implemented")}_getReauthenticationResolver(t){return yr("not implemented")}}async function Mk(e,t){return Is(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(e,t){return _c(e,"POST","/v1/accounts:signInWithPassword",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(e,t){return _c(e,"POST","/v1/accounts:signInWithEmailLink",Cs(e,t))}async function Uk(e,t){return _c(e,"POST","/v1/accounts:signInWithEmailLink",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends iv{constructor(t,n,r,a=null){super("password",r),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new ec(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new ec(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(t,n,"signInWithPassword",kk);case"emailLink":return Lk(t,{email:this._email,oobCode:this._password});default:ui(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(t,r,"signUpPassword",Mk);case"emailLink":return Uk(t,{idToken:n,email:this._email,oobCode:this._password});default:ui(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(e,t){return _c(e,"POST","/v1/accounts:signInWithIdp",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="http://localhost";class Ca extends iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=Zy(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Ca(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return Go(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Go(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Go(t,n)}buildRequest(){const t={requestUri:Fk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=yc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bk(e){const t=xu(Cu(e)).link,n=t?xu(Cu(t)).deep_link_id:null,r=xu(Cu(e)).deep_link_id;return(r?xu(Cu(r)).link:null)||r||n||t||e}class rv{constructor(t){var n,r,a,l,c,f;const m=xu(Cu(t)),p=(n=m.apiKey)!==null&&n!==void 0?n:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,_=jk((a=m.mode)!==null&&a!==void 0?a:null);Tt(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(t){const n=Bk(t);try{return new rv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(t,n){return ec._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=rv.parseLink(n);return Tt(r,"argument-error"),ec._fromEmailAndCode(t,r.code,r.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends zS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Tc{constructor(){super("facebook.com")}static credential(t){return Ca._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return os.credential(t.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ca._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ls.credential(n,r)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Tc{constructor(){super("github.com")}static credential(t){return Ca._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Tc{constructor(){super("twitter.com")}static credential(t,n){return Ca._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(e,t){return _c(e,"POST","/v1/accounts:signUp",Cs(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await oi._fromIdTokenResponse(t,r,a),c=Z1(r);return new Ia({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=Z1(r);return new Ia({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function Z1(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends Hi{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,kf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new kf(t,n,r,a)}}function HS(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?kf._fromErrorAndOperation(e,l,t,r):l})}async function Hk(e,t,n=!1){const r=await tc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ia._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(e,t,n=!1){const{auth:r}=e;if(Vn(r.app))return Promise.reject(Tr(r));const a="reauthenticate";try{const l=await tc(e,HS(r,a,t,e),n);Tt(l.idToken,r,"internal-error");const c=ev(l.idToken);Tt(c,r,"internal-error");const{sub:f}=c;return Tt(e.uid===f,r,"user-mismatch"),Ia._forOperation(e,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ui(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(e,t,n=!1){if(Vn(e.app))return Promise.reject(Tr(e));const r="signIn",a=await HS(e,r,t),l=await Ia._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}async function Gk(e,t){return qS(ka(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(e){const t=ka(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Kk(e,t,n){if(Vn(e.app))return Promise.reject(Tr(e));const r=ka(e),c=await zg(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zk).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&GS(e),m}),f=await Ia._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function Yk(e,t,n){return Vn(e.app)?Promise.reject(Tr(e)):Gk(pe(e),ol.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GS(e),r})}function $k(e,t,n,r){return pe(e).onIdTokenChanged(t,n,r)}function Xk(e,t,n){return pe(e).beforeAuthStateChanged(t,n)}function KS(e,t,n,r){return pe(e).onAuthStateChanged(t,n,r)}function YS(e){return pe(e).signOut()}const Lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=1e3,Wk=10;class XS extends $S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);gk()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,Wk):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}XS.type="LOCAL";const Zk=XS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS extends $S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}QS.type="SESSION";const WS=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new od(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await Jk(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=sv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function e3(e){Mi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function n3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i3(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function r3(){return ZS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebaseLocalStorageDb",s3=1,Uf="firebaseLocalStorage",tR="fbase_key";class Ec{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(e,t){return e.transaction([Uf],t?"readwrite":"readonly").objectStore(Uf)}function a3(){const e=indexedDB.deleteDatabase(JS);return new Ec(e).toPromise()}function Hg(){const e=indexedDB.open(JS,s3);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Uf,{keyPath:tR})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Uf)?t(r):(r.close(),await a3(),t(await Hg()))})})}async function J1(e,t,n){const r=ld(e,!0).put({[tR]:t,value:n});return new Ec(r).toPromise()}async function o3(e,t){const n=ld(e,!1).get(t),r=await new Ec(n).toPromise();return r===void 0?null:r.value}function tb(e,t){const n=ld(e,!0).delete(t);return new Ec(n).toPromise()}const l3=800,u3=3;class eR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>u3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(r3()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await n3(),!this.activeServiceWorker)return;this.sender=new t3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||i3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hg();return await J1(t,Lf,"1"),await tb(t,Lf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J1(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>o3(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tb(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=ld(a,!1).getAll();return new Ec(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eR.type="LOCAL";const c3=eR;new vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(e,t){return t?vr(t):(Tt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends iv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Go(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Go(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Go(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function f3(e){return qS(e.auth,new av(e),e.bypassAuthState)}function d3(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),qk(n,new av(e),e.bypassAuthState)}async function m3(e){const{auth:t,user:n}=e;return Tt(n,t,"internal-error"),Hk(n,new av(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return f3;case"linkViaPopup":case"linkViaRedirect":return m3;case"reauthViaPopup":case"reauthViaRedirect":return d3;default:ui(this.auth,"internal-error")}}resolve(t){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=new vc(2e3,1e4);class zo extends nR{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Rr(this.filter.length===1,"Popup operations only handle one event");const t=sv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,p3.get())};t()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="pendingRedirect",yf=new Map;class y3 extends nR{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=yf.get(this.auth._key());if(!t){try{const r=await v3(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}yf.set(this.auth._key(),t)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v3(e,t){const n=E3(t),r=T3(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function _3(e,t){yf.set(e._key(),t)}function T3(e){return vr(e._redirectPersistence)}function E3(e){return gf(g3,e.config.apiKey,e.name)}async function b3(e,t,n=!1){if(Vn(e.app))return Promise.reject(Tr(e));const r=ka(e),a=h3(r,t),c=await new y3(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=10*60*1e3;class A3{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!S3(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!iR(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vi(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=w3&&this.cachedEventUids.clear(),this.cachedEventUids.has(eb(t))}saveEventToCache(t){this.cachedEventUids.add(eb(t)),this.lastProcessedEventTime=Date.now()}}function eb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function iR({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function S3(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iR(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(e,t={}){return Is(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C3=/^https?/;async function I3(e){if(e.config.emulator)return;const{authorizedDomains:t}=await R3(e);for(const n of t)try{if(D3(n))return}catch{}ui(e,"unauthorized-domain")}function D3(e){const t=jg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!C3.test(n))return!1;if(x3.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new vc(3e4,6e4);function nb(){const e=Mi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function P3(e){return new Promise((t,n)=>{var r,a,l;function c(){nb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nb(),n(Vi(e,"network-request-failed"))},timeout:N3.get()})}if(!((a=(r=Mi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Mi().gapi)===null||l===void 0)&&l.load)c();else{const f=Sk("iframefcb");return Mi()[f]=()=>{gapi.load?c():n(Vi(e,"network-request-failed"))},FS(`${Ak()}?onload=${f}`).catch(m=>n(m))}}).catch(t=>{throw vf=null,t})}let vf=null;function O3(e){return vf=vf||P3(e),vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new vc(5e3,15e3),M3="__/auth/iframe",k3="emulator/auth/iframe",L3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F3(e){const t=e.config;Tt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?tv(t,k3):`https://${e.config.authDomain}/${M3}`,r={apiKey:t.apiKey,appName:e.name,v:Ma},a=U3.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${yc(r).slice(1)}`}async function j3(e){const t=await O3(e),n=Mi().gapi;return Tt(n,e,"internal-error"),t.open({where:document.body,url:F3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L3,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Vi(e,"network-request-failed"),f=Mi().setTimeout(()=>{l(c)},V3.get());function m(){Mi().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z3=500,H3=600,q3="_blank",G3="http://localhost";class ib{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K3(e,t,n,r=z3,a=H3){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},B3),{width:r.toString(),height:a.toString(),top:l,left:c}),p=ln().toLowerCase();n&&(f=PS(p)?q3:n),DS(p)&&(t=t||G3,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[S,C])=>`${E}${S}=${C},`,"");if(pk(p)&&f!=="_self")return Y3(t||"",f),new ib(null);const _=window.open(t||"",f,y);Tt(_,e,"popup-blocked");try{_.focus()}catch{}return new ib(_)}function Y3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3="__/auth/handler",X3="emulator/auth/handler",Q3=encodeURIComponent("fac");async function rb(e,t,n,r,a,l){Tt(e.config.authDomain,e,"auth-domain-config-required"),Tt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ma,eventId:a};if(t instanceof zS){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",MV(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Tc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${Q3}=${encodeURIComponent(m)}`:"";return`${W3(e)}?${yc(f).slice(1)}${p}`}function W3({config:e}){return e.emulator?tv(e,X3):`https://${e.authDomain}/${$3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="webStorageSupport";class Z3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WS,this._completeRedirectFn=b3,this._overrideRedirectResult=_3}async _openPopup(t,n,r,a){var l;Rr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await rb(t,n,r,jg(),a);return K3(t,c,sv())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await rb(t,n,r,jg(),a);return e3(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Rr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await j3(t),r=new A3(t);return n.register("authEvent",a=>(Tt(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(ig,{type:ig},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[ig];c!==void 0&&n(!!c),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=I3(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return LS()||NS()||nv()}}const J3=Z3;var sb="@firebase/auth",ab="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n6(e){xa(new _s("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:US(e)},p=new Ek(r,a,l,m);return Nk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),xa(new _s("auth-internal",t=>{const n=ka(t.getProvider("auth").getImmediate());return(r=>new t6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(sb,ab,e6(e)),Oi(sb,ab,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=5*60,r6=pS("authIdTokenMaxAge")||i6;let ob=null;const s6=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>r6)return;const a=n==null?void 0:n.token;ob!==a&&(ob=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function a6(e=Wy()){const t=sd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Dk(e,{popupRedirectResolver:J3,persistence:[c3,Zk,WS]}),r=pS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=s6(l.toString());Xk(n,c,()=>c(n.currentUser)),$k(n,f=>c(f))}}const a=fS("auth");return a&&Pk(n,`http://${a}`),n}function o6(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}bk({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=Vi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",o6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n6("Browser");var lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,rR;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,x){function I(){}I.prototype=x.prototype,M.D=x.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(k,D,B){for(var N=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)N[Jt-2]=arguments[Jt];return x.prototype[D].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,x,I){I||(I=0);var k=Array(16);if(typeof x=="string")for(var D=0;16>D;++D)k[D]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(D=0;16>D;++D)k[D]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=M.g[0],I=M.g[1],D=M.g[2];var B=M.g[3],N=x+(B^I&(D^B))+k[0]+3614090360&4294967295;x=I+(N<<7&4294967295|N>>>25),N=B+(D^x&(I^D))+k[1]+3905402710&4294967295,B=x+(N<<12&4294967295|N>>>20),N=D+(I^B&(x^I))+k[2]+606105819&4294967295,D=B+(N<<17&4294967295|N>>>15),N=I+(x^D&(B^x))+k[3]+3250441966&4294967295,I=D+(N<<22&4294967295|N>>>10),N=x+(B^I&(D^B))+k[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=B+(D^x&(I^D))+k[5]+1200080426&4294967295,B=x+(N<<12&4294967295|N>>>20),N=D+(I^B&(x^I))+k[6]+2821735955&4294967295,D=B+(N<<17&4294967295|N>>>15),N=I+(x^D&(B^x))+k[7]+4249261313&4294967295,I=D+(N<<22&4294967295|N>>>10),N=x+(B^I&(D^B))+k[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=B+(D^x&(I^D))+k[9]+2336552879&4294967295,B=x+(N<<12&4294967295|N>>>20),N=D+(I^B&(x^I))+k[10]+4294925233&4294967295,D=B+(N<<17&4294967295|N>>>15),N=I+(x^D&(B^x))+k[11]+2304563134&4294967295,I=D+(N<<22&4294967295|N>>>10),N=x+(B^I&(D^B))+k[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=B+(D^x&(I^D))+k[13]+4254626195&4294967295,B=x+(N<<12&4294967295|N>>>20),N=D+(I^B&(x^I))+k[14]+2792965006&4294967295,D=B+(N<<17&4294967295|N>>>15),N=I+(x^D&(B^x))+k[15]+1236535329&4294967295,I=D+(N<<22&4294967295|N>>>10),N=x+(D^B&(I^D))+k[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=B+(I^D&(x^I))+k[6]+3225465664&4294967295,B=x+(N<<9&4294967295|N>>>23),N=D+(x^I&(B^x))+k[11]+643717713&4294967295,D=B+(N<<14&4294967295|N>>>18),N=I+(B^x&(D^B))+k[0]+3921069994&4294967295,I=D+(N<<20&4294967295|N>>>12),N=x+(D^B&(I^D))+k[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=B+(I^D&(x^I))+k[10]+38016083&4294967295,B=x+(N<<9&4294967295|N>>>23),N=D+(x^I&(B^x))+k[15]+3634488961&4294967295,D=B+(N<<14&4294967295|N>>>18),N=I+(B^x&(D^B))+k[4]+3889429448&4294967295,I=D+(N<<20&4294967295|N>>>12),N=x+(D^B&(I^D))+k[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=B+(I^D&(x^I))+k[14]+3275163606&4294967295,B=x+(N<<9&4294967295|N>>>23),N=D+(x^I&(B^x))+k[3]+4107603335&4294967295,D=B+(N<<14&4294967295|N>>>18),N=I+(B^x&(D^B))+k[8]+1163531501&4294967295,I=D+(N<<20&4294967295|N>>>12),N=x+(D^B&(I^D))+k[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=B+(I^D&(x^I))+k[2]+4243563512&4294967295,B=x+(N<<9&4294967295|N>>>23),N=D+(x^I&(B^x))+k[7]+1735328473&4294967295,D=B+(N<<14&4294967295|N>>>18),N=I+(B^x&(D^B))+k[12]+2368359562&4294967295,I=D+(N<<20&4294967295|N>>>12),N=x+(I^D^B)+k[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=B+(x^I^D)+k[8]+2272392833&4294967295,B=x+(N<<11&4294967295|N>>>21),N=D+(B^x^I)+k[11]+1839030562&4294967295,D=B+(N<<16&4294967295|N>>>16),N=I+(D^B^x)+k[14]+4259657740&4294967295,I=D+(N<<23&4294967295|N>>>9),N=x+(I^D^B)+k[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=B+(x^I^D)+k[4]+1272893353&4294967295,B=x+(N<<11&4294967295|N>>>21),N=D+(B^x^I)+k[7]+4139469664&4294967295,D=B+(N<<16&4294967295|N>>>16),N=I+(D^B^x)+k[10]+3200236656&4294967295,I=D+(N<<23&4294967295|N>>>9),N=x+(I^D^B)+k[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=B+(x^I^D)+k[0]+3936430074&4294967295,B=x+(N<<11&4294967295|N>>>21),N=D+(B^x^I)+k[3]+3572445317&4294967295,D=B+(N<<16&4294967295|N>>>16),N=I+(D^B^x)+k[6]+76029189&4294967295,I=D+(N<<23&4294967295|N>>>9),N=x+(I^D^B)+k[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=B+(x^I^D)+k[12]+3873151461&4294967295,B=x+(N<<11&4294967295|N>>>21),N=D+(B^x^I)+k[15]+530742520&4294967295,D=B+(N<<16&4294967295|N>>>16),N=I+(D^B^x)+k[2]+3299628645&4294967295,I=D+(N<<23&4294967295|N>>>9),N=x+(D^(I|~B))+k[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=B+(I^(x|~D))+k[7]+1126891415&4294967295,B=x+(N<<10&4294967295|N>>>22),N=D+(x^(B|~I))+k[14]+2878612391&4294967295,D=B+(N<<15&4294967295|N>>>17),N=I+(B^(D|~x))+k[5]+4237533241&4294967295,I=D+(N<<21&4294967295|N>>>11),N=x+(D^(I|~B))+k[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=B+(I^(x|~D))+k[3]+2399980690&4294967295,B=x+(N<<10&4294967295|N>>>22),N=D+(x^(B|~I))+k[10]+4293915773&4294967295,D=B+(N<<15&4294967295|N>>>17),N=I+(B^(D|~x))+k[1]+2240044497&4294967295,I=D+(N<<21&4294967295|N>>>11),N=x+(D^(I|~B))+k[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=B+(I^(x|~D))+k[15]+4264355552&4294967295,B=x+(N<<10&4294967295|N>>>22),N=D+(x^(B|~I))+k[6]+2734768916&4294967295,D=B+(N<<15&4294967295|N>>>17),N=I+(B^(D|~x))+k[13]+1309151649&4294967295,I=D+(N<<21&4294967295|N>>>11),N=x+(D^(I|~B))+k[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=B+(I^(x|~D))+k[11]+3174756917&4294967295,B=x+(N<<10&4294967295|N>>>22),N=D+(x^(B|~I))+k[2]+718787259&4294967295,D=B+(N<<15&4294967295|N>>>17),N=I+(B^(D|~x))+k[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+D&4294967295,M.g[3]=M.g[3]+B&4294967295}r.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var I=x-this.blockSize,k=this.B,D=this.h,B=0;B<x;){if(D==0)for(;B<=I;)a(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<x;)if(k[D++]=M.charCodeAt(B++),D==this.blockSize){a(this,k),D=0;break}}else for(;B<x;)if(k[D++]=M[B++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=x},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var I=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=I&255,I/=256;for(this.u(M),M=Array(16),x=I=0;4>x;++x)for(var k=0;32>k;k+=8)M[I++]=this.g[x]>>>k&255;return M};function l(M,x){var I=f;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=x(M)}function c(M,x){this.h=x;for(var I=[],k=!0,D=M.length-1;0<=D;D--){var B=M[D]|0;k&&B==x||(I[D]=B,k=!1)}this.g=I}var f={};function m(M){return-128<=M&&128>M?l(M,function(x){return new c([x|0],0>x?-1:0)}):new c([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return O(p(-M));for(var x=[],I=1,k=0;M>=I;k++)x[k]=M/I|0,I*=4294967296;return new c(x,0)}function y(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return O(y(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(x,8)),k=_,D=0;D<M.length;D+=8){var B=Math.min(8,M.length-D),N=parseInt(M.substring(D,D+B),x);8>B?(B=p(Math.pow(x,B)),k=k.j(B).add(p(N))):(k=k.j(I),k=k.add(p(N)))}return k}var _=m(0),E=m(1),S=m(16777216);e=c.prototype,e.m=function(){if(V(this))return-O(this).m();for(var M=0,x=1,I=0;I<this.g.length;I++){var k=this.i(I);M+=(0<=k?k:4294967296+k)*x,x*=4294967296}return M},e.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(V(this))return"-"+O(this).toString(M);for(var x=p(Math.pow(M,6)),I=this,k="";;){var D=it(I,x).g;I=j(I,D.j(x));var B=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=D,C(I))return B+k;for(;6>B.length;)B="0"+B;k=B+k}},e.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function V(M){return M.h==-1}e.l=function(M){return M=j(this,M),V(M)?-1:C(M)?0:1};function O(M){for(var x=M.g.length,I=[],k=0;k<x;k++)I[k]=~M.g[k];return new c(I,~M.h).add(E)}e.abs=function(){return V(this)?O(this):this},e.add=function(M){for(var x=Math.max(this.g.length,M.g.length),I=[],k=0,D=0;D<=x;D++){var B=k+(this.i(D)&65535)+(M.i(D)&65535),N=(B>>>16)+(this.i(D)>>>16)+(M.i(D)>>>16);k=N>>>16,B&=65535,N&=65535,I[D]=N<<16|B}return new c(I,I[I.length-1]&-2147483648?-1:0)};function j(M,x){return M.add(O(x))}e.j=function(M){if(C(this)||C(M))return _;if(V(this))return V(M)?O(this).j(O(M)):O(O(this).j(M));if(V(M))return O(this.j(O(M)));if(0>this.l(S)&&0>M.l(S))return p(this.m()*M.m());for(var x=this.g.length+M.g.length,I=[],k=0;k<2*x;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<M.g.length;D++){var B=this.i(k)>>>16,N=this.i(k)&65535,Jt=M.i(D)>>>16,ne=M.i(D)&65535;I[2*k+2*D]+=N*ne,z(I,2*k+2*D),I[2*k+2*D+1]+=B*ne,z(I,2*k+2*D+1),I[2*k+2*D+1]+=N*Jt,z(I,2*k+2*D+1),I[2*k+2*D+2]+=B*Jt,z(I,2*k+2*D+2)}for(k=0;k<x;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=x;k<2*x;k++)I[k]=0;return new c(I,0)};function z(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function q(M,x){this.g=M,this.h=x}function it(M,x){if(C(x))throw Error("division by zero");if(C(M))return new q(_,_);if(V(M))return x=it(O(M),x),new q(O(x.g),O(x.h));if(V(x))return x=it(M,O(x)),new q(O(x.g),x.h);if(30<M.g.length){if(V(M)||V(x))throw Error("slowDivide_ only works with positive integers.");for(var I=E,k=x;0>=k.l(M);)I=W(I),k=W(k);var D=ct(I,1),B=ct(k,1);for(k=ct(k,2),I=ct(I,2);!C(k);){var N=B.add(k);0>=N.l(M)&&(D=D.add(I),B=N),k=ct(k,1),I=ct(I,1)}return x=j(M,D.j(x)),new q(D,x)}for(D=_;0<=M.l(x);){for(I=Math.max(1,Math.floor(M.m()/x.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),B=p(I),N=B.j(x);V(N)||0<N.l(M);)I-=k,B=p(I),N=B.j(x);C(B)&&(B=E),D=D.add(B),M=j(M,N)}return new q(D,M)}e.A=function(M){return it(this,M).h},e.and=function(M){for(var x=Math.max(this.g.length,M.g.length),I=[],k=0;k<x;k++)I[k]=this.i(k)&M.i(k);return new c(I,this.h&M.h)},e.or=function(M){for(var x=Math.max(this.g.length,M.g.length),I=[],k=0;k<x;k++)I[k]=this.i(k)|M.i(k);return new c(I,this.h|M.h)},e.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),I=[],k=0;k<x;k++)I[k]=this.i(k)^M.i(k);return new c(I,this.h^M.h)};function W(M){for(var x=M.g.length+1,I=[],k=0;k<x;k++)I[k]=M.i(k)<<1|M.i(k-1)>>>31;return new c(I,M.h)}function ct(M,x){var I=x>>5;x%=32;for(var k=M.g.length-I,D=[],B=0;B<k;B++)D[B]=0<x?M.i(B+I)>>>x|M.i(B+I+1)<<32-x:M.i(B+I);return new c(D,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rR=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ps=c}).apply(typeof lb<"u"?lb:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sR,Iu,aR,_f,qg,oR,lR,uR;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var T=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var G=h[A];if(!(G in T))break t;T=T[G]}h=h[h.length-1],A=T[h],v=v(A),v!=A&&v!=null&&t(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,A=!1,G={next:function(){if(!A&&T<h.length){var Q=T++;return{value:v(Q,h[Q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function _(h,v,T){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,A),h.apply(v,G)}}return function(){return h.apply(v,arguments)}}function E(h,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function S(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function C(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(A,G,Q){for(var lt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)lt[Lt-2]=arguments[Lt];return v.prototype[G].apply(A,lt)}}function V(h){const v=h.length;if(0<v){const T=Array(v);for(let A=0;A<v;A++)T[A]=h[A];return T}return[]}function O(h,v){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(m(A)){const G=h.length||0,Q=A.length||0;h.length=G+Q;for(let lt=0;lt<Q;lt++)h[G+lt]=A[lt]}else h.push(A)}}class j{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function it(h){return it[" "](h),h}it[" "]=function(){};var W=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ct(h,v,T){for(const A in h)v.call(T,h[A],A,h)}function M(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function x(h){const v={};for(const T in h)v[T]=h[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,v){let T,A;for(let G=1;G<arguments.length;G++){A=arguments[G];for(T in A)h[T]=A[T];for(let Q=0;Q<I.length;Q++)T=I[Q],Object.prototype.hasOwnProperty.call(A,T)&&(h[T]=A[T])}}function D(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function B(h){f.setTimeout(()=>{throw h},0)}function N(){var h=kt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Jt{constructor(){this.h=this.g=null}add(v,T){const A=ne.get();A.set(v,T),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new j(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ft=!1,kt=new Jt,L=()=>{const h=f.Promise.resolve(void 0);at=()=>{h.then(rt)}};var rt=()=>{for(var h;h=N();){try{h.h.call(h.g)}catch(T){B(T)}var v=ne;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ft=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return h}();function Dt(h,v){if(ot.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(W){t:{try{it(v.nodeName);var G=!0;break t}catch{}G=!1}G||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:At[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}C(Dt,ot);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),te=0;function hi(h,v,T,A,G){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!A,this.ha=G,this.key=++te,this.da=this.fa=!1}function Dr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function qi(h){this.src=h,this.g={},this.h=0}qi.prototype.add=function(h,v,T,A,G){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var lt=Vs(h,v,A,G);return-1<lt?(v=h[lt],T||(v.fa=!1)):(v=new hi(v,this.src,Q,!!A,G),v.fa=T,h.push(v)),v};function Os(h,v){var T=v.type;if(T in h.g){var A=h.g[T],G=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=0<=G)&&Array.prototype.splice.call(A,G,1),Q&&(Dr(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Vs(h,v,T,A){for(var G=0;G<h.length;++G){var Q=h[G];if(!Q.da&&Q.listener==v&&Q.capture==!!T&&Q.ha==A)return G}return-1}var Ms="closure_lm_"+(1e6*Math.random()|0),fl={};function Rc(h,v,T,A,G){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Rc(h,v[Q],T,A,G);return null}return T=xc(T),h&&h[ke]?h.K(v,T,p(A)?!!A.capture:!1,G):Ln(h,v,T,!1,A,G)}function Ln(h,v,T,A,G,Q){if(!v)throw Error("Invalid event type");var lt=p(G)?!!G.capture:!!G,Lt=Ba(h);if(Lt||(h[Ms]=Lt=new qi(h)),T=Lt.add(v,T,A,lt,Q),T.proxy)return T;if(A=Dd(),T.proxy=A,A.src=h,A.listener=T,h.addEventListener)gt||(G=lt),G===void 0&&(G=!1),h.addEventListener(v.toString(),A,G);else if(h.attachEvent)h.attachEvent(ks(v.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Dd(){function h(T){return v.call(h.src,h.listener,T)}const v=Nd;return h}function dl(h,v,T,A,G){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)dl(h,v[Q],T,A,G);else A=p(A)?!!A.capture:!!A,T=xc(T),h&&h[ke]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],T=Vs(Q,T,A,G),-1<T&&(Dr(Q[T]),Array.prototype.splice.call(Q,T,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=Ba(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Vs(v,T,A,G)),(T=-1<h?v[h]:null)&&ja(T))}function ja(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ke])Os(v.i,h);else{var T=h.type,A=h.proxy;v.removeEventListener?v.removeEventListener(T,A,h.capture):v.detachEvent?v.detachEvent(ks(T),A):v.addListener&&v.removeListener&&v.removeListener(A),(T=Ba(v))?(Os(T,h),T.h==0&&(T.src=null,v[Ms]=null)):Dr(h)}}}function ks(h){return h in fl?fl[h]:fl[h]="on"+h}function Nd(h,v){if(h.da)h=!0;else{v=new Dt(v,this);var T=h.listener,A=h.ha||h.src;h.fa&&ja(h),h=T.call(A,v)}return h}function Ba(h){return h=h[Ms],h instanceof qi?h:null}var ml="__closure_events_fn_"+(1e9*Math.random()>>>0);function xc(h){return typeof h=="function"?h:(h[ml]||(h[ml]=function(v){return h.handleEvent(v)}),h[ml])}function he(){ut.call(this),this.i=new qi(this),this.M=this,this.F=null}C(he,ut),he.prototype[ke]=!0,he.prototype.removeEventListener=function(h,v,T,A){dl(this,h,v,T,A)};function Gt(h,v){var T,A=h.F;if(A)for(T=[];A;A=A.F)T.push(A);if(h=h.M,A=v.type||v,typeof v=="string")v=new ot(v,h);else if(v instanceof ot)v.target=v.target||h;else{var G=v;v=new ot(A,h),k(v,G)}if(G=!0,T)for(var Q=T.length-1;0<=Q;Q--){var lt=v.g=T[Q];G=Sn(lt,A,!0,v)&&G}if(lt=v.g=h,G=Sn(lt,A,!0,v)&&G,G=Sn(lt,A,!1,v)&&G,T)for(Q=0;Q<T.length;Q++)lt=v.g=T[Q],G=Sn(lt,A,!1,v)&&G}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],A=0;A<T.length;A++)Dr(T[A]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,T,A){return this.i.add(String(h),v,!1,T,A)},he.prototype.L=function(h,v,T,A){return this.i.add(String(h),v,!0,T,A)};function Sn(h,v,T,A){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,Q=0;Q<v.length;++Q){var lt=v[Q];if(lt&&!lt.da&&lt.capture==T){var Lt=lt.listener,Ie=lt.ha||lt.src;lt.fa&&Os(h.i,lt),G=Lt.call(Ie,A)!==!1&&G}}return G&&!A.defaultPrevented}function Je(h,v,T){if(typeof h=="function")T&&(h=E(h,T));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Cc(h){h.g=Je(()=>{h.g=null,h.i&&(h.i=!1,Cc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Pd extends ut{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Cc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(h){ut.call(this),this.h=h,this.g={}}C(Ls,ut);var Us=[];function Fs(h){ct(h.g,function(v,T){this.g.hasOwnProperty(T)&&ja(v)},h),h.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),Fs(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ti=f.JSON.stringify,za=f.JSON.parse,js=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function pl(){}pl.prototype.h=null;function gl(h){return h.h||(h.h=h.i())}function yl(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ki(){ot.call(this,"d")}C(Ki,ot);function vl(){ot.call(this,"c")}C(vl,ot);var fi={},_l=null;function Nr(){return _l=_l||new he}fi.La="serverreachability";function Ha(h){ot.call(this,fi.La,h)}C(Ha,ot);function Pr(h){const v=Nr();Gt(v,new Ha(v))}fi.STAT_EVENT="statevent";function Ic(h,v){ot.call(this,fi.STAT_EVENT,h),this.stat=v}C(Ic,ot);function ie(h){const v=Nr();Gt(v,new Ic(v,h))}fi.Ma="timingevent";function Ce(h,v){ot.call(this,fi.Ma,h),this.size=v}C(Ce,ot);function we(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function Tl(h,v,T,A,G,Q){h.info(function(){if(h.g)if(Q)for(var lt="",Lt=Q.split("&"),Ie=0;Ie<Lt.length;Ie++){var Ut=Lt[Ie].split("=");if(1<Ut.length){var Ue=Ut[0];Ut=Ut[1];var De=Ue.split("_");lt=2<=De.length&&De[1]=="type"?lt+(Ue+"="+Ut+"&"):lt+(Ue+"=redacted&")}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+A+") [attempt "+G+"]: "+v+`
`+T+`
`+lt})}function Od(h,v,T,A,G,Q,lt){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+G+"]: "+v+`
`+T+`
`+Q+" "+lt})}function Or(h,v,T,A){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Bs(h,T)+(A?" "+A:"")})}function Dc(h,v){h.info(function(){return"TIMEOUT: "+v})}Un.prototype.info=function(){};function Bs(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var A=T[h];if(!(2>A.length)){var G=A[1];if(Array.isArray(G)&&!(1>G.length)){var Q=G[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var lt=1;lt<G.length;lt++)G[lt]=""}}}}return ti(T)}catch{return v}}var Vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function mi(){}C(mi,pl),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},di=new mi;function un(h,v,T,A){this.j=h,this.i=v,this.l=T,this.R=A||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var El={},qa={};function ei(h,v,T){h.L=1,h.v=Ks(Rn(v)),h.m=T,h.P=!0,$i(h,null)}function $i(h,v){h.F=Date.now(),zs(h),h.A=Rn(h.v);var T=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),xl(T.i,"t",A),h.C=0,T=h.j.J,h.h=new ve,h.g=Kc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new Pd(E(h.Y,h,h.g),h.O)),v=h.U,T=h.g,A=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(Us[0]=G.toString()),G=Us);for(var Q=0;Q<G.length;Q++){var lt=Rc(T,G[Q],A||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Pr(),Tl(h.i,h.u,h.A,h.l,h.R,h.m)}un.prototype.ca=function(h){h=h.target;const v=this.M;v&&zn(h)==3?v.j():this.Y(h)},un.prototype.Y=function(h){try{if(h==this.g)t:{const De=zn(this.g);var v=this.g.Ba();const nr=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Uc(this.g)))){this.J||De!=4||v==7||(v==8||0>=nr?Pr(3):Pr(2)),Mr(this);var T=this.g.Z();this.X=T;e:if(Nc(this)){var A=Uc(this.g);h="";var G=A.length,Q=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),pi(this);var lt="";break e}this.h.i=new f.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,h+=this.h.i.decode(A[v],{stream:!(Q&&v==G-1)});A.length=0,this.h.g+=h,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=T==200,Od(this.i,this.u,this.A,this.l,this.R,De,T),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ie=this.g;if((Lt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Lt)){var Ut=Lt;break e}}Ut=null}if(T=Ut)Or(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hs(this,T);else{this.o=!1,this.s=3,ie(12),He(this),pi(this);break t}}if(this.P){T=!0;let qe;for(;!this.J&&this.C<lt.length;)if(qe=Pc(this,lt),qe==qa){De==4&&(this.s=4,ie(14),T=!1),Or(this.i,this.l,null,"[Incomplete Response]");break}else if(qe==El){this.s=4,ie(15),Or(this.i,this.l,lt,"[Invalid Chunk]"),T=!1;break}else Or(this.i,this.l,qe,null),Hs(this,qe);if(Nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||lt.length!=0||this.h.h||(this.s=1,ie(16),T=!1),this.o=this.o&&T,!T)Or(this.i,this.l,lt,"[Invalid Chunked Response]"),He(this),pi(this);else if(0<lt.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),ta(Ue),Ue.M=!0,ie(11))}}else Or(this.i,this.l,lt,null),Hs(this,lt);De==4&&He(this),this.o&&!this.J&&(De==4?Hc(this.j,this):(this.o=!1,zs(this)))}else Ud(this.g),T==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),He(this),pi(this)}}}catch{}finally{}};function Nc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Pc(h,v){var T=h.C,A=v.indexOf(`
`,T);return A==-1?qa:(T=Number(v.substring(T,A)),isNaN(T)?El:(A+=1,A+T>v.length?qa:(v=v.slice(A,A+T),h.C=A+T,v)))}un.prototype.cancel=function(){this.J=!0,He(this)};function zs(h){h.S=Date.now()+h.I,Oc(h,h.I)}function Oc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=we(E(h.ba,h),v)}function Mr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}un.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Dc(this.i,this.A),this.L!=2&&(Pr(),ie(17)),He(this),this.s=2,pi(this)):Oc(this,this.S-h)};function pi(h){h.j.G==0||h.J||Hc(h.j,h)}function He(h){Mr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Fs(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Hs(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||bl(T.h,h))){if(!h.K&&bl(T.h,h)&&T.G==3){try{var A=T.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var G=A;if(G[0]==0){t:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)no(T),to(T);else break t;Pl(T),ie(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=we(E(T.Za,T),6e3));if(1>=Ka(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else er(T,11)}else if((h.K||T.g==h)&&no(T),!z(v))for(G=T.Da.g.parse(v),v=0;v<G.length;v++){let Ut=G[v];if(T.T=Ut[0],Ut=Ut[1],T.G==2)if(Ut[0]=="c"){T.K=Ut[1],T.ia=Ut[2];const Ue=Ut[3];Ue!=null&&(T.la=Ue,T.j.info("VER="+T.la));const De=Ut[4];De!=null&&(T.Aa=De,T.j.info("SVER="+T.Aa));const nr=Ut[5];nr!=null&&typeof nr=="number"&&0<nr&&(A=1.5*nr,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const qe=h.g;if(qe){const bi=qe.g?qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var Q=A.h;Q.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ya(Q,Q.h),Q.h=null))}if(A.D){const Vl=qe.g?qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(A.ya=Vl,$t(A.I,A.D,Vl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var lt=h;if(A.qa=Gc(A,A.J?A.ia:null,A.W),lt.K){cn(A.h,lt);var Lt=lt,Ie=A.L;Ie&&(Lt.I=Ie),Lt.B&&(Mr(Lt),zs(Lt)),A.g=lt}else Bc(A);0<T.i.length&&eo(T)}else Ut[0]!="stop"&&Ut[0]!="close"||er(T,7);else T.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?er(T,7):Dl(T):Ut[0]!="noop"&&T.l&&T.l.ta(Ut),T.v=0)}}Pr(4)}catch{}}var Vc=class{constructor(h,v){this.g=h,this.map=v}};function Xi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ka(h){return h.h?1:h.g?h.g.size:0}function bl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ya(h,v){h.g?h.g.add(v):h.h=v}function cn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Xi.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return V(h.i)}function Vd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],T=h.length,A=0;A<T;A++)v.push(h[A]);return v}v=[],T=0;for(A in h)v[T++]=h[A];return v}function $a(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const A in h)v[T++]=A;return v}}}function Al(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=$a(h),A=Vd(h),G=A.length,Q=0;Q<G;Q++)v.call(void 0,A[Q],T&&T[Q],h)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Md(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var A=h[T].indexOf("="),G=null;if(0<=A){var Q=h[T].substring(0,A);G=h[T].substring(A+1)}else Q=h[T];v(Q,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ae(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ae){this.h=h.h,Gs(this,h.j),this.o=h.o,this.g=h.g,kr(this,h.s),this.l=h.l;var v=h.i,T=new Wi;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Qi(this,T),this.m=h.m}else h&&(v=String(h).match(qs))?(this.h=!1,Gs(this,v[1]||"",!0),this.o=Fn(v[2]||""),this.g=Fn(v[3]||"",!0),kr(this,v[4]),this.l=Fn(v[5]||"",!0),Qi(this,v[6]||"",!0),this.m=Fn(v[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}Ae.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ys(v,Sl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ys(v,Sl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ys(T,T.charAt(0)=="/"?kd:Rl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ys(T,Xa)),h.join("")};function Rn(h){return new Ae(h)}function Gs(h,v,T){h.j=T?Fn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function kr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Qi(h,v,T){v instanceof Wi?(h.i=v,kc(h.i,h.h)):(T||(v=Ys(v,Ld)),h.i=new Wi(v,h.h))}function $t(h,v,T){h.i.set(v,T)}function Ks(h){return $t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Fn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ys(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Mc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Sl=/[#\/\?@]/g,Rl=/[#\?:]/g,kd=/[#\?]/g,Ld=/[#\?@]/g,Xa=/#/g;function Wi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function jn(h){h.g||(h.g=new Map,h.h=0,h.i&&Md(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}e=Wi.prototype,e.add=function(h,v){jn(this),this.i=null,h=gi(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Zi(h,v){jn(h),v=gi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ji(h,v){return jn(h),v=gi(h,v),h.g.has(v)}e.forEach=function(h,v){jn(this),this.g.forEach(function(T,A){T.forEach(function(G){h.call(v,G,A,this)},this)},this)},e.na=function(){jn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let A=0;A<v.length;A++){const G=h[A];for(let Q=0;Q<G.length;Q++)T.push(v[A])}return T},e.V=function(h){jn(this);let v=[];if(typeof h=="string")Ji(this,h)&&(v=v.concat(this.g.get(gi(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},e.set=function(h,v){return jn(this),this.i=null,h=gi(this,h),Ji(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function xl(h,v,T){Zi(h,v),0<T.length&&(h.i=null,h.g.set(gi(h,v),V(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var A=v[T];const Q=encodeURIComponent(String(A)),lt=this.V(A);for(A=0;A<lt.length;A++){var G=Q;lt[A]!==""&&(G+="="+encodeURIComponent(String(lt[A]))),h.push(G)}}return this.i=h.join("&")};function gi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function kc(h,v){v&&!h.j&&(jn(h),h.i=null,h.g.forEach(function(T,A){var G=A.toLowerCase();A!=G&&(Zi(this,A),xl(this,G,T))},h)),h.j=v}function $s(h,v){const T=new Un;if(f.Image){const A=new Image;A.onload=S(Bn,T,"TestLoadImage: loaded",!0,v,A),A.onerror=S(Bn,T,"TestLoadImage: error",!1,v,A),A.onabort=S(Bn,T,"TestLoadImage: abort",!1,v,A),A.ontimeout=S(Bn,T,"TestLoadImage: timeout",!1,v,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else v(!1)}function ni(h,v){const T=new Un,A=new AbortController,G=setTimeout(()=>{A.abort(),Bn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:A.signal}).then(Q=>{clearTimeout(G),Q.ok?Bn(T,"TestPingServer: ok",!0,v):Bn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Bn(T,"TestPingServer: error",!1,v)})}function Bn(h,v,T,A,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),A(T)}catch{}}function Xs(){this.g=new js}function yi(h,v,T){const A=T||"";try{Al(h,function(G,Q){let lt=G;p(G)&&(lt=ti(G)),v.push(A+Q+"="+encodeURIComponent(lt))})}catch(G){throw v.push(A+"type="+encodeURIComponent("_badmap")),G}}function Lr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Lr,pl),Lr.prototype.g=function(){return new tr(this.l,this.j)},Lr.prototype.i=function(h){return function(){return h}}({});function tr(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(tr,he),e=tr.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,_i(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?vi(this):_i(this),this.readyState==3&&Cl(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,vi(this))},e.Qa=function(h){this.g&&(this.response=h,vi(this))},e.ga=function(){this.g&&vi(this)};function vi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,_i(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function _i(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Il(h){let v="";return ct(h,function(T,A){v+=A,v+=":",v+=T,v+=`\r
`}),v}function Le(h,v,T){t:{for(A in T){var A=!1;break t}A=!0}A||(T=Il(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):$t(h,v,T))}function Ht(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ht,he);var Qa=/^https?$/i,Qs=["POST","PUT"];e=Ht.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?gl(this.o):gl(di),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Lc(this,Q);return}if(h=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var G in A)T.set(G,A[G]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())T.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qs,v,void 0))||A||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of T)this.g.setRequestHeader(Q,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ws(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Lc(this,Q)}};function Lc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Wa(h),Ti(h)}function Wa(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),Ti(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},e.bb=function(){Za(this)};function Za(h){if(h.h&&typeof c<"u"&&(!h.v[1]||zn(h)!=4||h.Z()!=2)){if(h.u&&zn(h)==4)Je(h.Ea,0,h);else if(Gt(h,"readystatechange"),zn(h)==4){h.h=!1;try{const lt=h.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var A;if(A=lt===0){var G=String(h.D).match(qs)[1]||null;!G&&f.self&&f.self.location&&(G=f.self.location.protocol.slice(0,-1)),A=!Qa.test(G?G.toLowerCase():"")}T=A}if(T)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var Q=2<zn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Wa(h)}}finally{Ti(h)}}}}function Ti(h,v){if(h.g){Ws(h);const T=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Gt(h,"ready");try{T.onreadystatechange=A}catch{}}}function Ws(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function zn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),za(v)}};function Uc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ud(h){const v={};h=(h.g&&2<=zn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(z(h[A]))continue;var T=D(h[A]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=v[G]||[];v[G]=Q,Q.push(T)}M(v,function(A){return A.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ja(h){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zs("baseRetryDelayMs",5e3,h),this.cb=Zs("retryDelaySeedMs",1e4,h),this.Wa=Zs("forwardChannelMaxRetries",2,h),this.wa=Zs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(h&&h.concurrentRequestLimit),this.Da=new Xs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ja.prototype,e.la=8,e.G=1,e.connect=function(h,v,T,A){ie(0),this.W=h,this.H=v||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=Gc(this,null,this.W),eo(this)};function Dl(h){if(Fc(h),h.G==3){var v=h.U++,T=Rn(h.I);if($t(T,"SID",h.K),$t(T,"RID",v),$t(T,"TYPE","terminate"),Js(h,T),v=new un(h,h.j,v),v.L=2,v.v=Ks(Rn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=Kc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),zs(v)}qc(h)}function to(h){h.g&&(ta(h),h.g.cancel(),h.g=null)}function Fc(h){to(h),h.u&&(f.clearTimeout(h.u),h.u=null),no(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function eo(h){if(!Ga(h.h)&&!h.s){h.s=!0;var v=h.Ga;at||L(),ft||(at(),ft=!0),kt.add(v,h),h.B=0}}function Fd(h,v){return Ka(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=we(E(h.Ga,h,v),Ol(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new un(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=x(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(G.H=Q,Q=null),this.P)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=jc(this,G,v),T=Rn(this.I),$t(T,"RID",h),$t(T,"CVER",22),this.D&&$t(T,"X-HTTP-Session-Id",this.D),Js(this,T),Q&&(this.O?v="headers="+encodeURIComponent(String(Il(Q)))+"&"+v:this.m&&Le(T,this.m,Q)),Ya(this.h,G),this.Ua&&$t(T,"TYPE","init"),this.P?($t(T,"$req",v),$t(T,"SID","null"),G.T=!0,ei(G,T,null)):ei(G,T,v),this.G=2}}else this.G==3&&(h?Nl(this,h):this.i.length==0||Ga(this.h)||Nl(this))};function Nl(h,v){var T;v?T=v.l:T=h.U++;const A=Rn(h.I);$t(A,"SID",h.K),$t(A,"RID",T),$t(A,"AID",h.T),Js(h,A),h.m&&h.o&&Le(A,h.m,h.o),T=new un(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=jc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ya(h.h,T),ei(T,A,v)}function Js(h,v){h.H&&ct(h.H,function(T,A){$t(v,A,T)}),h.l&&Al({},function(T,A){$t(v,A,T)})}function jc(h,v,T){T=Math.min(h.i.length,T);var A=h.l?E(h.l.Na,h.l,h):null;t:{var G=h.i;let Q=-1;for(;;){const lt=["count="+T];Q==-1?0<T?(Q=G[0].g,lt.push("ofs="+Q)):Q=0:lt.push("ofs="+Q);let Lt=!0;for(let Ie=0;Ie<T;Ie++){let Ut=G[Ie].g;const Ue=G[Ie].map;if(Ut-=Q,0>Ut)Q=Math.max(0,G[Ie].g-100),Lt=!1;else try{yi(Ue,lt,"req"+Ut+"_")}catch{A&&A(Ue)}}if(Lt){A=lt.join("&");break t}}}return h=h.i.splice(0,T),v.D=h,A}function Bc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;at||L(),ft||(at(),ft=!0),kt.add(v,h),h.v=0}}function Pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=we(E(h.Fa,h),Ol(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,zc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=we(E(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),to(this),zc(this))};function ta(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function zc(h){h.g=new un(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Rn(h.qa);$t(v,"RID","rpc"),$t(v,"SID",h.K),$t(v,"AID",h.T),$t(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&$t(v,"TO",h.ja),$t(v,"TYPE","xmlhttp"),Js(h,v),h.m&&h.o&&Le(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Ks(Rn(v)),T.m=null,T.P=!0,$i(T,h)}e.Za=function(){this.C!=null&&(this.C=null,to(this),Pl(this),ie(19))};function no(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function Hc(h,v){var T=null;if(h.g==v){no(h),ta(h),h.g=null;var A=2}else if(bl(h.h,v))T=v.D,cn(h.h,v),A=1;else return;if(h.G!=0){if(v.o)if(A==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var G=h.B;A=Nr(),Gt(A,new Ce(A,T)),eo(h)}else Bc(h);else if(G=v.s,G==3||G==0&&0<v.X||!(A==1&&Fd(h,v)||A==2&&Pl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),G){case 1:er(h,5);break;case 4:er(h,10);break;case 3:er(h,6);break;default:er(h,2)}}}function Ol(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function er(h,v){if(h.j.info("Error code "+v),v==2){var T=E(h.fb,h),A=h.Xa;const G=!A;A=new Ae(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Gs(A,"https"),Ks(A),G?$s(A.toString(),T):ni(A.toString(),T)}else ie(2);h.G=0,h.l&&h.l.sa(v),qc(h),Fc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function qc(h){if(h.G=0,h.ka=[],h.l){const v=wl(h.h);(v.length!=0||h.i.length!=0)&&(O(h.ka,v),O(h.ka,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.ra()}}function Gc(h,v,T){var A=T instanceof Ae?Rn(T):new Ae(T);if(A.g!="")v&&(A.g=v+"."+A.g),kr(A,A.s);else{var G=f.location;A=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var Q=new Ae(null);A&&Gs(Q,A),v&&(Q.g=v),G&&kr(Q,G),T&&(Q.l=T),A=Q}return T=h.D,v=h.ya,T&&v&&$t(A,T,v),$t(A,"VER",h.la),Js(h,A),A}function Kc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ht(new Lr({eb:T})):new Ht(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}e=Yc.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function io(){}io.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){he.call(this),this.g=new Ja(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!z(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ei(this)}C(hn,he),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Dl(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=ti(h),h=T);v.i.push(new Vc(v.Ya++,h)),v.G==3&&eo(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,Dl(this.g),delete this.g,hn.aa.N.call(this)};function $c(h){Ki.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const T in v){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C($c,Ki);function Xc(){vl.call(this),this.status=1}C(Xc,vl);function Ei(h){this.g=h}C(Ei,Yc),Ei.prototype.ua=function(){Gt(this.g,"a")},Ei.prototype.ta=function(h){Gt(this.g,new $c(h))},Ei.prototype.sa=function(h){Gt(this.g,new Xc)},Ei.prototype.ra=function(){Gt(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,uR=function(){return new io},lR=function(){return Nr()},oR=fi,qg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,_f=Vr,Yi.COMPLETE="complete",aR=Yi,yl.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",he.prototype.listen=he.prototype.K,Iu=yl,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,sR=Ht}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});const ub="@firebase/firestore",cb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Xy("@firebase/firestore");function Oo(){return Da.logLevel}function ht(e,...t){if(Da.logLevel<=Vt.DEBUG){const n=t.map(ov);Da.debug(`Firestore (${ll}): ${e}`,...n)}}function xr(e,...t){if(Da.logLevel<=Vt.ERROR){const n=t.map(ov);Da.error(`Firestore (${ll}): ${e}`,...n)}}function Xo(e,...t){if(Da.logLevel<=Vt.WARN){const n=t.map(ov);Da.warn(`Firestore (${ll}): ${e}`,...n)}}function ov(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,cR(e,r,n)}function cR(e,t,n){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xr(r),new Error(r)}function qt(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||cR(t,a,r)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Hi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class l6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class u6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class c6{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Er,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Er)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new hR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class h6{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f6{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new h6(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d6{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0,3512);const r=l=>{l.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(qt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=m6(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function It(e,t){return e<t?-1:e>t?1:0}function Gg(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return It(r,a);{const l=fR(),c=p6(l.encode(fb(e,n)),l.encode(fb(t,n)));return c!==0?c:It(r,a)}}n+=r>65535?2:1}return It(e.length,t.length)}function fb(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function p6(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return It(e[n],t[n]);return It(e.length,t.length)}function Qo(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=-62135596800,mb=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(t){return Ve.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*mb);return new Ve(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new pt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<db)throw new pt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mb}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-db;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new Ve(0,0))}static max(){return new St(new Ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="__name__";class Ci{constructor(t,n,r){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Et(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Ci.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return It(t.length,n.length)}static compareSegments(t,n){const r=Ci.isNumericId(t),a=Ci.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ci.extractNumericId(t).compare(Ci.extractNumericId(n)):Gg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ps.fromString(t.substring(4,t.length-2))}}class se extends Ci{construct(t,n,r){return new se(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new pt(st.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new se(n)}static emptyPath(){return new se([])}}const g6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ci{construct(t,n,r){return new We(t,n,r)}static isValidIdentifier(t){return g6.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pb}static keyField(){return new We([pb])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new pt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new pt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new pt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(n)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(se.fromString(t))}static fromName(t){return new yt(se.fromString(t).popFirst(5))}static empty(){return new yt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new se(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=-1;function y6(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=St.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new Ts(a,yt.empty(),t)}function v6(e){return new Ts(e.readTime,e.key,nc)}class Ts{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ts(St.min(),yt.empty(),nc)}static max(){return new Ts(St.max(),yt.empty(),nc)}}function _6(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:It(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==T6)throw e;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.reject(n)}static resolve(t){return new nt((n,r)=>{n(t)})}static reject(t){return new nt((n,r)=>{r(t)})}static waitFor(t){return new nt((n,r)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(t){let n=nt.resolve(!1);for(const r of t)n=n.next(a=>a?nt.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new nt((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(t,n){return new nt((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function b6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}ud.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=-1;function cd(e){return e==null}function Ff(e){return e===0&&1/e==-1/0}function w6(e){return typeof e=="number"&&Number.isInteger(e)&&!Ff(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="";function A6(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=gb(t)),t=S6(e.get(n),t);return gb(t)}function S6(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case mR:n+="";break;default:n+=l}}return n}function gb(e){return e+mR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ds(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function pR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nf(this.root,t,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nf(this.root,t,this.comparator,!0)}}class nf{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=a??Qe.EMPTY,this.right=l??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new Qe(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Qe.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new vb(this.data.getIterator())}getIteratorFrom(t){return new vb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class vb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Mn([])}unionWith(t){let n=new Me(We.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Mn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Qo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gR("Invalid base64 string: "+l):l}}(t);return new Ze(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new Ze(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const R6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(e){if(qt(!!e,39018),typeof e=="string"){let t=0;const n=R6.exec(e);if(qt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:be(e.seconds),nanos:be(e.nanos)}}function be(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function bs(e){return typeof e=="string"?Ze.fromBase64String(e):Ze.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="server_timestamp",vR="__type__",_R="__previous_value__",TR="__local_write_time__";function uv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[vR])===null||n===void 0?void 0:n.stringValue)===yR}function hd(e){const t=e.mapValue.fields[_R];return uv(t)?hd(t):t}function ic(e){const t=Es(e.mapValue.fields[TR].timestampValue);return new Ve(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(t,n,r,a,l,c,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const jf="(default)";class rc{constructor(t,n){this.projectId=t,this.database=n||jf}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database===jf}isEqual(t){return t instanceof rc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__type__",C6="__max__",rf={mapValue:{}},bR="__vector__",Bf="value";function ws(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uv(e)?4:D6(e)?9007199254740991:I6(e)?10:11:Et(28295,{value:e})}function Fi(e,t){if(e===t)return!0;const n=ws(e);if(n!==ws(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ic(e).isEqual(ic(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Es(a.timestampValue),f=Es(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return bs(a.bytesValue).isEqual(bs(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return be(a.geoPointValue.latitude)===be(l.geoPointValue.latitude)&&be(a.geoPointValue.longitude)===be(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return be(a.integerValue)===be(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=be(a.doubleValue),f=be(l.doubleValue);return c===f?Ff(c)===Ff(f):isNaN(c)&&isNaN(f)}return!1}(e,t);case 9:return Qo(e.arrayValue.values||[],t.arrayValue.values||[],Fi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(yb(c)!==yb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Fi(c[m],f[m])))return!1;return!0}(e,t);default:return Et(52216,{left:e})}}function sc(e,t){return(e.values||[]).find(n=>Fi(n,t))!==void 0}function Wo(e,t){if(e===t)return 0;const n=ws(e),r=ws(t);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(l,c){const f=be(l.integerValue||l.doubleValue),m=be(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(e,t);case 3:return _b(e.timestampValue,t.timestampValue);case 4:return _b(ic(e),ic(t));case 5:return Gg(e.stringValue,t.stringValue);case 6:return function(l,c){const f=bs(l),m=bs(c);return f.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=It(f[p],m[p]);if(y!==0)return y}return It(f.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const f=It(be(l.latitude),be(c.latitude));return f!==0?f:It(be(l.longitude),be(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Tb(e.arrayValue,t.arrayValue);case 10:return function(l,c){var f,m,p,y;const _=l.fields||{},E=c.fields||{},S=(f=_[Bf])===null||f===void 0?void 0:f.arrayValue,C=(m=E[Bf])===null||m===void 0?void 0:m.arrayValue,V=It(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return V!==0?V:Tb(S,C)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===rf.mapValue&&c===rf.mapValue)return 0;if(l===rf.mapValue)return 1;if(c===rf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Gg(m[_],y[_]);if(E!==0)return E;const S=Wo(f[m[_]],p[y[_]]);if(S!==0)return S}return It(m.length,y.length)}(e.mapValue,t.mapValue);default:throw Et(23264,{Pe:n})}}function _b(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);const n=Es(e),r=Es(t),a=It(n.seconds,r.seconds);return a!==0?a:It(n.nanos,r.nanos)}function Tb(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=Wo(n[a],r[a]);if(l)return l}return It(n.length,r.length)}function Zo(e){return Kg(e)}function Kg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Es(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return bs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return yt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Kg(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Kg(n.fields[c])}`;return a+"}"}(e.mapValue):Et(61005,{value:e})}function Tf(e){switch(ws(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hd(e);return t?16+Tf(t):16;case 5:return 2*e.stringValue.length;case 6:return bs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Tf(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return Ds(r.fields,(l,c)=>{a+=l.length+Tf(c)}),a}(e.mapValue);default:throw Et(13486,{value:e})}}function Yg(e){return!!e&&"integerValue"in e}function cv(e){return!!e&&"arrayValue"in e}function Eb(e){return!!e&&"nullValue"in e}function bb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ef(e){return!!e&&"mapValue"in e}function I6(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[ER])===null||n===void 0?void 0:n.stringValue)===bR}function ju(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ds(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ju(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ju(e.arrayValue.values[n]);return t}return Object.assign({},e)}function D6(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===C6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.value=t}static empty(){return new bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ef(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ju(n)}setAll(t){let n=We.emptyPath(),r={},a=[];t.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=ju(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());Ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Fi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];Ef(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){Ds(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new bn(ju(this.value))}}function wR(e){const t=[];return Ds(e.fields,(n,r)=>{const a=new We([n]);if(Ef(r)){const l=wR(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new Mn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t,n,r,a,l,c,f){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new an(t,0,St.min(),St.min(),St.min(),bn.empty(),0)}static newFoundDocument(t,n,r,a){return new an(t,1,n,St.min(),r,a,0)}static newNoDocument(t,n){return new an(t,2,n,St.min(),St.min(),bn.empty(),0)}static newUnknownDocument(t,n){return new an(t,3,n,St.min(),St.min(),bn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t,n){this.position=t,this.inclusive=n}}function wb(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),n.key):r=Wo(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ab(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Fi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,n="asc"){this.field=t,this.dir=n}}function N6(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class Oe extends AR{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new O6(t,n,r):n==="array-contains"?new k6(t,r):n==="in"?new L6(t,r):n==="not-in"?new U6(t,r):n==="array-contains-any"?new F6(t,r):new Oe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new V6(t,r):new M6(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wo(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends AR{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new ji(t,n)}matches(t){return SR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function SR(e){return e.op==="and"}function RR(e){return P6(e)&&SR(e)}function P6(e){for(const t of e.filters)if(t instanceof ji)return!1;return!0}function $g(e){if(e instanceof Oe)return e.field.canonicalString()+e.op.toString()+Zo(e.value);if(RR(e))return e.filters.map(t=>$g(t)).join(",");{const t=e.filters.map(n=>$g(n)).join(",");return`${e.op}(${t})`}}function xR(e,t){return e instanceof Oe?function(r,a){return a instanceof Oe&&r.op===a.op&&r.field.isEqual(a.field)&&Fi(r.value,a.value)}(e,t):e instanceof ji?function(r,a){return a instanceof ji&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&xR(c,a.filters[f]),!0):!1}(e,t):void Et(19439)}function CR(e){return e instanceof Oe?function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`}(e):e instanceof ji?function(n){return n.op.toString()+" {"+n.getFilters().map(CR).join(" ,")+"}"}(e):"Filter"}class O6 extends Oe{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class V6 extends Oe{constructor(t,n){super(t,"in",n),this.keys=IR("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class M6 extends Oe{constructor(t,n){super(t,"not-in",n),this.keys=IR("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function IR(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>yt.fromName(r.referenceValue))}class k6 extends Oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return cv(n)&&sc(n.arrayValue,this.value)}}class L6 extends Oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}}class U6 extends Oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sc(this.value.arrayValue,n)}}class F6 extends Oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!cv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(t,n=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function Sb(e,t=null,n=[],r=[],a=null,l=null,c=null){return new j6(e,t,n,r,a,l,c)}function hv(e){const t=Rt(e);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>$g(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),cd(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Zo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Zo(r)).join(",")),t.Ie=n}return t.Ie}function fv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!N6(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ab(e.startAt,t.startAt)&&Ab(e.endAt,t.endAt)}function Xg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function B6(e,t,n,r,a,l,c,f){return new fd(e,t,n,r,a,l,c,f)}function dv(e){return new fd(e)}function Rb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function z6(e){return e.collectionGroup!==null}function Bu(e){const t=Rt(e);if(t.Ee===null){t.Ee=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ee.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Me(We.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ee.push(new Hf(l,r))}),n.has(We.keyField().canonicalString())||t.Ee.push(new Hf(We.keyField(),r))}return t.Ee}function ki(e){const t=Rt(e);return t.de||(t.de=H6(t,Bu(e))),t.de}function H6(e,t){if(e.limitType==="F")return Sb(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Hf(a.field,l)});const n=e.endAt?new zf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new zf(e.startAt.position,e.startAt.inclusive):null;return Sb(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Qg(e,t,n){return new fd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dd(e,t){return fv(ki(e),ki(t))&&e.limitType===t.limitType}function DR(e){return`${hv(ki(e))}|lt:${e.limitType}`}function Vo(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>CR(a)).join(", ")}]`),cd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Zo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Zo(a)).join(",")),`Target(${r})`}(ki(e))}; limitType=${e.limitType})`}function md(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):yt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of Bu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,f,m){const p=wb(c,f,m);return c.inclusive?p<=0:p<0}(r.startAt,Bu(r),a)||r.endAt&&!function(c,f,m){const p=wb(c,f,m);return c.inclusive?p>=0:p>0}(r.endAt,Bu(r),a))}(e,t)}function q6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function NR(e){return(t,n)=>{let r=!1;for(const a of Bu(e)){const l=G6(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function G6(e,t,n){const r=e.field.isKeyField()?yt.comparator(t.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Wo(m,p):Et(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ds(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return pR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new ce(yt.comparator);function Cr(){return K6}const PR=new ce(yt.comparator);function Du(...e){let t=PR;for(const n of e)t=t.insert(n.key,n);return t}function OR(e){let t=PR;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Ea(){return zu()}function VR(){return zu()}function zu(){return new La(e=>e.toString(),(e,t)=>e.isEqual(t))}const Y6=new ce(yt.comparator),$6=new Me(yt.comparator);function Mt(...e){let t=$6;for(const n of e)t=t.add(n);return t}const X6=new Me(It);function Q6(){return X6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ff(t)?"-0":t}}function MR(e){return{integerValue:""+e}}function W6(e,t){return w6(t)?MR(t):mv(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this._=void 0}}function Z6(e,t,n){return e instanceof qf?function(a,l){const c={fields:{[vR]:{stringValue:yR},[TR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&uv(l)&&(l=hd(l)),l&&(c.fields[_R]=l),{mapValue:c}}(n,t):e instanceof ac?LR(e,t):e instanceof oc?UR(e,t):function(a,l){const c=kR(a,l),f=xb(c)+xb(a.Re);return Yg(c)&&Yg(a.Re)?MR(f):mv(a.serializer,f)}(e,t)}function J6(e,t,n){return e instanceof ac?LR(e,t):e instanceof oc?UR(e,t):n}function kR(e,t){return e instanceof Gf?function(r){return Yg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class qf extends pd{}class ac extends pd{constructor(t){super(),this.elements=t}}function LR(e,t){const n=FR(t);for(const r of e.elements)n.some(a=>Fi(a,r))||n.push(r);return{arrayValue:{values:n}}}class oc extends pd{constructor(t){super(),this.elements=t}}function UR(e,t){let n=FR(t);for(const r of e.elements)n=n.filter(a=>!Fi(a,r));return{arrayValue:{values:n}}}class Gf extends pd{constructor(t,n){super(),this.serializer=t,this.Re=n}}function xb(e){return be(e.integerValue||e.doubleValue)}function FR(e){return cv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function tL(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof ac&&a instanceof ac||r instanceof oc&&a instanceof oc?Qo(r.elements,a.elements,Fi):r instanceof Gf&&a instanceof Gf?Fi(r.Re,a.Re):r instanceof qf&&a instanceof qf}(e.transform,t.transform)}class eL{constructor(t,n){this.version=t,this.transformResults=n}}class Jn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gd{}function jR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new pv(e.key,Jn.none()):new bc(e.key,e.data,Jn.none());{const n=e.data,r=bn.empty();let a=new Me(We.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ns(e.key,r,new Mn(a.toArray()),Jn.none())}}function nL(e,t,n){e instanceof bc?function(a,l,c){const f=a.value.clone(),m=Ib(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):e instanceof Ns?function(a,l,c){if(!bf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Ib(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(BR(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function Hu(e,t,n,r){return e instanceof bc?function(l,c,f,m){if(!bf(l.precondition,c))return f;const p=l.value.clone(),y=Db(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ns?function(l,c,f,m){if(!bf(l.precondition,c))return f;const p=Db(l.fieldTransforms,m,c),y=c.data;return y.setAll(BR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(e,t,n,r):function(l,c,f){return bf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(e,t,n)}function iL(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=kR(r.transform,a||null);l!=null&&(n===null&&(n=bn.empty()),n.set(r.field,l))}return n||null}function Cb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Qo(r,a,(l,c)=>tL(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bc extends gd{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ns extends gd{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function BR(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ib(e,t,n){const r=new Map;qt(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,J6(c,f,n[a]))}return r}function Db(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,Z6(l,c,t))}return r}class pv extends gd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rL extends gd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&nL(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Hu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Hu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=VR();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=jR(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(St.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Qo(this.mutations,t.mutations,(n,r)=>Cb(n,r))&&Qo(this.baseMutations,t.baseMutations,(n,r)=>Cb(n,r))}}class gv{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){qt(t.mutations.length===r.length,58842,{fe:t.mutations.length,ge:r.length});let a=function(){return Y6}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new gv(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,jt;function lL(e){switch(e){case st.OK:return Et(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Et(15467,{code:e})}}function zR(e){if(e===void 0)return xr("GRPC error has no .code"),st.UNKNOWN;switch(e){case xe.OK:return st.OK;case xe.CANCELLED:return st.CANCELLED;case xe.UNKNOWN:return st.UNKNOWN;case xe.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case xe.INTERNAL:return st.INTERNAL;case xe.UNAVAILABLE:return st.UNAVAILABLE;case xe.UNAUTHENTICATED:return st.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case xe.NOT_FOUND:return st.NOT_FOUND;case xe.ALREADY_EXISTS:return st.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return st.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case xe.ABORTED:return st.ABORTED;case xe.OUT_OF_RANGE:return st.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return st.UNIMPLEMENTED;case xe.DATA_LOSS:return st.DATA_LOSS;default:return Et(39323,{code:e})}}(jt=xe||(xe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new ps([4294967295,4294967295],0);function Nb(e){const t=fR().encode(e),n=new rR;return n.update(t),new Uint8Array(n.digest())}function Pb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ps([n,r],0),new ps([a,l],0)]}class yv{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nu(`Invalid padding: ${n}`);if(r<0)throw new Nu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=ps.fromNumber(this.pe)}we(t,n,r){let a=t.add(n.multiply(ps.fromNumber(r)));return a.compare(uL)===1&&(a=new ps([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=Nb(t),[r,a]=Pb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.be(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new yv(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(t){if(this.pe===0)return;const n=Nb(t),[r,a]=Pb(n);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.Se(c)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,wc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new yd(St.min(),a,new ce(It),Cr(),Mt())}}class wc{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new wc(r,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,n,r,a){this.De=t,this.removedTargetIds=n,this.key=r,this.ve=a}}class HR{constructor(t,n){this.targetId=t,this.Ce=n}}class qR{constructor(t,n,r=Ze.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class Ob{constructor(){this.Fe=0,this.Me=Vb(),this.xe=Ze.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Mt(),n=Mt(),r=Mt();return this.Me.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Et(38017,{changeType:l})}}),new wc(this.xe,this.Oe,t,n,r)}Qe(){this.Ne=!1,this.Me=Vb()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class cL{constructor(t){this.ze=t,this.je=new Map,this.He=Cr(),this.Je=sf(),this.Ye=sf(),this.Ze=new ce(It)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const r=this.rt(n);switch(t.state){case 0:this.it(n)&&r.ke(t.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(t.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(t){const n=t.targetId,r=t.Ce.count,a=this._t(n);if(a){const l=a.target;if(Xg(l))if(r===0){const c=new yt(l.path);this.tt(n,c,an.newNoDocument(c,St.min()))}else qt(r===1,20013,{expectedCount:r});else{const c=this.ut(n);if(c!==r){const f=this.ct(t),m=f?this.lt(f,t,c):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=bs(r).toUint8Array()}catch(m){if(m instanceof gR)return Xo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new yv(c,a,l)}catch(m){return Xo(m instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(t,n,r){return n.Ce.count===r-this.Tt(t,n.targetId)?0:2}Tt(t,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.tt(n,l,null),a++)}),a}It(t){const n=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&Xg(f.target)){const m=new yt(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,an.newNoDocument(m,t))}l.Le&&(n.set(c,l.qe()),l.Qe())}});let r=Mt();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(t));const a=new yd(t,n,this.Ze,this.He,r);return this.He=Cr(),this.Je=sf(),this.Ye=sf(),this.Ze=new ce(It),a}et(t,n){if(!this.it(t))return;const r=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,r){if(!this.it(t))return;const a=this.rt(t);this.dt(t,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),r&&(this.He=this.He.insert(n,r))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new Ob,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Me(It),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Me(It),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Ob),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function sf(){return new ce(yt.comparator)}function Vb(){return new ce(yt.comparator)}const hL={asc:"ASCENDING",desc:"DESCENDING"},fL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dL={and:"AND",or:"OR"};class mL{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wg(e,t){return e.useProto3Json||cd(t)?t:{value:t}}function Kf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pL(e,t){return Kf(e,t.toTimestamp())}function Li(e){return qt(!!e,49232),St.fromTimestamp(function(n){const r=Es(n);return new Ve(r.seconds,r.nanos)}(e))}function vv(e,t){return Zg(e,t).canonicalString()}function Zg(e,t){const n=function(a){return new se(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function KR(e){const t=se.fromString(e);return qt(WR(t),10190,{key:t.toString()}),t}function Jg(e,t){return vv(e.databaseId,t.path)}function rg(e,t){const n=KR(t);if(n.get(1)!==e.databaseId.projectId)throw new pt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new pt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt($R(n))}function YR(e,t){return vv(e.databaseId,t)}function gL(e){const t=KR(e);return t.length===4?se.emptyPath():$R(t)}function ty(e){return new se(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $R(e){return qt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Mb(e,t,n){return{name:Jg(e,t),fields:n.value.mapValue.fields}}function yL(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(qt(y===void 0||typeof y=="string",58123),Ze.fromBase64String(y||"")):(qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ze.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(p){const y=p.code===void 0?st.UNKNOWN:zR(p.code);return new pt(y,p.message||"")}(c);n=new qR(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=rg(e,r.document.name),l=Li(r.document.updateTime),c=r.document.createTime?Li(r.document.createTime):St.min(),f=new bn({mapValue:{fields:r.document.fields}}),m=an.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new wf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=rg(e,r.document),l=r.readTime?Li(r.readTime):St.min(),c=an.newNoDocument(a,l),f=r.removedTargetIds||[];n=new wf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=rg(e,r.document),l=r.removedTargetIds||[];n=new wf([],l,a,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new oL(a,l),f=r.targetId;n=new HR(f,c)}}return n}function vL(e,t){let n;if(t instanceof bc)n={update:Mb(e,t.key,t.value)};else if(t instanceof pv)n={delete:Jg(e,t.key)};else if(t instanceof Ns)n={update:Mb(e,t.key,t.data),updateMask:xL(t.fieldMask)};else{if(!(t instanceof rL))return Et(16599,{ft:t.type});n={verify:Jg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof qf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ac)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof oc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Gf)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Et(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:pL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Et(27497)}(e,t.precondition)),n}function _L(e,t){return e&&e.length>0?(qt(t!==void 0,14353),e.map(n=>function(a,l){let c=a.updateTime?Li(a.updateTime):Li(l);return c.isEqual(St.min())&&(c=Li(l)),new eL(c,a.transformResults||[])}(n,t))):[]}function TL(e,t){return{documents:[YR(e,t.path)]}}function EL(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YR(e,a);const l=function(p){if(p.length!==0)return QR(ji.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(E){return{field:Mo(E.field),direction:AL(E.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Wg(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:n,parent:a}}function bL(e){let t=gL(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){qt(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(_){const E=XR(_);return E instanceof ji&&RR(E)?E.getFilters():[E]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(E=>function(C){return new Hf(ko(C.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(n.orderBy));let f=null;n.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,cd(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(_){const E=!!_.before,S=_.values||[];return new zf(S,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,S=_.values||[];return new zf(S,E)}(n.endAt)),B6(t,a,c,l,f,"F",m,p)}function wL(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function XR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ko(n.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=ko(n.unaryFilter.field);return Oe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ko(n.unaryFilter.field);return Oe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ko(n.unaryFilter.field);return Oe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(e):e.fieldFilter!==void 0?function(n){return Oe.create(ko(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ji.create(n.compositeFilter.filters.map(r=>XR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(e):Et(30097,{filter:e})}function AL(e){return hL[e]}function SL(e){return fL[e]}function RL(e){return dL[e]}function Mo(e){return{fieldPath:e.canonicalString()}}function ko(e){return We.fromServerFormat(e.fieldPath)}function QR(e){return e instanceof Oe?function(n){if(n.op==="=="){if(bb(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NAN"}};if(Eb(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bb(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NAN"}};if(Eb(n.value))return{unaryFilter:{field:Mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(n.field),op:SL(n.op),value:n.value}}}(e):e instanceof ji?function(n){const r=n.getFilters().map(a=>QR(a));return r.length===1?r[0]:{compositeFilter:{op:RL(n.op),filters:r}}}(e):Et(54877,{filter:e})}function xL(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function WR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t,n,r,a,l=St.min(),c=St.min(),f=Ze.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(t){this.wt=t}}function IL(e){const t=bL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Qg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.Cn=new NL}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(Ts.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(Ts.min())}updateCollectionGroup(t,n,r){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class NL{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new Me(se.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Me(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZR=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(ZR,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Jo(0)}static lr(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="LruGarbageCollector",PL=1048576;function Ub([e,t],[n,r]){const a=It(e,n);return a===0?It(t,r):a}class OL{constructor(t){this.Er=t,this.buffer=new Me(Ub),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ub(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VL{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ht(Lb,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){cl(n)?ht(Lb,"Ignoring IndexedDB error during garbage collection: ",n):await ul(n)}await this.mr(3e5)})}}class ML{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(ud.le);const r=new OL(n);return this.gr.forEachTarget(t,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(t,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.gr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(kb)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kb):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(t,r,n))).next(_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(_=>(p=Date.now(),Oo()<=Vt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function kL(e,t){return new ML(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.changes=new La(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?nt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&Hu(r.mutation,a,Mn.empty(),Ve.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Mt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Mt()){const a=Ea();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=Du();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=Ea();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Mt()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(t,n,r,a){let l=Cr();const c=zu(),f=function(){return zu()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ns)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Hu(y.mutation,p,y.mutation.getFieldMask(),Ve.now())):c.set(p.key,Mn.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return f.set(p,new UL(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(t,n){const r=zu();let a=new ce((c,f)=>c-f),l=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||Mn.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||Mt()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=VR();y.forEach(E=>{if(!l.has(E)){const S=jR(n.get(E),r.get(E));S!==null&&_.set(E,S),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return nt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):z6(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):nt.resolve(Ea());let f=nc,m=l;return c.next(p=>nt.forEach(p,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Mt())).next(y=>({batchId:f,changes:OR(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(r=>{let a=Du();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=Du();return this.indexManager.getCollectionParents(t,l).next(f=>nt.forEach(f,m=>{const p=function(_,E){return new fd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,an.newInvalidDocument(y)))});let f=Du();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&Hu(y.mutation,p,Mn.empty(),Ve.now()),md(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return nt.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Li(a.createTime)}}(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(a){return{name:a.name,query:IL(a.bundledQuery),readTime:Li(a.readTime)}}(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.overlays=new ce(yt.comparator),this.Qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ea();return nt.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.St(t,n,l)}),nt.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),nt.resolve()}getOverlaysForCollection(t,n,r){const a=Ea(),l=n.length+1,c=new yt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new ce((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Ea(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Ea(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return nt.resolve(f)}St(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new aL(n,r));let l=this.Qr.get(n);l===void 0&&(l=Mt(),this.Qr.set(n,l)),this.Qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.$r=new Me(ze.Ur),this.Kr=new Me(ze.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const r=new ze(t,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.zr(new ze(t,n))}jr(t,n){t.forEach(r=>this.removeReference(r,n))}Hr(t){const n=new yt(new se([])),r=new ze(n,t),a=new ze(n,t+1),l=[];return this.Kr.forEachInRange([r,a],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new yt(new se([])),r=new ze(n,t),a=new ze(n,t+1);let l=Mt();return this.Kr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new ze(t,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ze{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return yt.comparator(t.key,n.key)||It(t.Zr,n.Zr)}static Wr(t,n){return It(t.Zr,n.Zr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Me(ze.Ur)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sL(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new ze(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.ti(r),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?lv:this.nr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ze(n,0),a=new ze(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],c=>{const f=this.ei(c.Zr);l.push(f)}),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Me(It);return n.forEach(a=>{const l=new ze(a,0),c=new ze(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],f=>{r=r.add(f.Zr)})}),nt.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;yt.isDocumentKey(l)||(l=l.child(""));const c=new ze(new yt(l),0);let f=new Me(It);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Zr)),!0)},c),nt.resolve(this.ni(f))}ni(t){const n=[];return t.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){qt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return nt.forEach(n.mutations,a=>{const l=new ze(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Xr=r})}sr(t){}containsKey(t,n){const r=new ze(n,0),a=this.Xr.firstAfterOrEqual(r);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(t){this.ii=t,this.docs=function(){return new ce(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return nt.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(t,n){let r=Cr();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():an.newInvalidDocument(a))}),nt.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Cr();const c=n.path,f=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||_6(v6(y),r)<=0||(a.has(y.key)||md(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,r,a){Et(9500)}si(t,n){return nt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new GL(this)}getSize(t){return nt.resolve(this.size)}}class GL extends LL{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(t,a)):this.Br.removeEntry(r)}),nt.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(t){this.persistence=t,this.oi=new La(n=>hv(n),fv),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this._i=0,this.ai=new _v,this.targetCount=0,this.ui=Jo.cr()}forEachTarget(t,n){return this.oi.forEach((r,a)=>n(a)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),nt.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new Jo(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Tr(n),nt.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),nt.waitFor(l).next(()=>a)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const r=this.oi.get(n)||null;return nt.resolve(r)}addMatchingKeys(t,n,r){return this.ai.Gr(n,r),nt.resolve()}removeMatchingKeys(t,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ai.Yr(n);return nt.resolve(r)}containsKey(t,n){return nt.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,n){this.ci={},this.overlays={},this.li=new ud(0),this.hi=!1,this.hi=!0,this.Pi=new zL,this.referenceDelegate=t(this),this.Ti=new KL(this),this.indexManager=new DL,this.remoteDocumentCache=function(a){return new qL(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new CL(n),this.Ei=new jL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new BL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ci[t.toKey()];return r||(r=new HL(n,this.referenceDelegate),this.ci[t.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,r){ht("MemoryPersistence","Starting transaction:",t);const a=new YL(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(t,n){return nt.or(Object.values(this.ci).map(r=>()=>r.containsKey(t,n)))}}class YL extends E6{constructor(t){super(),this.currentSequenceNumber=t}}class Tv{constructor(t){this.persistence=t,this.Vi=new _v,this.mi=null}static fi(t){return new Tv(t)}get gi(){if(this.mi)return this.mi;throw Et(60996)}addReference(t,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),nt.resolve()}removeReference(t,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.gi,r=>{const a=yt.fromPath(r);return this.pi(t,a).next(l=>{l||n.removeEntry(a,St.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return nt.or([()=>nt.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class Yf{constructor(t,n){this.persistence=t,this.yi=new La(r=>A6(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=kL(this,n)}static fi(t,n){return new Yf(t,n)}di(){}Ai(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}br(t){let n=0;return this.yr(t,r=>{n++}).next(()=>n)}yr(t,n){return nt.forEach(this.yi,(r,a)=>this.Dr(t,r,a).next(l=>l?nt.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(t,c=>this.Dr(t,c,n).next(f=>{f||(r++,l.removeEntry(c,St.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,r){return this.yi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),nt.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Tf(t.data.value)),n}Dr(t,n,r){return nt.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.yi.get(n);return nt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.ds=r,this.As=a}static Rs(t,n){let r=Mt(),a=Mt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Ev(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return IV()?8:b6(ln())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.ws(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new $L;return this.Ss(t,n,c).next(f=>{if(l.result=f,this.fs)return this.Ds(t,n,c,f.size)})}).next(()=>l.result)}Ds(t,n,r,a){return r.documentReadCount<this.gs?(Oo()<=Vt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Vo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),nt.resolve()):(Oo()<=Vt.DEBUG&&ht("QueryEngine","Query:",Vo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(Oo()<=Vt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Vo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ki(n))):nt.resolve())}ws(t,n){if(Rb(n))return nt.resolve(null);let r=ki(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Qg(n,null,"F"),r=ki(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Mt(...l);return this.ys.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.vs(n,f);return this.Cs(n,p,c,m.readTime)?this.ws(t,Qg(n,null,"F")):this.Fs(t,p,n,m)}))})))}bs(t,n,r,a){return Rb(n)||a.isEqual(St.min())?nt.resolve(null):this.ys.getDocuments(t,r).next(l=>{const c=this.vs(n,l);return this.Cs(n,c,r,a)?nt.resolve(null):(Oo()<=Vt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vo(n)),this.Fs(t,c,n,y6(a,nc)).next(f=>f))})}vs(t,n){let r=new Me(NR(t));return n.forEach((a,l)=>{md(t,l)&&(r=r.add(l))}),r}Cs(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,r){return Oo()<=Vt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Vo(n)),this.ys.getDocumentsMatchingQuery(t,n,Ts.min(),r)}Fs(t,n,r,a){return this.ys.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="LocalStore",QL=3e8;class WL{constructor(t,n,r,a){this.persistence=t,this.Ms=n,this.serializer=a,this.xs=new ce(It),this.Os=new La(l=>hv(l),fv),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(r)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new FL(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function ZL(e,t,n,r){return new WL(e,t,n,r)}async function tx(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ls(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let m=Mt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:f}))})})}function JL(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const _=p.batch,E=_.keys();let S=nt.resolve();return E.forEach(C=>{S=S.next(()=>y.getEntry(m,C)).next(V=>{const O=p.docVersions.get(C);qt(O!==null,48541),V.version.compareTo(O)<0&&(_.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Mt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function ex(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function tU(e,t){const n=Rt(e),r=t.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const f=[];t.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.Ti.removeMatchingKeys(l,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(l,y.addedDocuments,_)));let S=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(Ze.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),a=a.insert(_,S),function(V,O,j){return V.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=QL?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,S,y)&&f.push(n.Ti.updateTargetData(l,S))});let m=Cr(),p=Mt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(eU(l,c,t.documentUpdates).next(y=>{m=y.qs,p=y.Qs})),!r.isEqual(St.min())){const y=n.Ti.getLastRemoteSnapshotVersion(l).next(_=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return nt.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.xs=a,l))}function eU(e,t,n){let r=Mt(),a=Mt();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=Cr();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(St.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):ht(bv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:a}})}function nU(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=lv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function iU(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,t).next(l=>l?(a=l,nt.resolve(a)):n.Ti.allocateTargetId(r).next(c=>(a=new fs(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(t,r.targetId)),r})}async function ey(e,t,n){const r=Rt(e),a=r.xs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!cl(c))throw c;ht(bv,`Failed to update sequence numbers for target ${t}: ${c}`)}r.xs=r.xs.remove(t),r.Os.delete(a.target)}function Fb(e,t,n){const r=Rt(e);let a=St.min(),l=Mt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Rt(m),E=_.Os.get(y);return E!==void 0?nt.resolve(_.xs.get(E)):_.Ti.getTargetData(p,y)}(r,c,ki(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>r.Ms.getDocumentsMatchingQuery(c,t,n?a:St.min(),n?l:Mt())).next(f=>(rU(r,q6(t),f),{documents:f,$s:l})))}function rU(e,t,n){let r=e.Ns.get(t)||St.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.Ns.set(t,r)}class jb{constructor(){this.activeTargetIds=Q6()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sU{constructor(){this.xo=new jb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,r){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new jb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="ConnectivityMonitor";class zb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ht(Bb,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ht(Bb,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af=null;function ny(){return af===null?af=function(){return 268435456+Math.round(2147483648*Math.random())}():af++,"0x"+af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="RestConnection",oU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lU{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===jf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(t,n,r,a,l){const c=ny(),f=this.jo(t,n.toUriEncodedString());ht(sg,`Sending RPC '${t}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,a,l);const{host:p}=new URL(f),y=xs(p);return this.Jo(t,f,m,r,y).then(_=>(ht(sg,`Received RPC '${t}' ${c}: `,_),_),_=>{throw Xo(sg,`RPC '${t}' ${c} failed with error: `,_,"url: ",f,"request:",r),_})}Yo(t,n,r,a,l,c){return this.zo(t,n,r,a,l)}Ho(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ll}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}jo(t,n){const r=oU[t];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class cU extends lU{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,a,l){const c=ny();return new Promise((f,m)=>{const p=new sR;p.setWithCredentials(!0),p.listenOnce(aR.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _f.NO_ERROR:const _=p.getResponseJson();ht(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),f(_);break;case _f.TIMEOUT:ht(nn,`RPC '${t}' ${c} timed out`),m(new pt(st.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const E=p.getStatus();if(ht(nn,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const C=S==null?void 0:S.error;if(C&&C.status&&C.message){const V=function(j){const z=j.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(z)>=0?z:st.UNKNOWN}(C.status);m(new pt(V,C.message))}else m(new pt(st.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new pt(st.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{h_:t,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{ht(nn,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(a);ht(nn,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)})}I_(t,n,r){const a=ny(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=uR(),f=lR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");ht(nn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.E_(_);let E=!1,S=!1;const C=new uU({Zo:O=>{S?ht(nn,`Not sending because RPC '${t}' stream ${a} is closed:`,O):(E||(ht(nn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),E=!0),ht(nn,`RPC '${t}' stream ${a} sending:`,O),_.send(O))},Xo:()=>_.close()}),V=(O,j,z)=>{O.listen(j,q=>{try{z(q)}catch(it){setTimeout(()=>{throw it},0)}})};return V(_,Iu.EventType.OPEN,()=>{S||(ht(nn,`RPC '${t}' stream ${a} transport opened.`),C.__())}),V(_,Iu.EventType.CLOSE,()=>{S||(S=!0,ht(nn,`RPC '${t}' stream ${a} transport closed`),C.u_(),this.d_(_))}),V(_,Iu.EventType.ERROR,O=>{S||(S=!0,Xo(nn,`RPC '${t}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),C.u_(new pt(st.UNAVAILABLE,"The operation could not be completed")))}),V(_,Iu.EventType.MESSAGE,O=>{var j;if(!S){const z=O.data[0];qt(!!z,16349);const q=z,it=(q==null?void 0:q.error)||((j=q[0])===null||j===void 0?void 0:j.error);if(it){ht(nn,`RPC '${t}' stream ${a} received error:`,it);const W=it.status;let ct=function(I){const k=xe[I];if(k!==void 0)return zR(k)}(W),M=it.message;ct===void 0&&(ct=st.INTERNAL,M="Unknown error status: "+W+" with message "+it.message),S=!0,C.u_(new pt(ct,M)),_.close()}else ht(nn,`RPC '${t}' stream ${a} received:`,z),C.c_(z)}}),V(f,oR.STAT_EVENT,O=>{O.stat===qg.PROXY?ht(nn,`RPC '${t}' stream ${a} detected buffering proxy`):O.stat===qg.NOPROXY&&ht(nn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(e){return new mL(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t,n,r=1e3,a=1.5,l=6e4){this.xi=t,this.timerId=n,this.A_=r,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),a=Math.max(0,n-r);a>0&&ht("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="PersistentStream";class ix{constructor(t,n,r,a,l,c,f,m){this.xi=t,this.S_=r,this.D_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new nx(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(xr(n.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.v_===n&&this.z_(r,a)},r=>{t(()=>{const a=new pt(st.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(a)})})}z_(t,n){const r=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.j_(a))}),this.stream.onMessage(a=>{r(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ht(Hb,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(ht(Hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hU extends ix{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=yL(this.serializer,t),r=function(l){if(!("targetChange"in l))return St.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Li(c.readTime):St.min()}(t);return this.listener.Y_(n,r)}Z_(t){const n={};n.database=ty(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=Xg(m)?{documents:TL(l,m)}:{query:EL(l,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=GR(l,c.resumeToken);const p=Wg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(St.min())>0){f.readTime=Kf(l,c.snapshotVersion.toTimestamp());const p=Wg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,t);const r=wL(this.serializer,t);r&&(n.labels=r),this.Q_(n)}X_(t){const n={};n.database=ty(this.serializer),n.removeTarget=t,this.Q_(n)}}class fU extends ix{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=_L(t.writeResults,t.commitTime),r=Li(t.commitTime);return this.listener.ra(r,n)}ia(){const t={};t.database=ty(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>vL(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{}class mU extends dU{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new pt(st.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(t,Zg(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pt(st.UNKNOWN,l.toString())})}Yo(t,n,r,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(t,Zg(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(st.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class pU{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(xr(n),this.ua=!1):ht("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="RemoteStore";class gU{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{r.enqueueAndForget(async()=>{Ua(this)&&(ht(Na,"Restarting streams for network reachability change."),await async function(m){const p=Rt(m);p.da.add(4),await Ac(p),p.Va.set("Unknown"),p.da.delete(4),await _d(p)}(this))})}),this.Va=new pU(r,a)}}async function _d(e){if(Ua(e))for(const t of e.Aa)await t(!0)}async function Ac(e){for(const t of e.Aa)await t(!1)}function rx(e,t){const n=Rt(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Rv(n)?Sv(n):hl(n).N_()&&Av(n,t))}function wv(e,t){const n=Rt(e),r=hl(n);n.Ea.delete(t),r.N_()&&sx(n,t),n.Ea.size===0&&(r.N_()?r.k_():Ua(n)&&n.Va.set("Unknown"))}function Av(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}hl(e).Z_(t)}function sx(e,t){e.ma.Ke(t),hl(e).X_(t)}function Sv(e){e.ma=new cL({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),hl(e).start(),e.Va.ca()}function Rv(e){return Ua(e)&&!hl(e).O_()&&e.Ea.size>0}function Ua(e){return Rt(e).da.size===0}function ax(e){e.ma=void 0}async function yU(e){e.Va.set("Online")}async function vU(e){e.Ea.forEach((t,n)=>{Av(e,t)})}async function _U(e,t){ax(e),Rv(e)?(e.Va.Pa(t),Sv(e)):e.Va.set("Unknown")}async function TU(e,t,n){if(e.Va.set("Online"),t instanceof qR&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ea.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ea.delete(f),a.ma.removeTarget(f))}(e,t)}catch(r){ht(Na,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await $f(e,r)}else if(t instanceof wf?e.ma.Xe(t):t instanceof HR?e.ma.ot(t):e.ma.nt(t),!n.isEqual(St.min()))try{const r=await ex(e.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.ma.It(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ea.get(p);y&&l.Ea.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.Ea.get(m);if(!y)return;l.Ea.set(m,y.withResumeToken(Ze.EMPTY_BYTE_STRING,y.snapshotVersion)),sx(l,m);const _=new fs(y.target,m,p,y.sequenceNumber);Av(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)}catch(r){ht(Na,"Failed to raise snapshot:",r),await $f(e,r)}}async function $f(e,t,n){if(!cl(t))throw t;e.da.add(1),await Ac(e),e.Va.set("Offline"),n||(n=()=>ex(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ht(Na,"Retrying IndexedDB access"),await n(),e.da.delete(1),await _d(e)})}function ox(e,t){return t().catch(n=>$f(e,n,t))}async function Td(e){const t=Rt(e),n=As(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:lv;for(;EU(t);)try{const a=await nU(t.localStore,r);if(a===null){t.Ia.length===0&&n.k_();break}r=a.batchId,bU(t,a)}catch(a){await $f(t,a)}lx(t)&&ux(t)}function EU(e){return Ua(e)&&e.Ia.length<10}function bU(e,t){e.Ia.push(t);const n=As(e);n.N_()&&n.ea&&n.ta(t.mutations)}function lx(e){return Ua(e)&&!As(e).O_()&&e.Ia.length>0}function ux(e){As(e).start()}async function wU(e){As(e).ia()}async function AU(e){const t=As(e);for(const n of e.Ia)t.ta(n.mutations)}async function SU(e,t,n){const r=e.Ia.shift(),a=gv.from(r,t,n);await ox(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Td(e)}async function RU(e,t){t&&As(e).ea&&await async function(r,a){if(function(c){return lL(c)&&c!==st.ABORTED}(a.code)){const l=r.Ia.shift();As(r).L_(),await ox(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Td(r)}}(e,t),lx(e)&&ux(e)}async function qb(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),ht(Na,"RemoteStore received new credentials");const r=Ua(n);n.da.add(3),await Ac(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await _d(n)}async function xU(e,t){const n=Rt(e);t?(n.da.delete(2),await _d(n)):t||(n.da.add(2),await Ac(n),n.Va.set("Unknown"))}function hl(e){return e.fa||(e.fa=function(n,r,a){const l=Rt(n);return l.oa(),new hU(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{e_:yU.bind(null,e),n_:vU.bind(null,e),i_:_U.bind(null,e),Y_:TU.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Rv(e)?Sv(e):e.Va.set("Unknown")):(await e.fa.stop(),ax(e))})),e.fa}function As(e){return e.ga||(e.ga=function(n,r,a){const l=Rt(n);return l.oa(),new fU(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:wU.bind(null,e),i_:RU.bind(null,e),na:AU.bind(null,e),ra:SU.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Td(e)):(await e.ga.stop(),e.Ia.length>0&&(ht(Na,`Stopping write stream with ${e.Ia.length} pending writes`),e.Ia=[]))})),e.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,f=new xv(t,n,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(e,t){if(xr("AsyncQueue",`${t}: ${e}`),cl(e))return new pt(st.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(t){return new Ko(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=Du(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ko)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ko;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.pa=new ce(yt.comparator)}track(t){const n=t.doc.key,r=this.pa.get(n);r?t.type!==0&&r.type===3?this.pa=this.pa.insert(n,t):t.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.pa=this.pa.remove(n):t.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,ya:r}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,r)=>{t.push(r)}),t}}class tl{constructor(t,n,r,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new tl(t,n,Ko.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class IU{constructor(){this.queries=Kb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Rt(n),l=a.queries;a.queries=Kb(),l.forEach((c,f)=>{for(const m of f.Sa)m.onError(r)})})(this,new pt(st.ABORTED,"Firestore shutting down"))}}function Kb(){return new La(e=>DR(e),dd)}async function cx(e,t){const n=Rt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.Da()&&t.va()&&(r=2):(l=new CU,r=t.va()?0:1);try{switch(r){case 0:l.ba=await n.onListen(a,!0);break;case 1:l.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Cv(c,`Initialization of query '${Vo(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.Sa.push(t),t.Fa(n.onlineState),l.ba&&t.Ma(l.ba)&&Iv(n)}async function hx(e,t){const n=Rt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.Sa.indexOf(t);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=t.va()?0:1:!l.Da()&&t.va()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function DU(e,t){const n=Rt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.Sa)f.Ma(a)&&(r=!0);c.ba=a}}r&&Iv(n)}function NU(e,t,n){const r=Rt(e),a=r.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(t)}function Iv(e){e.Ca.forEach(t=>{t.next()})}var iy,Yb;(Yb=iy||(iy={})).xa="default",Yb.Cache="cache";class fx{constructor(t,n,r){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new tl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=tl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t){this.key=t}}class mx{constructor(t){this.key=t}}class PU{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Mt(),this.mutatedKeys=Mt(),this.Za=NR(t),this.Xa=new Ko(this.Za)}get eu(){return this.Ha}tu(t,n){const r=n?n.nu:new Gb,a=n?n.Xa:this.Xa;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,_)=>{const E=a.get(y),S=md(this.query,_)?_:null,C=!!E&&this.mutatedKeys.has(E.key),V=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let O=!1;E&&S?E.data.isEqual(S.data)?C!==V&&(r.track({type:3,doc:S}),O=!0):this.ru(E,S)||(r.track({type:2,doc:S}),O=!0,(m&&this.Za(S,m)>0||p&&this.Za(S,p)<0)&&(f=!0)):!E&&S?(r.track({type:0,doc:S}),O=!0):E&&!S&&(r.track({type:1,doc:E}),O=!0,(m||p)&&(f=!0)),O&&(S?(c=c.add(S),l=V?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Xa:c,nu:r,Cs:f,mutatedKeys:l}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const c=t.nu.wa();c.sort((y,_)=>function(S,C){const V=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:O})}};return V(S)-V(C)}(y.type,_.type)||this.Za(y.doc,_.doc)),this.iu(r),a=a!=null&&a;const f=n&&!a?this.su():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Ja;return this.Ja=m,c.length!==0||p?{snapshot:new tl(this.query,t.Xa,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:f}:{ou:f}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Gb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Mt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return t.forEach(r=>{this.Ya.has(r)||n.push(new mx(r))}),this.Ya.forEach(r=>{t.has(r)||n.push(new dx(r))}),n}au(t){this.Ha=t.$s,this.Ya=Mt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return tl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Dv="SyncEngine";class OU{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class VU{constructor(t){this.key=t,this.cu=!1}}class MU{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new La(f=>DR(f),dd),this.Pu=new Map,this.Tu=new Set,this.Iu=new ce(yt.comparator),this.Eu=new Map,this.du=new _v,this.Au={},this.Ru=new Map,this.Vu=Jo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function kU(e,t,n=!0){const r=Tx(e);let a;const l=r.hu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await px(r,t,n,!0),a}async function LU(e,t){const n=Tx(e);await px(n,t,!0,!1)}async function px(e,t,n,r){const a=await iU(e.localStore,ki(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await UU(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&rx(e.remoteStore,a),f}async function UU(e,t,n,r,a){e.fu=(_,E,S)=>async function(V,O,j,z){let q=O.view.tu(j);q.Cs&&(q=await Fb(V.localStore,O.query,!1).then(({documents:M})=>O.view.tu(M,q)));const it=z&&z.targetChanges.get(O.targetId),W=z&&z.targetMismatches.get(O.targetId)!=null,ct=O.view.applyChanges(q,V.isPrimaryClient,it,W);return Xb(V,O.targetId,ct.ou),ct.snapshot}(e,_,E,S);const l=await Fb(e.localStore,t,!0),c=new PU(t,l.$s),f=c.tu(l.documents),m=wc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);Xb(e,n,p.ou);const y=new OU(t,n,c);return e.hu.set(t,y),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),p.snapshot}async function FU(e,t,n){const r=Rt(e),a=r.hu.get(t),l=r.Pu.get(a.targetId);if(l.length>1)return r.Pu.set(a.targetId,l.filter(c=>!dd(c,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ey(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&wv(r.remoteStore,a.targetId),ry(r,a.targetId)}).catch(ul)):(ry(r,a.targetId),await ey(r.localStore,a.targetId,!0))}async function jU(e,t){const n=Rt(e),r=n.hu.get(t),a=n.Pu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wv(n.remoteStore,r.targetId))}async function BU(e,t,n){const r=$U(e);try{const a=await function(c,f){const m=Rt(c),p=Ve.now(),y=f.reduce((S,C)=>S.add(C.key),Mt());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",S=>{let C=Cr(),V=Mt();return m.Bs.getEntries(S,y).next(O=>{C=O,C.forEach((j,z)=>{z.isValidDocument()||(V=V.add(j))})}).next(()=>m.localDocuments.getOverlayedDocuments(S,C)).next(O=>{_=O;const j=[];for(const z of f){const q=iL(z,_.get(z.key).overlayedDocument);q!=null&&j.push(new Ns(z.key,q,wR(q.value.mapValue),Jn.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,j,f)}).next(O=>{E=O;const j=O.applyToLocalDocumentSet(_,V);return m.documentOverlayCache.saveOverlays(S,O.batchId,j)})}).then(()=>({batchId:E.batchId,changes:OR(_)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Au[c.currentUser.toKey()];p||(p=new ce(It)),p=p.insert(f,m),c.Au[c.currentUser.toKey()]=p}(r,a.batchId,n),await Sc(r,a.changes),await Td(r.remoteStore)}catch(a){const l=Cv(a,"Failed to persist write");n.reject(l)}}async function gx(e,t){const n=Rt(e);try{const r=await tU(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Eu.get(l);c&&(qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.cu=!0:a.modifiedDocuments.size>0?qt(c.cu,14607):a.removedDocuments.size>0&&(qt(c.cu,42227),c.cu=!1))}),await Sc(n,r,t)}catch(r){await ul(r)}}function $b(e,t,n){const r=Rt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.hu.forEach((l,c)=>{const f=c.view.Fa(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=Rt(c);m.onlineState=f;let p=!1;m.queries.forEach((y,_)=>{for(const E of _.Sa)E.Fa(f)&&(p=!0)}),p&&Iv(m)}(r.eventManager,t),a.length&&r.lu.Y_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zU(e,t,n){const r=Rt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Eu.get(t),l=a&&a.key;if(l){let c=new ce(yt.comparator);c=c.insert(l,an.newNoDocument(l,St.min()));const f=Mt().add(l),m=new yd(St.min(),new Map,new ce(It),c,f);await gx(r,m),r.Iu=r.Iu.remove(l),r.Eu.delete(t),Nv(r)}else await ey(r.localStore,t,!1).then(()=>ry(r,t,n)).catch(ul)}async function HU(e,t){const n=Rt(e),r=t.batch.batchId;try{const a=await JL(n.localStore,t);vx(n,r,null),yx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sc(n,a)}catch(a){await ul(a)}}async function qU(e,t,n){const r=Rt(e);try{const a=await function(c,f){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(_=>(qt(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);vx(r,t,n),yx(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Sc(r,a)}catch(a){await ul(a)}}function yx(e,t){(e.Ru.get(t)||[]).forEach(n=>{n.resolve()}),e.Ru.delete(t)}function vx(e,t,n){const r=Rt(e);let a=r.Au[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Au[r.currentUser.toKey()]=a}}function ry(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(r=>{e.du.containsKey(r)||_x(e,r)})}function _x(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);n!==null&&(wv(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Nv(e))}function Xb(e,t,n){for(const r of n)r instanceof dx?(e.du.addReference(r.key,t),GU(e,r)):r instanceof mx?(ht(Dv,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||_x(e,r.key)):Et(19791,{pu:r})}function GU(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(ht(Dv,"New document in limbo: "+n),e.Tu.add(r),Nv(e))}function Nv(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new yt(se.fromString(t)),r=e.Vu.next();e.Eu.set(r,new VU(n)),e.Iu=e.Iu.insert(n,r),rx(e.remoteStore,new fs(ki(dv(n.path)),r,"TargetPurposeLimboResolution",ud.le))}}async function Sc(e,t,n){const r=Rt(e),a=[],l=[],c=[];r.hu.isEmpty()||(r.hu.forEach((f,m)=>{c.push(r.fu(m,t,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Ev.Rs(m.targetId,p);l.push(_)}}))}),await Promise.all(c),r.lu.Y_(a),await async function(m,p){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>nt.forEach(p,E=>nt.forEach(E.ds,S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S)).next(()=>nt.forEach(E.As,S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))}catch(_){if(!cl(_))throw _;ht(bv,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const S=y.xs.get(E),C=S.snapshotVersion,V=S.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(E,V)}}}(r.localStore,l))}async function KU(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){ht(Dv,"User change. New user:",t.toKey());const r=await tx(n.localStore,t);n.currentUser=t,function(l,c){l.Ru.forEach(f=>{f.forEach(m=>{m.reject(new pt(st.CANCELLED,c))})}),l.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Sc(n,r.ks)}}function YU(e,t){const n=Rt(e),r=n.Eu.get(t);if(r&&r.cu)return Mt().add(r.key);{let a=Mt();const l=n.Pu.get(t);if(!l)return a;for(const c of l){const f=n.hu.get(c);a=a.unionWith(f.view.eu)}return a}}function Tx(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zU.bind(null,t),t.lu.Y_=DU.bind(null,t.eventManager),t.lu.gu=NU.bind(null,t.eventManager),t}function $U(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qU.bind(null,t),t}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return ZL(this.persistence,new XL,t.initialUser,this.serializer)}Su(t){return new JR(Tv.fi,this.serializer)}bu(t){return new sU}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class XU extends Xf{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){qt(this.persistence.referenceDelegate instanceof Yf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VL(r,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new JR(r=>Yf.fi(r,n),this.serializer)}}class sy{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$b(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KU.bind(null,this.syncEngine),await xU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new IU}()}createDatastore(t){const n=vd(t.databaseInfo.databaseId),r=function(l){return new cU(l)}(t.databaseInfo);return function(l,c,f,m){return new mU(l,c,f,m)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,f){return new gU(r,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,n=>$b(this.syncEngine,n,0),function(){return zb.C()?new zb:new aU}())}createSyncEngine(t,n){return function(a,l,c,f,m,p,y){const _=new MU(a,l,c,f,m,p);return y&&(_.mu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=Rt(a);ht(Na,"RemoteStore shutting down."),l.da.add(5),await Ac(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sy.provider={build:()=>new sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):xr("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class QU{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=dR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ht(Ss,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ht(Ss,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Cv(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function og(e,t){e.asyncQueue.verifyOperationInProgress(),ht(Ss,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await tx(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Qb(e,t){e.asyncQueue.verifyOperationInProgress();const n=await WU(e);ht(Ss,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>qb(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>qb(t.remoteStore,a)),e._onlineComponents=t}async function WU(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ht(Ss,"Using user provided OfflineComponentProvider");try{await og(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),await og(e,new Xf)}}else ht(Ss,"Using default OfflineComponentProvider"),await og(e,new XU(void 0));return e._offlineComponents}async function bx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ht(Ss,"Using user provided OnlineComponentProvider"),await Qb(e,e._uninitializedComponentsProvider._online)):(ht(Ss,"Using default OnlineComponentProvider"),await Qb(e,new sy))),e._onlineComponents}function ZU(e){return bx(e).then(t=>t.syncEngine)}async function wx(e){const t=await bx(e),n=t.eventManager;return n.onListen=kU.bind(null,t.syncEngine),n.onUnlisten=FU.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=LU.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jU.bind(null,t.syncEngine),n}function JU(e,t,n={}){const r=new Er;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new Ex({next:E=>{y.xu(),c.enqueueAndForget(()=>hx(l,_));const S=E.docs.has(f);!S&&E.fromCache?p.reject(new pt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&m&&m.source==="server"?p.reject(new pt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new fx(dv(f.path),y,{includeMetadataChanges:!0,Qa:!0});return cx(l,_)}(await wx(e),e.asyncQueue,t,n,r)),r.promise}function t9(e,t,n={}){const r=new Er;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new Ex({next:E=>{y.xu(),c.enqueueAndForget(()=>hx(l,_)),E.fromCache&&m.source==="server"?p.reject(new pt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new fx(f,y,{includeMetadataChanges:!0,Qa:!0});return cx(l,_)}(await wx(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(e,t,n){if(!n)throw new pt(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function e9(e,t,n,r){if(t===!0&&r===!0)throw new pt(st.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Zb(e){if(!yt.isDocumentKey(e))throw new pt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Jb(e){if(yt.isDocumentKey(e))throw new pt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Pv(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Et(12329,{type:typeof e})}function ci(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new pt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pv(e);throw new pt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="firestore.googleapis.com",tw=!0;class ew{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rx,this.ssl=tw}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:tw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PL)throw new pt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}e9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ax((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ed{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ew({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ew(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new l6;switch(r.type){case"firstParty":return new f6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Wb.get(n);r&&(ht("ComponentProvider","Removing Datastore"),Wb.delete(n),r.terminate())}(this),Promise.resolve()}}function n9(e,t,n,r={}){var a;e=ci(e,Ed);const l=xs(t),c=e._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:e._getEmulatorOptions()}),m=`${t}:${n}`;l&&(Yy(`https://${m}`),$y("Firestore",!0)),c.host!==Rx&&c.host!==m&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:r});if(!Ra(p,f)&&(e._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=sn.MOCK_USER;else{y=gS(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(E)}e._authCredentials=new u6(new hR(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new bd(this.firestore,t,this._query)}}class An{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new An(this.firestore,t,this._key)}}class gs extends bd{constructor(t,n,r){super(t,n,dv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new An(this.firestore,null,new yt(t))}withConverter(t){return new gs(this.firestore,t,this._path)}}function ay(e,t,...n){if(e=pe(e),Sx("collection","path",t),e instanceof Ed){const r=se.fromString(t,...n);return Jb(r),new gs(e,null,r)}{if(!(e instanceof An||e instanceof gs))throw new pt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(se.fromString(t,...n));return Jb(r),new gs(e.firestore,null,r)}}function Ir(e,t,...n){if(e=pe(e),arguments.length===1&&(t=dR.newId()),Sx("doc","path",t),e instanceof Ed){const r=se.fromString(t,...n);return Zb(r),new An(e,null,new yt(r))}{if(!(e instanceof An||e instanceof gs))throw new pt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(se.fromString(t,...n));return Zb(r),new An(e.firestore,e instanceof gs?e.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="AsyncQueue";class iw{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new nx(this,"async_queue_retry"),this.rc=()=>{const r=ag();r&&ht(nw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=t;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Er;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!cl(t))throw t;ht(nw,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(r=>{throw this.Xu=r,this.ec=!1,xr("INTERNAL UNHANDLED ERROR: ",rw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(t,n,r){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const a=xv.createAndSchedule(this,t,n,r,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Et(47125,{cc:rw(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function rw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Fa extends Ed{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new iw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new iw(t),this._firestoreClient=void 0,await t}}}function i9(e,t){const n=typeof e=="object"?e:Wy(),r=typeof e=="string"?e:jf,a=sd(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=dS("firestore");l&&n9(a,...l)}return a}function Ov(e){if(e._terminated)throw new pt(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||r9(e),e._firestoreClient}function r9(e){var t,n,r;const a=e._freezeSettings(),l=function(f,m,p,y){return new x6(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Ax(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new QU(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(t){this._byteString=t}static fromBase64String(t){try{return new el(Ze.fromBase64String(t))}catch(n){throw new pt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new el(Ze.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new pt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new pt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new pt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=/^__.*__$/;class a9{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ns(t,this.data,this.fieldMask,n,this.fieldTransforms):new bc(t,this.data,n,this.fieldTransforms)}}class xx{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ns(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Cx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ic:e})}}class Lv{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Lv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.dc({path:r,Rc:!1});return a.Vc(t),a}mc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.dc({path:r,Rc:!1});return a.Ec(),a}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Qf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(Cx(this.Ic)&&s9.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class o9{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||vd(t)}bc(t,n,r,a=!1){return new Lv({Ic:t,methodName:n,wc:r,path:We.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uv(e){const t=e._freezeSettings(),n=vd(e._databaseId);return new o9(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ix(e,t,n,r,a,l={}){const c=e.bc(l.merge||l.mergeFields?2:0,t,n,a);Fv("Data must be an object, but it was:",c,r);const f=Dx(r,c);let m,p;if(l.merge)m=new Mn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=oy(t,_,n);if(!c.contains(E))throw new pt(st.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Px(y,E)||y.push(E)}m=new Mn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new a9(new bn(f),m,p)}class Ad extends Vv{_toFieldTransform(t){if(t.Ic!==2)throw t.Ic===1?t.gc(`${this._methodName}() can only appear at the top level of your update data`):t.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ad}}function l9(e,t,n,r){const a=e.bc(1,t,n);Fv("Data must be an object, but it was:",a,r);const l=[],c=bn.empty();Ds(r,(m,p)=>{const y=jv(t,m,n);p=pe(p);const _=a.mc(y);if(p instanceof Ad)l.push(y);else{const E=Sd(p,_);E!=null&&(l.push(y),c.set(y,E))}});const f=new Mn(l);return new xx(c,f,a.fieldTransforms)}function u9(e,t,n,r,a,l){const c=e.bc(1,t,n),f=[oy(t,r,n)],m=[a];if(l.length%2!=0)throw new pt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(oy(t,l[E])),m.push(l[E+1]);const p=[],y=bn.empty();for(let E=f.length-1;E>=0;--E)if(!Px(p,f[E])){const S=f[E];let C=m[E];C=pe(C);const V=c.mc(S);if(C instanceof Ad)p.push(S);else{const O=Sd(C,V);O!=null&&(p.push(S),y.set(S,O))}}const _=new Mn(p);return new xx(y,_,c.fieldTransforms)}function Sd(e,t){if(Nx(e=pe(e)))return Fv("Unsupported field value:",t,e),Dx(e,t);if(e instanceof Vv)return function(r,a){if(!Cx(a.Ic))throw a.gc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let m=Sd(f,a.fc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W6(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ve.fromDate(r);return{timestampValue:Kf(a.serializer,l)}}if(r instanceof Ve){const l=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kf(a.serializer,l)}}if(r instanceof Mv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof el)return{bytesValue:GR(a.serializer,r._byteString)};if(r instanceof An){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof kv)return function(c,f){return{mapValue:{fields:{[ER]:{stringValue:bR},[Bf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.gc("VectorValues must only contain numeric values.");return mv(f.serializer,p)})}}}}}}(r,a);throw a.gc(`Unsupported field value: ${Pv(r)}`)}(e,t)}function Dx(e,t){const n={};return pR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(e,(r,a)=>{const l=Sd(a,t.Ac(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function Nx(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ve||e instanceof Mv||e instanceof el||e instanceof An||e instanceof Vv||e instanceof kv)}function Fv(e,t,n){if(!Nx(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Pv(n);throw r==="an object"?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function oy(e,t,n){if((t=pe(t))instanceof wd)return t._internalPath;if(typeof t=="string")return jv(e,t);throw Qf("Field path arguments must be of type string or ",e,!1,void 0,n)}const c9=new RegExp("[~\\*/\\[\\]]");function jv(e,t,n){if(t.search(c9)>=0)throw Qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new wd(...t.split("."))._internalPath}catch{throw Qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Qf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new pt(st.INVALID_ARGUMENT,f+e+m)}function Px(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new h9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Vx("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h9 extends Ox{data(){return super.data()}}function Vx(e,t){return typeof t=="string"?jv(e,t):t instanceof wd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new pt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d9{convertValue(t,n="none"){switch(ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ds(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[Bf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>be(c.doubleValue));return new kv(l)}convertGeoPoint(t){return new Mv(be(t.latitude),be(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=hd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ic(t));default:return null}}convertTimestamp(t){const n=Es(t);return new Ve(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=se.fromString(t);qt(WR(r),9688,{name:t});const a=new rc(r.get(1),r.get(3)),l=new yt(r.popFirst(5));return a.isEqual(n)||xr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class kx extends Ox{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Vx("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Af extends kx{data(t={}){return super.data(t)}}class m9{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Pu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Af(this._firestore,this._userDataWriter,r.key,r,new Pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Af(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Af(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Pu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:p9(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function p9(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(e){e=ci(e,An);const t=ci(e.firestore,Fa);return JU(Ov(t),e._key).then(n=>_9(t,e,n))}class Lx extends d9{constructor(t){super(),this.firestore=t}convertBytes(t){return new el(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new An(this.firestore,null,n)}}function Ux(e){e=ci(e,bd);const t=ci(e.firestore,Fa),n=Ov(t),r=new Lx(t);return f9(e._query),t9(n,e._query).then(a=>new m9(t,r,e,a))}function Fx(e,t,n){e=ci(e,An);const r=ci(e.firestore,Fa),a=Mx(e.converter,t,n);return xd(r,[Ix(Uv(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Jn.none())])}function g9(e,t,n,...r){e=ci(e,An);const a=ci(e.firestore,Fa),l=Uv(a);let c;return c=typeof(t=pe(t))=="string"||t instanceof wd?u9(l,"updateDoc",e._key,t,n,r):l9(l,"updateDoc",e._key,t),xd(a,[c.toMutation(e._key,Jn.exists(!0))])}function y9(e){return xd(ci(e.firestore,Fa),[new pv(e._key,Jn.none())])}function v9(e,t){const n=ci(e.firestore,Fa),r=Ir(e),a=Mx(e.converter,t);return xd(n,[Ix(Uv(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function xd(e,t){return function(r,a){const l=new Er;return r.asyncQueue.enqueueAndForget(async()=>BU(await ZU(r),a,l)),l.promise}(Ov(e),t)}function _9(e,t,n){const r=n.docs.get(t._key),a=new Lx(e);return new kx(e,a,t._key,r,new Pu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){ll=a})(Ma),xa(new _s("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Fa(new c6(r.getProvider("auth-internal")),new d6(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Oi(ub,cb,t),Oi(ub,cb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="firebasestorage.googleapis.com",Bx="storageBucket",T9=2*60*1e3,E9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye extends Hi{constructor(t,n,r=0){super(lg(t),`Firebase Storage: ${n} (${lg(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ye.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return lg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ge;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ge||(ge={}));function lg(e){return"storage/"+e}function Bv(){const e="An unknown error occurred, please check the error payload for server response.";return new ye(ge.UNKNOWN,e)}function b9(e){return new ye(ge.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function w9(e){return new ye(ge.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function A9(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ye(ge.UNAUTHENTICATED,e)}function S9(){return new ye(ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function R9(e){return new ye(ge.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function x9(){return new ye(ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function C9(){return new ye(ge.CANCELED,"User canceled the upload/download.")}function I9(e){return new ye(ge.INVALID_URL,"Invalid URL '"+e+"'.")}function D9(e){return new ye(ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function N9(){return new ye(ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Bx+"' property when initializing the app?")}function P9(){return new ye(ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function O9(){return new ye(ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function V9(e){return new ye(ge.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ly(e){return new ye(ge.INVALID_ARGUMENT,e)}function zx(){return new ye(ge.APP_DELETED,"The Firebase app was deleted.")}function M9(e){return new ye(ge.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qu(e,t){return new ye(ge.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Su(e){throw new ye(ge.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=kn.makeFromUrl(t,n)}catch{return new kn(t,"")}if(r.path==="")return r;throw D9(t)}static makeFromUrl(t,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(it){it.path.charAt(it.path.length-1)==="/"&&(it.path_=it.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(it){it.path_=decodeURIComponent(it.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),C={bucket:1,path:3},V=n===jx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,O="([^?#]*)",j=new RegExp(`^https?://${V}/${a}/${O}`,"i"),q=[{regex:f,indices:m,postModify:l},{regex:S,indices:C,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let it=0;it<q.length;it++){const W=q[it],ct=W.regex.exec(t);if(ct){const M=ct[W.indices.bucket];let x=ct[W.indices.path];x||(x=""),r=new kn(M,x),W.postModify(r);break}}if(r==null)throw I9(t);return r}}class k9{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(e,t,n){let r=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...O){p||(p=!0,t.apply(null,O))}function _(O){a=setTimeout(()=>{a=null,e(S,m())},O)}function E(){l&&clearTimeout(l)}function S(O,...j){if(p){E();return}if(O){E(),y.call(null,O,...j);return}if(m()||c){E(),y.call(null,O,...j);return}r<64&&(r*=2);let q;f===1?(f=2,q=0):q=(r+Math.random())*1e3,_(q)}let C=!1;function V(O){C||(C=!0,E(),!p&&(a!==null?(O||(f=2),clearTimeout(a),_(0)):O||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,V(!0)},n),V}function U9(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(e){return e!==void 0}function j9(e){return typeof e=="object"&&!Array.isArray(e)}function zv(e){return typeof e=="string"||e instanceof String}function sw(e){return Hv()&&e instanceof Blob}function Hv(){return typeof Blob<"u"}function aw(e,t,n,r){if(r<t)throw ly(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw ly(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Hx(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const a=t(r)+"="+t(e[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Sa;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Sa||(Sa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(t,n,r,a,l,c,f,m,p,y,_,E=!0,S=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,V)=>{this.resolve_=C,this.reject_=V,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new of(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===Sa.NO_ERROR,m=l.getStatus();if(!f||B9(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Sa.ABORT;r(!1,new of(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new of(p,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());F9(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=Bv();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?zx():C9();c(m)}else{const m=x9();c(m)}};this.canceled_?n(!1,new of(!1,null,!0)):this.backoffId_=L9(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&U9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class of{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function H9(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function q9(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function G9(e,t){t&&(e["X-Firebase-GMPID"]=t)}function K9(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Y9(e,t,n,r,a,l,c=!0,f=!1){const m=Hx(e.urlParams),p=e.url+m,y=Object.assign({},e.headers);return G9(y,t),H9(y,n),q9(y,l),K9(y,r),new z9(p,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function X9(...e){const t=$9();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Hv())return new Blob(e);throw new ye(ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Q9(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(e){if(typeof atob>"u")throw V9("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ug{constructor(t,n){this.data=t,this.contentType=n||null}}function Z9(e,t){switch(e){case Ii.RAW:return new ug(qx(t));case Ii.BASE64:case Ii.BASE64URL:return new ug(Gx(e,t));case Ii.DATA_URL:return new ug(t5(t),e5(t))}throw Bv()}function qx(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const l=r,c=e.charCodeAt(++n);r=65536|(l&1023)<<10|c&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function J9(e){let t;try{t=decodeURIComponent(e)}catch{throw qu(Ii.DATA_URL,"Malformed data URL.")}return qx(t)}function Gx(e,t){switch(e){case Ii.BASE64:{const a=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(a||l)throw qu(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const a=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(a||l)throw qu(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=W9(t)}catch(a){throw a.message.includes("polyfill")?a:qu(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class Kx{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw qu(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=n5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function t5(e){const t=new Kx(e);return t.base64?Gx(Ii.BASE64,t.rest):J9(t.rest)}function e5(e){return new Kx(e).contentType}function n5(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,n){let r=0,a="";sw(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,n){if(sw(this.data_)){const r=this.data_,a=Q9(r,t,n);return a===null?null:new hs(a)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new hs(r,!0)}}static getBlob(...t){if(Hv()){const n=t.map(r=>r instanceof hs?r.data_:r);return new hs(X9.apply(null,n))}else{const n=t.map(c=>zv(c)?Z9(Ii.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new hs(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(e){let t;try{t=JSON.parse(e)}catch{return null}return j9(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function r5(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function $x(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(e,t){return t}class dn{constructor(t,n,r,a){this.server=t,this.local=n||t,this.writable=!!r,this.xform=a||s5}}let lf=null;function a5(e){return!zv(e)||e.length<2?e:$x(e)}function Xx(){if(lf)return lf;const e=[];e.push(new dn("bucket")),e.push(new dn("generation")),e.push(new dn("metageneration")),e.push(new dn("name","fullPath",!0));function t(l,c){return a5(c)}const n=new dn("name");n.xform=t,e.push(n);function r(l,c){return c!==void 0?Number(c):c}const a=new dn("size");return a.xform=r,e.push(a),e.push(new dn("timeCreated")),e.push(new dn("updated")),e.push(new dn("md5Hash",null,!0)),e.push(new dn("cacheControl",null,!0)),e.push(new dn("contentDisposition",null,!0)),e.push(new dn("contentEncoding",null,!0)),e.push(new dn("contentLanguage",null,!0)),e.push(new dn("contentType",null,!0)),e.push(new dn("metadata","customMetadata",!0)),lf=e,lf}function o5(e,t){function n(){const r=e.bucket,a=e.fullPath,l=new kn(r,a);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:n})}function l5(e,t,n){const r={};r.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];r[c.local]=c.xform(r,t[c.server])}return o5(r,e),r}function Qx(e,t,n){const r=Yx(t);return r===null?null:l5(e,r,n)}function u5(e,t,n,r){const a=Yx(t);if(a===null||!zv(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=e.bucket,_=e.fullPath,E="/b/"+c(y)+"/o/"+c(_),S=Cd(E,n,r),C=Hx({alt:"media",token:p});return S+C})[0]}function c5(e,t){const n={},r=t.length;for(let a=0;a<r;a++){const l=t[a];l.writable&&(n[l.server]=e[l.local])}return JSON.stringify(n)}class qv{constructor(t,n,r,a){this.url=t,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(e){if(!e)throw Bv()}function h5(e,t){function n(r,a){const l=Qx(e,a,t);return Wx(l!==null),l}return n}function f5(e,t){function n(r,a){const l=Qx(e,a,t);return Wx(l!==null),u5(l,a,e.host,e._protocol)}return n}function Zx(e){function t(n,r){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=S9():a=A9():n.getStatus()===402?a=w9(e.bucket):n.getStatus()===403?a=R9(e.path):a=r,a.status=n.getStatus(),a.serverResponse=r.serverResponse,a}return t}function Jx(e){const t=Zx(e);function n(r,a){let l=t(r,a);return r.getStatus()===404&&(l=b9(e.path)),l.serverResponse=a.serverResponse,l}return n}function d5(e,t,n){const r=t.fullServerUrl(),a=Cd(r,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,f=new qv(a,l,f5(e,n),c);return f.errorHandler=Jx(t),f}function m5(e,t){const n=t.fullServerUrl(),r=Cd(n,e.host,e._protocol),a="DELETE",l=e.maxOperationRetryTime;function c(m,p){}const f=new qv(r,a,c,l);return f.successCodes=[200,204],f.errorHandler=Jx(t),f}function p5(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function g5(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=p5(null,t)),r}function y5(e,t,n,r,a){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let q="";for(let it=0;it<2;it++)q=q+Math.random().toString().slice(2);return q}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const p=g5(t,r,a),y=c5(p,n),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+m+"--",S=hs.getBlob(_,r,E);if(S===null)throw P9();const C={name:p.fullPath},V=Cd(l,e.host,e._protocol),O="POST",j=e.maxUploadRetryTime,z=new qv(V,O,h5(e,n),j);return z.urlParams=C,z.headers=c,z.body=S.uploadData(),z.errorHandler=Zx(t),z}class v5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sa.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sa.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sa.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,a,l){if(this.sent_)throw Su("cannot .send() more than once");if(xs(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Su("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Su("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Su("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Su("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class _5 extends v5{initXhr(){this.xhr_.responseType="text"}}function Gv(){return new _5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,n){this._service=t,n instanceof kn?this._location=n:this._location=kn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Pa(t,n)}get root(){const t=new kn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $x(this._location.path)}get storage(){return this._service}get parent(){const t=i5(this._location.path);if(t===null)return null;const n=new kn(this._location.bucket,t);return new Pa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw M9(t)}}function T5(e,t,n){e._throwIfRoot("uploadBytes");const r=y5(e.storage,e._location,Xx(),new hs(t,!0),n);return e.storage.makeRequestWithTokens(r,Gv).then(a=>({metadata:a,ref:e}))}function E5(e){e._throwIfRoot("getDownloadURL");const t=d5(e.storage,e._location,Xx());return e.storage.makeRequestWithTokens(t,Gv).then(n=>{if(n===null)throw O9();return n})}function b5(e){e._throwIfRoot("deleteObject");const t=m5(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Gv)}function w5(e,t){const n=r5(e._location.path,t),r=new kn(e._location.bucket,n);return new Pa(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(e){return/^[A-Za-z]+:\/\//.test(e)}function S5(e,t){return new Pa(e,t)}function tC(e,t){if(e instanceof Kv){const n=e;if(n._bucket==null)throw N9();const r=new Pa(n,n._bucket);return t!=null?tC(r,t):r}else return t!==void 0?w5(e,t):e}function R5(e,t){if(t&&A5(t)){if(e instanceof Kv)return S5(e,t);throw ly("To use ref(service, url), the first argument must be a Storage instance.")}else return tC(e,t)}function ow(e,t){const n=t==null?void 0:t[Bx];return n==null?null:kn.makeFromBucketSpec(n,e)}function x5(e,t,n,r={}){e.host=`${t}:${n}`;const a=xs(t);a&&(Yy(`https://${e.host}/b`),$y("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(e._overrideAuthToken=typeof l=="string"?l:gS(l,e.app.options.projectId))}class Kv{constructor(t,n,r,a,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=jx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T9,this._maxUploadRetryTime=E9,this._requests=new Set,a!=null?this._bucket=kn.makeFromBucketSpec(a,this._host):this._bucket=ow(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=kn.makeFromBucketSpec(this._url,t):this._bucket=ow(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){aw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){aw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Pa(this,t)}_makeRequest(t,n,r,a,l=!0){if(this._deleted)return new k9(zx());{const c=Y9(t,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,a).getPromise()}}const lw="@firebase/storage",uw="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="storage";function cw(e,t,n){return e=pe(e),T5(e,t,n)}function hw(e){return e=pe(e),E5(e)}function C5(e){return e=pe(e),b5(e)}function cg(e,t){return e=pe(e),R5(e,t)}function I5(e=Wy(),t){e=pe(e);const r=sd(e,eC).getImmediate({identifier:t}),a=dS("storage");return a&&D5(r,...a),r}function D5(e,t,n,r={}){x5(e,t,n,r)}function N5(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Kv(n,r,a,t,Ma)}function P5(){xa(new _s(eC,N5,"PUBLIC").setMultipleInstances(!0)),Oi(lw,uw,""),Oi(lw,uw,"esm2017")}P5();const O5={apiKey:"AIzaSyDapPb3KBmCN0Yl8pNd1MWccCpyYDbgrpE",authDomain:"pawthway-fb57d.firebaseapp.com",projectId:"pawthway-fb57d",storageBucket:"pawthway-fb57d.firebasestorage.app",messagingSenderId:"75676576591",appId:"1:75676576591:web:3b0f958cb738974244b33a"},Yv=_S(O5),li=i9(Yv),hg=I5(Yv),En=a6(Yv);function nC(){const[e,t]=F.useState(!1),[n,r]=F.useState(null),[a,l]=F.useState(!1),c=cc();F.useEffect(()=>{const m=KS(En,async p=>{if(r(p),p){const y=Ir(li,"users",p.uid),_=await Rd(y);if(_.exists()){const E=_.data().role;l(E==="admin")}}else l(!1)});return()=>m()},[]);const f=async()=>{await YS(En),c("/login")};return R.jsxs(Tn.header,{initial:{y:-80,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"fixed z-20 w-full bg-black px-6 sm:px-10 py-4 sm:py-5 shadow-lg",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx(vn,{to:"/",className:"text-[#FF7F11] font-extrabold text-2xl sm:text-3xl",children:"PAWTHWAY"}),R.jsx("button",{className:"sm:hidden text-[#FF7F11] focus:outline-none",onClick:()=>t(!e),children:e?R.jsx(hV,{size:28}):R.jsx(iV,{size:28})}),R.jsxs("nav",{className:"hidden sm:flex space-x-6 items-center",children:[R.jsx(vn,{to:"/Adopt",className:"text-[#FF7F11] font-semibold text-lg hover:underline transition transform hover:scale-110",children:"Adopt"}),R.jsx(vn,{to:"/About",className:"text-[#FF7F11] font-semibold text-lg hover:underline transition transform hover:scale-110",children:"About"}),R.jsx(vn,{to:"/Contact",className:"text-[#FF7F11] font-semibold text-lg hover:underline transition transform hover:scale-110",children:"Contact"}),n&&a&&R.jsx(vn,{to:"/AdminDashboard",className:"text-[#FF7F11] font-semibold text-lg hover:underline transition transform hover:scale-110",children:"Dashboard"}),n?R.jsx("button",{onClick:f,className:"ml-4 px-4 py-2 bg-[#FF1B1C] text-white text-base font-semibold rounded-full hover:bg-[#e60000] transition transform hover:scale-105 cursor-pointer",children:"Logout"}):R.jsx(vn,{to:"/Login",className:"ml-4 px-4 py-2 bg-[#FF7F11] text-black font-semibold rounded-full hover:bg-[#FF1B1C] hover:text-white transition transform hover:scale-105",children:"Sign In"})]})]}),e&&R.jsxs("nav",{className:"sm:hidden mt-4 flex flex-col space-y-4 text-center",children:[R.jsx(vn,{to:"/Adopt",onClick:()=>t(!1),className:"text-[#FF7F11] font-semibold text-lg hover:underline",children:"Adopt"}),R.jsx(vn,{to:"/About",onClick:()=>t(!1),className:"text-[#FF7F11] font-semibold text-lg hover:underline",children:"About"}),R.jsx(vn,{to:"/Contact",onClick:()=>t(!1),className:"text-[#FF7F11] font-semibold text-lg hover:underline",children:"Contact"}),n&&a&&R.jsx(vn,{to:"/admin-dashboard",onClick:()=>t(!1),className:"text-[#FF7F11] font-semibold text-lg hover:underline",children:"Dashboard"}),n?R.jsx("button",{onClick:()=>{f(),t(!1)},className:"inline-block mx-auto px-4 py-2 bg-[#FF1B1C] text-white font-semibold rounded-full hover:bg-[#e60000] transition cursor-pointer",children:"Logout"}):R.jsx(vn,{to:"/Login",onClick:()=>t(!1),className:"inline-block mx-auto px-4 py-2 bg-[#FF7F11] text-black font-semibold rounded-full hover:bg-[#FF1B1C] hover:text-white transition",children:"Sign In"})]})]})}var iC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fw=ba.createContext&&ba.createContext(iC),V5=["attr","size","title"];function M5(e,t){if(e==null)return{};var n=k5(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function k5(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wf.apply(this,arguments)}function dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(n),!0).forEach(function(r){L5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L5(e,t,n){return t=U5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U5(e){var t=F5(e,"string");return typeof t=="symbol"?t:t+""}function F5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rC(e){return e&&e.map((t,n)=>ba.createElement(t.tag,Zf({key:n},t.attr),rC(t.child)))}function Id(e){return t=>ba.createElement(j5,Wf({attr:Zf({},e.attr)},t),rC(e.child))}function j5(e){var t=n=>{var{attr:r,size:a,title:l}=e,c=M5(e,V5),f=a||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),ba.createElement("svg",Wf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:Zf(Zf({color:e.color||n.color},n.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&ba.createElement("title",null,l),e.children)};return fw!==void 0?ba.createElement(fw.Consumer,null,n=>t(n)):t(iC)}function B5(e){return Id({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function z5(e){return Id({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function H5(e){return Id({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function q5(e){return Id({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Ps(){return R.jsxs(Tn.footer,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-[#000000] text-[#FFFFFC] py-10 px-6 md:px-16 mt-auto",children:[R.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-10",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl font-bold text-[#FF7F11] mb-4",children:"Pawthway "}),R.jsx("p",{className:"text-[#BEB7A4]",children:"Connecting loving homes with pets in need. Adopt, foster, or support  every paw matters."})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold text-[#FF1B1C] mb-4",children:"Quick Links"}),R.jsxs("ul",{className:"space-y-2 text-[#FFFFFC]",children:[R.jsx("li",{children:R.jsx("a",{href:"/pages/Adopt",className:"hover:text-[#FF7F11] transition",children:"Adopt"})}),R.jsx("li",{children:R.jsx("a",{href:"#about",className:"hover:text-[#FF7F11] transition",children:"About Us"})}),R.jsx("li",{children:R.jsx("a",{href:"#contact",className:"hover:text-[#FF7F11] transition",children:"Contact"})}),R.jsx("li",{children:R.jsx("a",{href:"#faq",className:"hover:text-[#FF7F11] transition",children:"FAQ"})})]})]}),R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg font-semibold text-[#FF1B1C] mb-4",children:"Stay Connected"}),R.jsxs("div",{className:"flex space-x-4 mb-4",children:[R.jsx("a",{href:"#",className:"text-[#FFFFFC] hover:text-[#FF7F11]",children:R.jsx(B5,{})}),R.jsx("a",{href:"#",className:"text-[#FFFFFC] hover:text-[#FF7F11]",children:R.jsx(z5,{})}),R.jsx("a",{href:"#",className:"text-[#FFFFFC] hover:text-[#FF7F11]",children:R.jsx(H5,{})}),R.jsx("a",{href:"#",className:"text-[#FFFFFC] hover:text-[#FF7F11]",children:R.jsx(q5,{})})]}),R.jsx("p",{className:"text-[#BEB7A4] text-sm",children:"Email: pawthwaysupport@gmail.com"})]})]}),R.jsxs("div",{className:"mt-10 text-center text-sm text-[#BEB7A4] border-t border-[#BEB7A4] pt-4",children:[" ",new Date().getFullYear()," PawPal. All rights reserved."]})]})}const G5=[{name:"Buddy",type:"Dog",age:"2 years",image:"https://placedog.net/400/300?id=1"},{name:"Whiskers",type:"Cat",age:"1 year",image:"https://placekitten.com/400/300"},{name:"Coco",type:"Rabbit",age:"6 months",image:"https://placebear.com/400/300"}];function K5(){return R.jsxs("div",{className:"min-h-screen bg-[#FFFFFC] text-[#000000] font-sans flex flex-col scroll-smooth",children:[R.jsxs(Tn.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"flex flex-col items-center justify-center px-4 md:px-8 pb-10 pt-10",children:[R.jsx("div",{className:"relative w-full h-[60vh] sm:h-[70vh] md:h-[80vh] bg-cover bg-center flex items-center justify-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1450778869180-41d0601e046e?q=80&w=1972&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D')"},children:R.jsxs(Tn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"relative z-10 bg-[#FFFFFC] p-6 sm:p-8 md:p-12 rounded-xl shadow-2xl text-center max-w-xl md:max-w-2xl",children:[R.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-[#FF1B1C] mb-4",children:"Open Your Heart to a New Friend"}),R.jsx("p",{className:"text-[#BEB7A4] text-base sm:text-lg mb-6",children:"Give a shelter animal a second chance at life. Be a part of their story."}),R.jsx(vn,{to:"/Adopt",className:"inline-block bg-[#FF7F11] text-[#FFFFFC] px-6 py-3 rounded-full font-bold text-base sm:text-lg hover:bg-[#e56e0e] transition duration-300",children:"Explore Adoptions"})]})}),R.jsxs("div",{className:"w-full max-w-3xl text-center mt-10",children:[R.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-[#FF1B1C] mb-4",children:"Find Your New Best Friend"}),R.jsx("p",{className:"text-[#BEB7A4] text-base sm:text-lg mb-8",children:"Search from thousands of adoptable pets in your area."}),R.jsx(Tn.input,{whileFocus:{scale:1.03},type:"text",placeholder:"Search by breed, location...",className:"w-full px-4 py-3 sm:px-6 sm:py-4 rounded-full border-2 border-[#FF7F11] text-black focus:outline-none focus:ring-4 focus:ring-[#FF7F11]"})]})]}),R.jsx(Tn.section,{id:"adopt",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0},className:"w-full bg-[#BEB7A4] px-4 sm:px-6 md:px-20 py-14",children:R.jsxs("div",{className:"max-w-7xl mx-auto",children:[R.jsx("h3",{className:"text-2xl font-semibold text-black mb-10 text-center",children:"Featured Pets"}),R.jsx("div",{className:"flex flex-wrap justify-center gap-6 sm:gap-10",children:G5.map((e,t)=>R.jsxs(Tn.div,{whileHover:{scale:1.05},initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:t*.2},viewport:{once:!0},className:"bg-[#FFFFFC] rounded-lg shadow-md w-full sm:w-64 md:w-72 overflow-hidden",children:[R.jsx("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover"}),R.jsxs("div",{className:"p-4",children:[R.jsx("h4",{className:"text-[#FF1B1C] font-bold text-xl mb-1",children:e.name}),R.jsxs("p",{className:"text-black mb-4",children:[e.type,"  ",e.age]}),R.jsx("button",{className:"w-full bg-[#FF7F11] text-white py-2 rounded-full font-semibold hover:bg-[#e56e0e] transition",children:"Adopt Me"})]})]},t))})]})}),R.jsxs(Tn.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"bg-beige py-16 relative overflow-hidden px-4",children:[R.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 sm:w-32 sm:h-32 bg-orange rounded-full opacity-20 transform -translate-x-1/2 -translate-y-1/2"}),R.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 sm:w-48 sm:h-48 bg-red rounded-full opacity-15 transform translate-x-1/3 translate-y-1/3"}),R.jsx("div",{className:"absolute top-1/4 right-1/4 w-10 h-10 sm:w-16 sm:h-16 bg-off-white rounded-md rotate-45 opacity-10"}),R.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-16 h-16 sm:w-24 sm:h-24 bg-black rounded-full opacity-5"}),R.jsxs("div",{className:"max-w-4xl mx-auto text-center relative",children:[R.jsxs("div",{className:"inline-flex items-center justify-center bg-off-white rounded-full shadow-md p-6 sm:p-8 mb-8",children:[R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#FF7F11",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#FF7F11",className:"w-8 h-8 sm:w-10 sm:h-10 mr-4",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.413 5.34c-1.397-1.125-3.328-1.574-5.322-1.246C3.993 4.417 2.457 6.136 2.054 8.012c-.295 1.341-.01 2.946.887 4.197l2.873 4.103c.524.747 1.053 1.488 1.58 2.228.303.435.617.87.935 1.302.26.357.53.71.815 1.058.423.518.874.98 1.346 1.428.188.17.377.34.567.51a.75.75 0 001.06 0c.19-.17.379-.34.567-.51.472-.448.923-.91 1.346-1.428.285-.348.555-.701.815-1.058.318-.432.632-.867.935-1.302.527-.74 1.056-1.481 1.58-2.228l2.873-4.103c.897-1.251 1.182-2.856.887-4.197-.403-1.876-1.939-3.595-3.937-4.156-1.994-.328-3.925.121-5.322 1.246a3.793 3.793 0 00-2.316-1.895z"})}),R.jsxs("div",{className:"text-left",children:[R.jsx("h2",{className:"text-xl font-semibold text-orange",children:"Adopt Love"}),R.jsx("p",{className:"text-sm text-beige-dark",children:"Find your new best friend!"})]})]}),R.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-black mb-6",children:"Give a Fur-ever Home Today!"}),R.jsx("p",{className:"text-base sm:text-lg text-beige-dark mb-8 max-w-xl mx-auto",children:"Every pet deserves a loving family. Explore our wonderful animals waiting for their chance at happiness and make a difference in a life."}),R.jsx("button",{className:"bg-red text-off-white font-bold py-2 sm:py-3 px-6 sm:px-8 rounded-md hover:bg-orange transition-colors duration-300",children:"Browse Adoptable Pets"}),R.jsx("p",{className:"mt-10 text-lg sm:text-xl font-semibold text-orange",children:"#AdoptDontShop"})]})]}),R.jsx("div",{children:R.jsx(Ps,{})})]})}function Y5(){const[e,t]=F.useState([]);return F.useEffect(()=>{(async()=>{const a=(await Ux(ay(li,"pets"))).docs.map(l=>({id:l.id,...l.data()}));t(a)})()},[]),R.jsxs("div",{children:[R.jsx("h2",{className:"text-3xl font-bold mb-6 text-[#FF7F11]",children:"Available Pets"}),R.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:e.map(n=>R.jsxs("div",{className:"bg-white p-5 rounded-lg shadow-lg",children:[R.jsx("img",{src:n.imageURL,alt:n.name,className:"h-48 w-full object-cover rounded-lg mb-4"}),R.jsx("h3",{className:"text-xl font-bold text-[#FF7F11]",children:n.name}),R.jsxs("p",{children:[R.jsx("strong",{children:"Type:"})," ",n.type]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Breed:"})," ",n.breed]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Age:"})," ",n.age]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Location:"})," ",n.location]})]},n.id))}),R.jsx("div",{children:R.jsx(Ps,{})})]})}function $5(){return R.jsxs("div",{children:[R.jsx("div",{}),R.jsx("div",{className:"min-h-screen bg-[#FFFFFC] text-[#000000] px-6 py-30",children:R.jsxs("div",{className:"max-w-5xl mx-auto",children:[R.jsx(Tn.h1,{className:"text-5xl font-extrabold mb-8 border-b-4 border-[#FF7F11] inline-block",initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8},children:"About Us"}),R.jsx(Tn.p,{className:"text-lg leading-relaxed mb-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.6},children:"Welcome to our Pet Adoption Platform!  We connect animals with loving families and help shelters manage pets in a smarter, simpler way."}),R.jsxs(Tn.div,{className:"grid md:grid-cols-2 gap-8 mt-10",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},children:[R.jsxs(Tn.div,{whileHover:{scale:1.05},className:"bg-[#FF7F11] p-6 rounded-xl shadow-lg text-white transition duration-300 cursor-pointer",children:[R.jsx("h2",{className:"text-2xl font-semibold mb-2",children:" For Adopters"}),R.jsx("p",{children:"Discover pets looking for a new home, learn their stories, and apply for adoptionall in one place."})]}),R.jsxs(Tn.div,{whileHover:{scale:1.05},className:"bg-[#FF1B1C] p-6 rounded-xl shadow-lg text-white transition duration-300 cursor-pointer",children:[R.jsx("h2",{className:"text-2xl font-semibold mb-2",children:" For Shelters"}),R.jsx("p",{children:"Create listings, update pet info, and manage applications through an easy-to-use dashboard."})]})]}),R.jsxs(Tn.div,{className:"bg-[#BEB7A4] p-6 mt-12 rounded-xl shadow-lg",initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{delay:.4,duration:.7},viewport:{once:!0},children:[R.jsx("h2",{className:"text-3xl font-bold text-[#000000] mb-4",children:"Why Choose Us?"}),R.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-lg",children:[R.jsx("li",{children:"Fast and responsive platform"}),R.jsx("li",{children:"Built with love for pets and shelters"}),R.jsx("li",{children:"Modern UI and real-time updates"})]})]})]})}),R.jsx("div",{children:R.jsx(Ps,{})})]})}function X5(){return R.jsxs("div",{children:[R.jsx("div",{}),R.jsx("div",{children:R.jsx(Ps,{})})]})}function Q5(){const[e,t]=F.useState(""),[n,r]=F.useState(""),[a,l]=F.useState(!1),[c,f]=F.useState(""),[m,p]=F.useState(!1),y=cc(),_=async E=>{E.preventDefault(),l(!0),f("");try{if(!e||!n)throw new Error("Please enter both email and password.");if(!e.includes("@")||!e.includes("."))throw new Error("Please enter a valid email address.");if(n.length<6)throw new Error("Password must be at least 6 characters long.");let S;try{S=await Yk(En,e,n),console.log("Login successful!")}catch(V){if(V.code==="auth/user-not-found"||V.code==="auth/wrong-password"||V.code==="auth/invalid-credential"){console.log("Login failed or user not found. Attempting to register...");try{S=await Kk(En,e,n),console.log("User registered successfully!"),await Fx(Ir(li,"users",S.user.uid),{email:S.user.email,role:"user"}),console.log("New user data saved to Firestore.")}catch(O){O.code==="auth/email-already-in-use"?f("This email is already registered. Please try logging in with the correct password."):O.code==="auth/weak-password"?f("Password is too weak. Please choose a stronger password (at least 6 characters)."):f(O.message||"An error occurred during registration."),console.error("Signup Error:",O),l(!1);return}}else{f(V.message||"An unexpected error occurred during login."),console.error("Login Error:",V),l(!1);return}}t(""),r("");const C=S.user;if(C){const V=Ir(li,"users",C.uid),O=await Rd(V);O.exists()&&O.data().role==="admin"?y("/admin-dashboard"):y("/adopt")}else f("Authentication successful, but user object is missing."),console.error("User object is null after authentication.")}catch(S){console.error("Overall Authentication Error:",S.message),f(S.message||"An unexpected error occurred. Please try again.")}finally{l(!1)}};return R.jsxs("div",{children:[" ",R.jsx("div",{className:"min-h-screen bg-[#FFFFFC] flex items-center justify-center px-4",children:R.jsxs("div",{className:"flex flex-col md:flex-row w-full max-w-5xl bg-white shadow-xl rounded-xl overflow-hidden",children:[R.jsx("div",{className:"hidden md:block md:w-1/2 bg-cover bg-center",style:{backgroundImage:'url("https://images.unsplash.com/photo-1558788353-f76d92427f16")'}}),R.jsx("div",{className:"w-full md:w-1/2 bg-[#FFFFFC] text-[#000000] flex items-center justify-center overflow-y-auto",children:R.jsxs("div",{className:"w-full p-6 sm:p-10 flex flex-col justify-center min-h-full",children:[R.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-[#FF7F11]",children:"Welcome Back "}),c&&R.jsx("div",{className:"bg-[#FF1B1C] text-[#FFFFFC] text-sm p-3 rounded mb-4 text-center",children:c}),R.jsxs("form",{onSubmit:_,className:"space-y-6 w-full",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email Address"}),R.jsx("input",{type:"email",required:!0,value:e,onChange:E=>t(E.target.value),className:"w-full p-3 border border-[#BEB7A4] rounded bg-[#FFFFFC] text-[#000000] focus:outline-none focus:ring-1 focus:ring-[#FF7F11]",placeholder:"you@example.com",disabled:a})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),R.jsxs("div",{className:"relative",children:[R.jsx("input",{type:m?"text":"password",required:!0,value:n,onChange:E=>r(E.target.value),className:"w-full p-3 border border-[#BEB7A4] rounded bg-[#FFFFFC] text-[#000000] focus:outline-none focus:ring-1 focus:ring-[#FF7F11] pr-12",placeholder:"Your secure password",disabled:a}),R.jsx("button",{type:"button",onClick:()=>p(E=>!E),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-[#FF7F11] hover:text-[#FF1B1C] font-semibold disabled:opacity-50",disabled:a,children:m?"Hide":"Show"})]})]}),R.jsx("button",{type:"submit",disabled:a,className:"w-full bg-[#FF7F11] hover:bg-[#FF1B1C] text-white py-3 font-semibold rounded transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:a?"Processing...":"Login / Register"}),R.jsxs("p",{className:"text-center text-sm text-[#000000]",children:["Dont have an account?"," ",R.jsx("span",{className:"text-[#FF1B1C] font-semibold",children:"Sign up happens automatically"})]})]})]})})]})}),R.jsx(Ps,{})]})}function W5({pet:e}){return R.jsxs("form",{className:"mt-6 bg-[#FFFFFC] p-6 border border-[#BEB7A4] rounded-lg shadow",children:[R.jsxs("h2",{className:"text-2xl font-bold text-[#FF1B1C] mb-4",children:["Apply to adopt ",e.name]}),R.jsx("input",{type:"text",placeholder:"Your Name",required:!0,className:"w-full mb-4 p-3 border border-[#BEB7A4] rounded"}),R.jsx("input",{type:"email",placeholder:"Email Address",required:!0,className:"w-full mb-4 p-3 border border-[#BEB7A4] rounded"}),R.jsx("textarea",{placeholder:"Why do you want to adopt?",required:!0,className:"w-full mb-4 p-3 border border-[#BEB7A4] rounded",rows:"4"}),R.jsx("button",{type:"submit",className:"bg-[#FF7F11] text-[#FFFFFC] px-6 py-3 rounded hover:bg-[#FF1B1C] transition",children:"Submit Application"})]})}function Z5(){const{id:e}=gI(),[t,n]=F.useState(null);return F.useEffect(()=>{(async()=>{const a=Ir(li,"pets",e),l=await Rd(a);l.exists()&&n({id:l.id,...l.data()})})()},[e]),t?R.jsxs("div",{className:"min-h-screen bg-[#FFFFFC] text-[#000000]",children:[R.jsx(nC,{}),R.jsxs("div",{className:"max-w-5xl mx-auto p-6 pt-28",children:[R.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[R.jsx("img",{src:t.imageURL,alt:t.name,className:"w-full h-80 object-cover rounded-xl shadow"}),R.jsxs("div",{children:[R.jsx("h1",{className:"text-4xl font-bold text-[#FF1B1C] mb-4",children:t.name}),R.jsxs("p",{className:"mb-2",children:[R.jsx("strong",{children:"Type:"})," ",t.type]}),R.jsxs("p",{className:"mb-2",children:[R.jsx("strong",{children:"Breed:"})," ",t.breed]}),R.jsxs("p",{className:"mb-2",children:[R.jsx("strong",{children:"Age:"})," ",t.age]}),R.jsxs("p",{className:"mb-2",children:[R.jsx("strong",{children:"Location:"})," ",t.location]})]})]}),R.jsx(W5,{pet:t})]}),R.jsx(Ps,{})]}):R.jsx("div",{className:"text-center py-10",children:"Loading..."})}function J5(){const[e,t]=F.useState(""),[n,r]=F.useState(""),[a,l]=F.useState(""),[c,f]=F.useState(""),[m,p]=F.useState(""),[y,_]=F.useState(""),[E,S]=F.useState(!0),[C,V]=F.useState(!0),O=cc();F.useEffect(()=>{(async()=>{if(!En.currentUser){O("/login");return}V(!0);try{const q=Ir(li,"shelters",En.currentUser.uid),it=await Rd(q);if(it.exists()){const W=it.data();t(W.shelterName||""),r(W.location||""),l(W.contactEmail||""),f(W.contactPhone||""),p(W.website||""),_(W.description||""),S(!1)}else S(!0)}catch(q){console.error("Error fetching shelter info:",q),alert("Failed to load shelter information.")}finally{V(!1)}})()},[En.currentUser,O]);const j=async z=>{if(z.preventDefault(),!En.currentUser){alert("You must be logged in to save shelter information."),O("/login");return}try{const q=Ir(li,"shelters",En.currentUser.uid),it={shelterName:e,location:n,contactEmail:a,contactPhone:c,website:m,description:y,lastUpdated:new Date,ownerUid:En.currentUser.uid};await Fx(q,it,{merge:!0}),alert("Shelter information saved successfully!"),S(!1)}catch(q){console.error("Error saving shelter info:",q),alert("Error saving shelter information: "+q.message)}};return C?R.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading shelter info..."}):R.jsxs("div",{children:[R.jsxs("div",{className:"min-h-screen bg-[#FFFFFC] p-8 md:p-30",children:[R.jsx("h1",{className:"text-3xl font-bold text-[#FF7F11] mb-6",children:E?"Add Your Shelter Information":"Edit Shelter Information"}),R.jsxs("form",{onSubmit:j,className:"bg-white p-8 rounded-lg shadow-md space-y-6 max-w-2xl mx-auto",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"shelterName",className:"block text-gray-700 font-medium mb-2",children:"Shelter Name"}),R.jsx("input",{type:"text",id:"shelterName",value:e,onChange:z=>t(z.target.value),placeholder:"Enter your shelter's name",className:"w-full p-3 border border-[#BEB7A4] rounded focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"location",className:"block text-gray-700 font-medium mb-2",children:"Location (City, State/Province, Country)"}),R.jsx("input",{type:"text",id:"location",value:n,onChange:z=>r(z.target.value),placeholder:"e.g., Nagpur, Maharashtra, India",className:"w-full p-3 border border-[#BEB7A4] rounded focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"contactEmail",className:"block text-gray-700 font-medium mb-2",children:"Contact Email"}),R.jsx("input",{type:"email",id:"contactEmail",value:a,onChange:z=>l(z.target.value),placeholder:"shelter@example.com",className:"w-full p-3 border border-[#BEB7A4] rounded focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"contactPhone",className:"block text-gray-700 font-medium mb-2",children:"Contact Phone Number"}),R.jsx("input",{type:"tel",id:"contactPhone",value:c,onChange:z=>f(z.target.value),placeholder:"+91 1234567890",className:"w-full p-3 border border-[#BEB7A4] rounded focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"description",className:"block text-gray-700 font-medium mb-2",children:"Shelter Description"}),R.jsx("textarea",{id:"description",rows:"5",value:y,onChange:z=>_(z.target.value),placeholder:"Tell us about your shelter's mission, values, and what makes it special.",className:"w-full p-3 border border-[#BEB7A4] rounded focus:outline-none focus:ring-2 focus:ring-[#FF7F11] text-black",required:!0})]}),R.jsx("button",{type:"submit",className:"w-full bg-[#FF7F11] hover:bg-[#FF1B1C] text-white px-6 py-3 rounded shadow-md transition font-semibold",children:E?"Save Shelter Information":"Update Shelter Information"})]})]}),R.jsx("div",{children:R.jsx(Ps,{})})]})}const $e=[];for(let e=0;e<256;++e)$e.push((e+256).toString(16).slice(1));function tF(e,t=0){return($e[e[t+0]]+$e[e[t+1]]+$e[e[t+2]]+$e[e[t+3]]+"-"+$e[e[t+4]]+$e[e[t+5]]+"-"+$e[e[t+6]]+$e[e[t+7]]+"-"+$e[e[t+8]]+$e[e[t+9]]+"-"+$e[e[t+10]]+$e[e[t+11]]+$e[e[t+12]]+$e[e[t+13]]+$e[e[t+14]]+$e[e[t+15]]).toLowerCase()}let fg;const eF=new Uint8Array(16);function nF(){if(!fg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fg=crypto.getRandomValues.bind(crypto)}return fg(eF)}const iF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mw={randomUUID:iF};function rF(e,t,n){var a;if(mw.randomUUID&&!e)return mw.randomUUID();e=e||{};const r=e.random??((a=e.rng)==null?void 0:a.call(e))??nF();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tF(r)}function sF(){const[e,t]=F.useState("add-pet"),[n,r]=F.useState("info"),[a,l]=F.useState(null),[c,f]=F.useState(""),[m,p]=F.useState(""),[y,_]=F.useState("Cat"),[E,S]=F.useState(""),[C,V]=F.useState(""),[O,j]=F.useState([]),[z,q]=F.useState(null),it=cc();F.useEffect(()=>{(e==="edit-pet"||e==="remove-pet")&&(async()=>{try{const N=(await Ux(ay(li,"pets"))).docs.map(Jt=>({id:Jt.id,...Jt.data()}));j(N)}catch(B){console.error("Error fetching pets:",B),alert("Failed to load pets: "+B.message)}})()},[e]);const W=()=>{l(null),f(""),p(""),_("Cat"),S(""),V(""),q(null)},ct=async()=>{try{await YS(En),it("/login")}catch(D){console.error("Error logging out:",D),alert("Error logging out.")}},M=async()=>{try{if(!a||!c||!m||!E||!C){alert("Please fill all pet information fields and upload a photo.");return}const D=rF(),B=cg(hg,`pets/${D}-${a.name}`);console.log("Attempting to upload image to:",B.fullPath),console.log("File object:",a),console.log("File name:",a==null?void 0:a.name),console.log("File type:",a==null?void 0:a.type),console.log("File size:",a==null?void 0:a.size),await cw(B,a);const N=await hw(B);console.log("Image uploaded successfully. URL:",N),await v9(ay(li,"pets"),{name:c,description:m,type:y,breed:E,personality:C,imageUrl:N,createdAt:new Date,shelterId:En.currentUser?En.currentUser.uid:null}),alert("Pet added successfully!"),W(),t("add-pet")}catch(D){console.error("Error adding pet:",D),alert("Error adding pet: "+D.message)}},x=D=>{q(D),f(D.name),p(D.description),_(D.type),S(D.breed),V(D.personality),l(null),t("edit-pet-form")},I=async()=>{if(!z||!c||!m||!E||!C){alert("Please fill all fields for the pet.");return}try{let D=z.imageUrl;if(a){const N=cg(hg,`pets/${z.id}-${a.name}`);await cw(N,a),D=await hw(N)}const B=Ir(li,"pets",z.id);await g9(B,{name:c,description:m,type:y,breed:E,personality:C,imageUrl:D}),alert("Pet updated successfully!"),W(),t("edit-pet")}catch(D){console.error("Error updating pet:",D),alert("Error updating pet: "+D.message)}},k=async(D,B)=>{if(window.confirm("Are you sure you want to delete this pet? This action cannot be undone."))try{if(await y9(Ir(li,"pets",D)),console.log("Pet document deleted from Firestore:",D),B){const N=new URL(B).pathname.split("/o/")[1],Jt=decodeURIComponent(N),ne=cg(hg,Jt);await C5(ne),console.log("Pet image deleted from Storage:",Jt)}alert("Pet deleted successfully!"),j(O.filter(N=>N.id!==D))}catch(N){console.error("Error deleting pet:",N),alert("Error deleting pet: "+N.message)}};return R.jsxs("div",{className:"min-h-screen bg-[#FFFFFC] flex flex-col",children:[R.jsxs("div",{className:"flex flex-1",children:[R.jsxs("aside",{className:"w-20 md:w-56 bg-black text-white flex flex-col items-center py-6 shadow-xl",children:[R.jsx("div",{className:"mb-10 text-center text-[#FF7F11] text-xl md:text-2xl font-bold",children:"PAWTHWAY"}),R.jsxs("nav",{className:"flex flex-col space-y-6 w-full items-center",children:[R.jsxs("button",{onClick:()=>{t("add-pet"),W()},title:"Add New Pet",className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-800 w-full justify-center md:justify-start cursor-pointer",children:[R.jsx(J4,{size:28,stroke:e==="add-pet"?"#FF7F11":"#FFFFFF"}),R.jsx("span",{className:"hidden md:block text-sm",children:"Add Pet"})]}),R.jsxs("button",{onClick:()=>t("edit-pet"),title:"Edit Existing Pets",className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-800 w-full justify-center md:justify-start cursor-pointer",children:[R.jsx(sV,{size:28,stroke:e==="edit-pet"||e==="edit-pet-form"?"#FF7F11":"#FFFFFF"}),R.jsx("span",{className:"hidden md:block text-sm",children:"Edit Pets"})]}),R.jsxs("button",{onClick:()=>t("remove-pet"),title:"Remove Pets",className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-800 w-full justify-center md:justify-start cursor-pointer",children:[R.jsx(oV,{size:28,stroke:e==="remove-pet"?"#FF7F11":"#FFFFFF"}),R.jsx("span",{className:"hidden md:block text-sm",children:"Remove Pets"})]}),R.jsxs("button",{onClick:()=>it("/shelter-info"),title:"Shelter Information",className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-800 w-full justify-center md:justify-start cursor-pointer",children:[R.jsx(uV,{size:28,stroke:"#FFFFFF"}),R.jsx("span",{className:"hidden md:block text-sm",children:"Shelter Info"})]}),R.jsxs("button",{onClick:ct,title:"Logout",className:"flex items-center space-x-2 p-2 rounded-md hover:bg-gray-800 w-full justify-center md:justify-start cursor-pointer",children:[R.jsx(eV,{size:28,stroke:"#FF1B1C"}),R.jsx("span",{className:"hidden md:block text-sm",children:"Logout"})]})]})]}),R.jsxs("main",{className:"flex-1 p-8 md:p-30",children:[(e==="add-pet"||e==="edit-pet-form")&&R.jsxs(R.Fragment,{children:[R.jsx("h1",{className:"text-3xl font-bold text-[#FF7F11] mb-6",children:e==="add-pet"?"Add A New Pet":"Edit Pet Information"}),R.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[R.jsx("div",{className:"w-full md:w-1/4 space-y-4",children:[{label:"Photos",key:"photos"},{label:"Info",key:"info"},{label:"Personality",key:"personality"}].map(D=>R.jsx("button",{onClick:()=>r(D.key),className:`w-full p-3 cursor-pointer rounded font-semibold border-l-4 ${n===D.key?"border-[#FF7F11] bg-[#FFF3E6] text-[#FF7F11]":"border-transparent bg-white hover:bg-[#FFF3E6] text-[#000000]"}`,children:D.label},D.key))}),R.jsxs("div",{className:"w-full md:w-3/4 space-y-4",children:[n==="photos"&&R.jsxs("div",{className:"space-y-4 border-2 border-dashed border-[#BEB7A4] rounded p-8 text-center text-[#BEB7A4]",children:[R.jsx("label",{className:"block text-[#000000] font-medium mb-2",children:"Upload Pet Image"}),R.jsx("input",{type:"file",accept:"image/*",onChange:D=>l(D.target.files[0]),className:"text-[#000000]"}),R.jsx("p",{className:"text-sm",children:"PNG, JPG formats supported"}),z&&!a&&z.imageUrl&&R.jsxs("div",{className:"mt-4",children:[R.jsx("p",{className:"text-sm text-gray-500",children:"Current Image:"}),R.jsx("img",{src:z.imageUrl,alt:"Current Pet",className:"w-24 h-24 object-cover mx-auto rounded-md"}),R.jsx("a",{href:z.imageUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#FF7F11] text-sm hover:underline",children:"View Full Size"})]})]}),n==="info"&&R.jsxs("div",{className:"space-y-4",children:[R.jsx("label",{htmlFor:"petName",className:"block text-[#000000] font-medium",children:"Pet Name"}),R.jsx("input",{type:"text",id:"petName",placeholder:"Enter pet's name",value:c,onChange:D=>f(D.target.value),className:"w-full p-3 border border-[#BEB7A4] rounded text-[#000000]",required:!0}),R.jsx("label",{htmlFor:"description",className:"block text-[#000000] font-medium mt-4",children:"Description"}),R.jsx("textarea",{id:"description",placeholder:"Enter pet's description",value:m,onChange:D=>p(D.target.value),className:"w-full p-3 border border-[#BEB7A4] rounded text-[#000000]",rows:4,required:!0}),R.jsxs("div",{className:"flex space-x-4",children:[R.jsxs("div",{className:"w-1/2",children:[R.jsx("label",{htmlFor:"type",className:"block text-[#000000] font-medium",children:"Type"}),R.jsxs("select",{id:"type",value:y,onChange:D=>_(D.target.value),className:"w-full p-3 border border-[#BEB7A4] rounded text-[#000000]",children:[R.jsx("option",{value:"Cat",children:"Cat"}),R.jsx("option",{value:"Dog",children:"Dog"})]})]}),R.jsxs("div",{className:"w-1/2",children:[R.jsx("label",{htmlFor:"breed",className:"block text-[#000000] font-medium",children:"Breed"}),R.jsx("input",{type:"text",id:"breed",placeholder:"Enter breed",value:E,onChange:D=>S(D.target.value),className:"w-full p-3 border border-[#BEB7A4] rounded text-[#000000]",required:!0})]})]})]}),n==="personality"&&R.jsx("textarea",{rows:5,placeholder:"Describe the pet's personality (e.g., energetic, shy, playful, good with kids)",value:C,onChange:D=>V(D.target.value),className:"w-full p-3 border border-[#BEB7A4] rounded text-[#000000]",required:!0}),R.jsx("button",{onClick:e==="add-pet"?M:I,className:"mt-4 bg-[#FF7F11] hover:bg-[#FF1B1C] text-white px-6 py-3 rounded shadow-md transition",children:e==="add-pet"?"Add Pet":"Update Pet"}),e==="edit-pet-form"&&R.jsx("button",{onClick:()=>{W(),t("edit-pet")},className:"mt-4 ml-4 bg-gray-500 hover:bg-gray-700 text-white px-6 py-3 rounded shadow-md transition",children:"Cancel"})]})]})]}),e==="edit-pet"&&R.jsxs(R.Fragment,{children:[R.jsx("h1",{className:"text-3xl font-bold text-[#FF7F11] mb-6",children:"Edit Existing Pets"}),R.jsx("div",{className:"space-y-4",children:O.length===0?R.jsx("p",{className:"text-gray-600",children:"No pets found to edit. Add some pets first!"}):O.map(D=>R.jsxs("div",{className:"flex items-center justify-between p-4 bg-white shadow rounded-lg",children:[R.jsxs("div",{className:"flex items-center",children:[D.imageUrl&&R.jsx("img",{src:D.imageUrl,alt:D.name,className:"w-16 h-16 object-cover rounded-md mr-4"}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-lg font-semibold",children:D.name}),R.jsxs("p",{className:"text-sm text-gray-600",children:[D.type," - ",D.breed]})]})]}),R.jsx("button",{onClick:()=>x(D),className:"bg-[#FF7F11] hover:bg-[#FF1B1C] text-white px-4 py-2 rounded-md shadow-sm cursor-pointer",children:"Edit"})]},D.id))})]}),e==="remove-pet"&&R.jsxs(R.Fragment,{children:[R.jsx("h1",{className:"text-3xl font-bold text-[#FF7F11] mb-6",children:"Remove Pets"}),R.jsx("div",{className:"space-y-4",children:O.length===0?R.jsx("p",{className:"text-gray-600",children:"No pets found to remove."}):O.map(D=>R.jsxs("div",{className:"flex items-center justify-between p-4 bg-white shadow rounded-lg",children:[R.jsxs("div",{className:"flex items-center",children:[D.imageUrl&&R.jsx("img",{src:D.imageUrl,alt:D.name,className:"w-16 h-16 object-cover rounded-md mr-4"}),R.jsxs("div",{children:[R.jsx("h2",{className:"text-lg font-semibold",children:D.name}),R.jsxs("p",{className:"text-sm text-gray-600",children:[D.type," - ",D.breed]})]})]}),R.jsx("button",{onClick:()=>k(D.id,D.imageUrl),className:"bg-red-600 hover:bg-red-800 text-white px-4 py-2 rounded-md shadow-sm cursor-pointer",children:"Delete"})]},D.id))})]})]})]}),R.jsx(Ps,{})]})}function aF(){const[e,t]=F.useState(0);return R.jsx(R.Fragment,{children:R.jsxs(eD,{children:[R.jsx(nC,{}),R.jsxs(NI,{children:[R.jsx(gr,{path:"/",element:R.jsx(K5,{})}),R.jsx(gr,{path:"/adopt",element:R.jsx(Y5,{})}),R.jsx(gr,{path:"/about",element:R.jsx($5,{})}),R.jsx(gr,{path:"/contact",element:R.jsx(X5,{})}),R.jsx(gr,{path:"/login",element:R.jsx(Q5,{})}),R.jsx(gr,{path:"/pet/:id",element:R.jsx(Z5,{})}),R.jsx(gr,{path:"/admin-dashboard",element:R.jsx(sF,{})}),R.jsx(gr,{path:"/shelter-info",element:R.jsx(J5,{})})]})]})})}const oF=F.createContext(),lF=({children:e})=>{const[t,n]=F.useState(null);return F.useEffect(()=>{const r=KS(En,a=>{n(a)});return()=>r()},[]),R.jsx(oF.Provider,{value:{currentUser:t},children:e})};F2.createRoot(document.getElementById("root")).render(R.jsx(lF,{children:R.jsx(aF,{})}));
